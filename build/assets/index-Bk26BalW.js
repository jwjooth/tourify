function TT(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function C_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Vf={exports:{}},Ya={},Of={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function ST(){if(my)return je;my=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function S(z){return z===null||typeof z!="object"?null:(z=E&&z[E]||z["@@iterator"],typeof z=="function"?z:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,A={};function N(z,J,me){this.props=z,this.context=J,this.refs=A,this.updater=me||R}N.prototype.isReactComponent={},N.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},N.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function W(){}W.prototype=N.prototype;function $(z,J,me){this.props=z,this.context=J,this.refs=A,this.updater=me||R}var G=$.prototype=new W;G.constructor=$,M(G,N.prototype),G.isPureReactComponent=!0;var K=Array.isArray,Z=Object.prototype.hasOwnProperty,se={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function T(z,J,me){var pe,ke={},Ne=null,re=null;if(J!=null)for(pe in J.ref!==void 0&&(re=J.ref),J.key!==void 0&&(Ne=""+J.key),J)Z.call(J,pe)&&!C.hasOwnProperty(pe)&&(ke[pe]=J[pe]);var xe=arguments.length-2;if(xe===1)ke.children=me;else if(1<xe){for(var be=Array(xe),Ve=0;Ve<xe;Ve++)be[Ve]=arguments[Ve+2];ke.children=be}if(z&&z.defaultProps)for(pe in xe=z.defaultProps,xe)ke[pe]===void 0&&(ke[pe]=xe[pe]);return{$$typeof:n,type:z,key:Ne,ref:re,props:ke,_owner:se.current}}function k(z,J){return{$$typeof:n,type:z.type,key:J,ref:z.ref,props:z.props,_owner:z._owner}}function O(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function V(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(me){return J[me]})}var F=/\/+/g;function P(z,J){return typeof z=="object"&&z!==null&&z.key!=null?V(""+z.key):J.toString(36)}function we(z,J,me,pe,ke){var Ne=typeof z;(Ne==="undefined"||Ne==="boolean")&&(z=null);var re=!1;if(z===null)re=!0;else switch(Ne){case"string":case"number":re=!0;break;case"object":switch(z.$$typeof){case n:case e:re=!0}}if(re)return re=z,ke=ke(re),z=pe===""?"."+P(re,0):pe,K(ke)?(me="",z!=null&&(me=z.replace(F,"$&/")+"/"),we(ke,J,me,"",function(Ve){return Ve})):ke!=null&&(O(ke)&&(ke=k(ke,me+(!ke.key||re&&re.key===ke.key?"":(""+ke.key).replace(F,"$&/")+"/")+z)),J.push(ke)),1;if(re=0,pe=pe===""?".":pe+":",K(z))for(var xe=0;xe<z.length;xe++){Ne=z[xe];var be=pe+P(Ne,xe);re+=we(Ne,J,me,be,ke)}else if(be=S(z),typeof be=="function")for(z=be.call(z),xe=0;!(Ne=z.next()).done;)Ne=Ne.value,be=pe+P(Ne,xe++),re+=we(Ne,J,me,be,ke);else if(Ne==="object")throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return re}function Re(z,J,me){if(z==null)return z;var pe=[],ke=0;return we(z,pe,"","",function(Ne){return J.call(me,Ne,ke++)}),pe}function Te(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(me){(z._status===0||z._status===-1)&&(z._status=1,z._result=me)},function(me){(z._status===0||z._status===-1)&&(z._status=2,z._result=me)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var _e={current:null},U={transition:null},le={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:U,ReactCurrentOwner:se};function ae(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:Re,forEach:function(z,J,me){Re(z,function(){J.apply(this,arguments)},me)},count:function(z){var J=0;return Re(z,function(){J++}),J},toArray:function(z){return Re(z,function(J){return J})||[]},only:function(z){if(!O(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},je.Component=N,je.Fragment=t,je.Profiler=o,je.PureComponent=$,je.StrictMode=i,je.Suspense=p,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,je.act=ae,je.cloneElement=function(z,J,me){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var pe=M({},z.props),ke=z.key,Ne=z.ref,re=z._owner;if(J!=null){if(J.ref!==void 0&&(Ne=J.ref,re=se.current),J.key!==void 0&&(ke=""+J.key),z.type&&z.type.defaultProps)var xe=z.type.defaultProps;for(be in J)Z.call(J,be)&&!C.hasOwnProperty(be)&&(pe[be]=J[be]===void 0&&xe!==void 0?xe[be]:J[be])}var be=arguments.length-2;if(be===1)pe.children=me;else if(1<be){xe=Array(be);for(var Ve=0;Ve<be;Ve++)xe[Ve]=arguments[Ve+2];pe.children=xe}return{$$typeof:n,type:z.type,key:ke,ref:Ne,props:pe,_owner:re}},je.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:l,_context:z},z.Consumer=z},je.createElement=T,je.createFactory=function(z){var J=T.bind(null,z);return J.type=z,J},je.createRef=function(){return{current:null}},je.forwardRef=function(z){return{$$typeof:f,render:z}},je.isValidElement=O,je.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:Te}},je.memo=function(z,J){return{$$typeof:y,type:z,compare:J===void 0?null:J}},je.startTransition=function(z){var J=U.transition;U.transition={};try{z()}finally{U.transition=J}},je.unstable_act=ae,je.useCallback=function(z,J){return _e.current.useCallback(z,J)},je.useContext=function(z){return _e.current.useContext(z)},je.useDebugValue=function(){},je.useDeferredValue=function(z){return _e.current.useDeferredValue(z)},je.useEffect=function(z,J){return _e.current.useEffect(z,J)},je.useId=function(){return _e.current.useId()},je.useImperativeHandle=function(z,J,me){return _e.current.useImperativeHandle(z,J,me)},je.useInsertionEffect=function(z,J){return _e.current.useInsertionEffect(z,J)},je.useLayoutEffect=function(z,J){return _e.current.useLayoutEffect(z,J)},je.useMemo=function(z,J){return _e.current.useMemo(z,J)},je.useReducer=function(z,J,me){return _e.current.useReducer(z,J,me)},je.useRef=function(z){return _e.current.useRef(z)},je.useState=function(z){return _e.current.useState(z)},je.useSyncExternalStore=function(z,J,me){return _e.current.useSyncExternalStore(z,J,me)},je.useTransition=function(){return _e.current.useTransition()},je.version="18.3.1",je}var gy;function Wh(){return gy||(gy=1,Of.exports=ST()),Of.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function xT(){if(yy)return Ya;yy=1;var n=Wh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,y){var _,E={},S=null,R=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(R=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(E[_]=p[_]);if(f&&f.defaultProps)for(_ in p=f.defaultProps,p)E[_]===void 0&&(E[_]=p[_]);return{$$typeof:e,type:f,key:S,ref:R,props:E,_owner:o.current}}return Ya.Fragment=t,Ya.jsx=c,Ya.jsxs=c,Ya}var vy;function IT(){return vy||(vy=1,Vf.exports=xT()),Vf.exports}var I=IT(),Qu={},Mf={exports:{}},sn={},Lf={exports:{}},Ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function AT(){return _y||(_y=1,(function(n){function e(U,le){var ae=U.length;U.push(le);e:for(;0<ae;){var z=ae-1>>>1,J=U[z];if(0<o(J,le))U[z]=le,U[ae]=J,ae=z;else break e}}function t(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var le=U[0],ae=U.pop();if(ae!==le){U[0]=ae;e:for(var z=0,J=U.length,me=J>>>1;z<me;){var pe=2*(z+1)-1,ke=U[pe],Ne=pe+1,re=U[Ne];if(0>o(ke,ae))Ne<J&&0>o(re,ke)?(U[z]=re,U[Ne]=ae,z=Ne):(U[z]=ke,U[pe]=ae,z=pe);else if(Ne<J&&0>o(re,ae))U[z]=re,U[Ne]=ae,z=Ne;else break e}}return le}function o(U,le){var ae=U.sortIndex-le.sortIndex;return ae!==0?ae:U.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],y=[],_=1,E=null,S=3,R=!1,M=!1,A=!1,N=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(U){for(var le=t(y);le!==null;){if(le.callback===null)i(y);else if(le.startTime<=U)i(y),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(y)}}function K(U){if(A=!1,G(U),!M)if(t(p)!==null)M=!0,Te(Z);else{var le=t(y);le!==null&&_e(K,le.startTime-U)}}function Z(U,le){M=!1,A&&(A=!1,W(T),T=-1),R=!0;var ae=S;try{for(G(le),E=t(p);E!==null&&(!(E.expirationTime>le)||U&&!V());){var z=E.callback;if(typeof z=="function"){E.callback=null,S=E.priorityLevel;var J=z(E.expirationTime<=le);le=n.unstable_now(),typeof J=="function"?E.callback=J:E===t(p)&&i(p),G(le)}else i(p);E=t(p)}if(E!==null)var me=!0;else{var pe=t(y);pe!==null&&_e(K,pe.startTime-le),me=!1}return me}finally{E=null,S=ae,R=!1}}var se=!1,C=null,T=-1,k=5,O=-1;function V(){return!(n.unstable_now()-O<k)}function F(){if(C!==null){var U=n.unstable_now();O=U;var le=!0;try{le=C(!0,U)}finally{le?P():(se=!1,C=null)}}else se=!1}var P;if(typeof $=="function")P=function(){$(F)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Re=we.port2;we.port1.onmessage=F,P=function(){Re.postMessage(null)}}else P=function(){N(F,0)};function Te(U){C=U,se||(se=!0,P())}function _e(U,le){T=N(function(){U(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){M||R||(M=!0,Te(Z))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(U){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var ae=S;S=le;try{return U()}finally{S=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,le){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ae=S;S=U;try{return le()}finally{S=ae}},n.unstable_scheduleCallback=function(U,le,ae){var z=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?z+ae:z):ae=z,U){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ae+J,U={id:_++,callback:le,priorityLevel:U,startTime:ae,expirationTime:J,sortIndex:-1},ae>z?(U.sortIndex=ae,e(y,U),t(p)===null&&U===t(y)&&(A?(W(T),T=-1):A=!0,_e(K,ae-z))):(U.sortIndex=J,e(p,U),M||R||(M=!0,Te(Z))),U},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(U){var le=S;return function(){var ae=S;S=le;try{return U.apply(this,arguments)}finally{S=ae}}}})(Ff)),Ff}var wy;function CT(){return wy||(wy=1,Lf.exports=AT()),Lf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function RT(){if(Ey)return sn;Ey=1;var n=Wh(),e=CT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function S(r){return p.call(E,r)?!0:p.call(_,r)?!1:y.test(r)?E[r]=!0:(_[r]=!0,!1)}function R(r,s,a,d){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function M(r,s,a,d){if(s===null||typeof s>"u"||R(r,s,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function A(r,s,a,d,h,m,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=m,this.removeEmptyString=w}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new A(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];N[s]=new A(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new A(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new A(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new A(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new A(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new A(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new A(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new A(r,5,!1,r.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function $(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(W,$);N[s]=new A(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(W,$);N[s]=new A(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(W,$);N[s]=new A(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new A(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new A(r,1,!1,r.toLowerCase(),null,!0,!0)});function G(r,s,a,d){var h=N.hasOwnProperty(s)?N[s]:null;(h!==null?h.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(M(s,a,h,d)&&(a=null),d||h===null?S(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):h.mustUseProperty?r[h.propertyName]=a===null?h.type===3?!1:"":a:(s=h.attributeName,d=h.attributeNamespace,a===null?r.removeAttribute(s):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,d?r.setAttributeNS(d,s,a):r.setAttribute(s,a))))}var K=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),se=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),V=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),U=Symbol.iterator;function le(r){return r===null||typeof r!="object"?null:(r=U&&r[U]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,z;function J(r){if(z===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);z=s&&s[1]||""}return`
`+z+r}var me=!1;function pe(r,s){if(!r||me)return"";me=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var d=Q}Reflect.construct(r,[],s)}else{try{s.call()}catch(Q){d=Q}r.call(s.prototype)}else{try{throw Error()}catch(Q){d=Q}r()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var h=Q.stack.split(`
`),m=d.stack.split(`
`),w=h.length-1,b=m.length-1;1<=w&&0<=b&&h[w]!==m[b];)b--;for(;1<=w&&0<=b;w--,b--)if(h[w]!==m[b]){if(w!==1||b!==1)do if(w--,b--,0>b||h[w]!==m[b]){var L=`
`+h[w].replace(" at new "," at ");return r.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",r.displayName)),L}while(1<=w&&0<=b);break}}}finally{me=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?J(r):""}function ke(r){switch(r.tag){case 5:return J(r.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return r=pe(r.type,!1),r;case 11:return r=pe(r.type.render,!1),r;case 1:return r=pe(r.type,!0),r;default:return""}}function Ne(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case se:return"Portal";case k:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case we:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case V:return(r.displayName||"Context")+".Consumer";case O:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Re:return s=r.displayName||null,s!==null?s:Ne(r.type)||"Memo";case Te:s=r._payload,r=r._init;try{return Ne(r(s))}catch{}}return null}function re(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(s);case 8:return s===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function xe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function be(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ve(r){var s=be(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(w){d=""+w,m.call(this,w)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Be(r){r._valueTracker||(r._valueTracker=Ve(r))}function Ke(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),d="";return r&&(d=be(r)?r.checked?"true":"false":r.value),r=d,r!==a?(s.setValue(r),!0):!1}function dt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Jt(r,s){var a=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function ei(r,s){var a=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;a=xe(s.value!=null?s.value:a),r._wrapperState={initialChecked:d,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Gn(r,s){s=s.checked,s!=null&&G(r,"checked",s,!1)}function bn(r,s){Gn(r,s);var a=xe(s.value),d=s.type;if(a!=null)d==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?yt(r,s.type,a):s.hasOwnProperty("defaultValue")&&yt(r,s.type,xe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function ra(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function yt(r,s,a){(s!=="number"||dt(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var ft=Array.isArray;function Nn(r,s,a,d){if(r=r.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=s.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&d&&(r[a].defaultSelected=!0)}else{for(a=""+xe(a),s=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,d&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function ia(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function sa(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(ft(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:xe(a)}}function Ol(r,s){var a=xe(s.value),d=xe(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),d!=null&&(r.defaultValue=""+d)}function ti(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function oa(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bs(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?oa(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var ni,Ml=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,d,h){MSApp.execUnsafeLocalFunction(function(){return r(s,a,d,h)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(ni=ni||document.createElement("div"),ni.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ni.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Xi(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ll=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(r){Ll.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ri[s]=ri[r]})});function ii(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||ri.hasOwnProperty(r)&&ri[r]?(""+s).trim():s+"px"}function $s(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var d=a.indexOf("--")===0,h=ii(a,s[a],d);a==="float"&&(a="cssFloat"),d?r.setProperty(a,h):r[a]=h}}var aa=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dn(r,s){if(s){if(aa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Hs(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var si=null;function Ws(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Cr=null,Rr=null,ut=null;function la(r){if(r=Oa(r)){if(typeof Cr!="function")throw Error(t(280));var s=r.stateNode;s&&(s=cu(s),Cr(r.stateNode,r.type,s))}}function oi(r){Rr?ut?ut.push(r):ut=[r]:Rr=r}function ai(){if(Rr){var r=Rr,s=ut;if(ut=Rr=null,la(r),s)for(r=0;r<s.length;r++)la(s[r])}}function Fl(r,s){return r(s)}function jl(){}var Kn=!1;function zl(r,s,a){if(Kn)return r(s,a);Kn=!0;try{return Fl(r,s,a)}finally{Kn=!1,(Rr!==null||ut!==null)&&(jl(),ai())}}function Ji(r,s){var a=r.stateNode;if(a===null)return null;var d=cu(a);if(d===null)return null;a=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var li=!1;if(f)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){li=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{li=!1}function Ul(r,s,a,d,h,m,w,b,L){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(a,Q)}catch(ne){this.onError(ne)}}var Pr=!1,Qn=null,qs=!1,En=null,Bl={onError:function(r){Pr=!0,Qn=r}};function $l(r,s,a,d,h,m,w,b,L){Pr=!1,Qn=null,Ul.apply(Bl,arguments)}function ua(r,s,a,d,h,m,w,b,L){if($l.apply(this,arguments),Pr){if(Pr){var Q=Qn;Pr=!1,Qn=null}else throw Error(t(198));qs||(qs=!0,En=Q)}}function Vn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function ca(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Hl(r){if(Vn(r)!==r)throw Error(t(188))}function Wl(r){var s=r.alternate;if(!s){if(s=Vn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,d=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(d=h.return,d!==null){a=d;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return Hl(h),r;if(m===d)return Hl(h),s;m=m.sibling}throw Error(t(188))}if(a.return!==d.return)a=h,d=m;else{for(var w=!1,b=h.child;b;){if(b===a){w=!0,a=h,d=m;break}if(b===d){w=!0,d=h,a=m;break}b=b.sibling}if(!w){for(b=m.child;b;){if(b===a){w=!0,a=m,d=h;break}if(b===d){w=!0,d=m,a=h;break}b=b.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==d)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ql(r){return r=Wl(r),r!==null?Zi(r):null}function Zi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Zi(r);if(s!==null)return s;r=r.sibling}return null}var da=e.unstable_scheduleCallback,Gs=e.unstable_cancelCallback,es=e.unstable_shouldYield,kr=e.unstable_requestPaint,tt=e.unstable_now,cd=e.unstable_getCurrentPriorityLevel,Ks=e.unstable_ImmediatePriority,fa=e.unstable_UserBlockingPriority,ts=e.unstable_NormalPriority,ha=e.unstable_LowPriority,Qs=e.unstable_IdlePriority,ns=null,un=null;function Gl(r){if(un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(ns,r,void 0,(r.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:rs,Yn=Math.log,Tn=Math.LN2;function rs(r){return r>>>=0,r===0?32:31-(Yn(r)/Tn|0)|0}var Xn=64,ci=4194304;function Qe(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function br(r,s){var a=r.pendingLanes;if(a===0)return 0;var d=0,h=r.suspendedLanes,m=r.pingedLanes,w=a&268435455;if(w!==0){var b=w&~h;b!==0?d=Qe(b):(m&=w,m!==0&&(d=Qe(m)))}else w=a&~h,w!==0?d=Qe(w):m!==0&&(d=Qe(m));if(d===0)return 0;if(s!==0&&s!==d&&(s&h)===0&&(h=d&-d,m=s&-s,h>=m||h===16&&(m&4194240)!==0))return s;if((d&4)!==0&&(d|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)a=31-cn(s),h=1<<a,d|=r[a],s&=~h;return d}function is(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ss(r,s){for(var a=r.suspendedLanes,d=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes;0<m;){var w=31-cn(m),b=1<<w,L=h[w];L===-1?((b&a)===0||(b&d)!==0)&&(h[w]=is(b,s)):L<=s&&(r.expiredLanes|=b),m&=~b}}function pa(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ma(){var r=Xn;return Xn<<=1,(Xn&4194240)===0&&(Xn=64),r}function ga(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function os(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-cn(s),r[s]=a}function dd(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<a;){var h=31-cn(a),m=1<<h;s[h]=0,d[h]=-1,r[h]=-1,a&=~m}}function ya(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var d=31-cn(a),h=1<<d;h&s|r[d]&s&&(r[d]|=s),a&=~h}}var $e=0;function Jn(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var va,Ys,_a,wa,Ea,Zn=!1,Xs=[],er=null,tr=null,Dt=null,as=new Map,Nr=new Map,dn=[],Kl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function di(r,s){switch(r){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":as.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nr.delete(s.pointerId)}}function On(r,s,a,d,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:a,eventSystemFlags:d,nativeEvent:m,targetContainers:[h]},s!==null&&(s=Oa(s),s!==null&&Ys(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function Ql(r,s,a,d,h){switch(s){case"focusin":return er=On(er,r,s,a,d,h),!0;case"dragenter":return tr=On(tr,r,s,a,d,h),!0;case"mouseover":return Dt=On(Dt,r,s,a,d,h),!0;case"pointerover":var m=h.pointerId;return as.set(m,On(as.get(m)||null,r,s,a,d,h)),!0;case"gotpointercapture":return m=h.pointerId,Nr.set(m,On(Nr.get(m)||null,r,s,a,d,h)),!0}return!1}function Js(r){var s=ds(r.target);if(s!==null){var a=Vn(s);if(a!==null){if(s=a.tag,s===13){if(s=ca(a),s!==null){r.blockedOn=s,Ea(r.priority,function(){_a(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Je(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Zs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var d=new a.constructor(a.type,a);si=d,a.target.dispatchEvent(d),si=null}else return s=Oa(a),s!==null&&Ys(s),r.blockedOn=a,!1;s.shift()}return!0}function Yl(r,s,a){Je(r)&&a.delete(s)}function fd(){Zn=!1,er!==null&&Je(er)&&(er=null),tr!==null&&Je(tr)&&(tr=null),Dt!==null&&Je(Dt)&&(Dt=null),as.forEach(Yl),Nr.forEach(Yl)}function fi(r,s){r.blockedOn===s&&(r.blockedOn=null,Zn||(Zn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fd)))}function hi(r){function s(h){return fi(h,r)}if(0<Xs.length){fi(Xs[0],r);for(var a=1;a<Xs.length;a++){var d=Xs[a];d.blockedOn===r&&(d.blockedOn=null)}}for(er!==null&&fi(er,r),tr!==null&&fi(tr,r),Dt!==null&&fi(Dt,r),as.forEach(s),Nr.forEach(s),a=0;a<dn.length;a++)d=dn[a],d.blockedOn===r&&(d.blockedOn=null);for(;0<dn.length&&(a=dn[0],a.blockedOn===null);)Js(a),a.blockedOn===null&&dn.shift()}var Dr=K.ReactCurrentBatchConfig,Vr=!0;function nr(r,s,a,d){var h=$e,m=Dr.transition;Dr.transition=null;try{$e=1,Ta(r,s,a,d)}finally{$e=h,Dr.transition=m}}function Xl(r,s,a,d){var h=$e,m=Dr.transition;Dr.transition=null;try{$e=4,Ta(r,s,a,d)}finally{$e=h,Dr.transition=m}}function Ta(r,s,a,d){if(Vr){var h=Zs(r,s,a,d);if(h===null)Sd(r,s,d,rr,a),di(r,d);else if(Ql(h,r,s,a,d))d.stopPropagation();else if(di(r,d),s&4&&-1<Kl.indexOf(r)){for(;h!==null;){var m=Oa(h);if(m!==null&&va(m),m=Zs(r,s,a,d),m===null&&Sd(r,s,d,rr,a),m===h)break;h=m}h!==null&&d.stopPropagation()}else Sd(r,s,d,null,a)}}var rr=null;function Zs(r,s,a,d){if(rr=null,r=Ws(d),r=ds(r),r!==null)if(s=Vn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=ca(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return rr=r,null}function eo(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cd()){case Ks:return 1;case fa:return 4;case ts:case ha:return 16;case Qs:return 536870912;default:return 16}default:return 16}}var fn=null,to=null,Or=null;function Jl(){if(Or)return Or;var r,s=to,a=s.length,d,h="value"in fn?fn.value:fn.textContent,m=h.length;for(r=0;r<a&&s[r]===h[r];r++);var w=a-r;for(d=1;d<=w&&s[a-d]===h[m-d];d++);return Or=h.slice(r,1<d?1-d:void 0)}function ls(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function ir(){return!0}function Sa(){return!1}function Ut(r){function s(a,d,h,m,w){this._reactName=a,this._targetInst=h,this.type=d,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(a=r[b],this[b]=a?a(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ir:Sa,this.isPropagationStopped=Sa,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),s}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=Ut(sr),pi=ae({},sr,{view:0,detail:0}),no=Ut(pi),ro,io,hn,cs=ae({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Me,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==hn&&(hn&&r.type==="mousemove"?(ro=r.screenX-hn.screenX,io=r.screenY-hn.screenY):io=ro=0,hn=r),ro)},movementY:function(r){return"movementY"in r?r.movementY:io}}),xa=Ut(cs),Zl=ae({},cs,{dataTransfer:0}),eu=Ut(Zl),so=ae({},pi,{relatedTarget:0}),Vt=Ut(so),tu=ae({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=Ut(tu),mi=ae({},sr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),u=Ut(mi),g=ae({},sr,{data:0}),v=Ut(g),x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},H={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ue(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Y[r])?!!s[r]:!1}function Me(){return ue}var ht=ae({},pi,{key:function(r){if(r.key){var s=x[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ls(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?H[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Me,charCode:function(r){return r.type==="keypress"?ls(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ls(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Xe=Ut(ht),vt=ae({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pn=Ut(vt),Mr=ae({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Me}),or=Ut(Mr),ar=ae({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),oo=Ut(ar),Ia=ae({},cs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),g1=Ut(Ia),y1=[9,13,27,32],hd=f&&"CompositionEvent"in window,Aa=null;f&&"documentMode"in document&&(Aa=document.documentMode);var v1=f&&"TextEvent"in window&&!Aa,am=f&&(!hd||Aa&&8<Aa&&11>=Aa),lm=" ",um=!1;function cm(r,s){switch(r){case"keyup":return y1.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ao=!1;function _1(r,s){switch(r){case"compositionend":return dm(s);case"keypress":return s.which!==32?null:(um=!0,lm);case"textInput":return r=s.data,r===lm&&um?null:r;default:return null}}function w1(r,s){if(ao)return r==="compositionend"||!hd&&cm(r,s)?(r=Jl(),Or=to=fn=null,ao=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return am&&s.locale!=="ko"?null:s.data;default:return null}}var E1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!E1[r.type]:s==="textarea"}function hm(r,s,a,d){oi(d),s=au(s,"onChange"),0<s.length&&(a=new us("onChange","change",null,a,d),r.push({event:a,listeners:s}))}var Ca=null,Ra=null;function T1(r){bm(r,0)}function ru(r){var s=ho(r);if(Ke(s))return r}function S1(r,s){if(r==="change")return s}var pm=!1;if(f){var pd;if(f){var md="oninput"in document;if(!md){var mm=document.createElement("div");mm.setAttribute("oninput","return;"),md=typeof mm.oninput=="function"}pd=md}else pd=!1;pm=pd&&(!document.documentMode||9<document.documentMode)}function gm(){Ca&&(Ca.detachEvent("onpropertychange",ym),Ra=Ca=null)}function ym(r){if(r.propertyName==="value"&&ru(Ra)){var s=[];hm(s,Ra,r,Ws(r)),zl(T1,s)}}function x1(r,s,a){r==="focusin"?(gm(),Ca=s,Ra=a,Ca.attachEvent("onpropertychange",ym)):r==="focusout"&&gm()}function I1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ru(Ra)}function A1(r,s){if(r==="click")return ru(s)}function C1(r,s){if(r==="input"||r==="change")return ru(s)}function R1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Mn=typeof Object.is=="function"?Object.is:R1;function Pa(r,s){if(Mn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),d=Object.keys(s);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var h=a[d];if(!p.call(s,h)||!Mn(r[h],s[h]))return!1}return!0}function vm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _m(r,s){var a=vm(r);r=0;for(var d;a;){if(a.nodeType===3){if(d=r+a.textContent.length,r<=s&&d>=s)return{node:a,offset:s-r};r=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vm(a)}}function wm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?wm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Em(){for(var r=window,s=dt();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=dt(r.document)}return s}function gd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function P1(r){var s=Em(),a=r.focusedElem,d=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&wm(a.ownerDocument.documentElement,a)){if(d!==null&&gd(a)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var h=a.textContent.length,m=Math.min(d.start,h);d=d.end===void 0?m:Math.min(d.end,h),!r.extend&&m>d&&(h=d,d=m,m=h),h=_m(a,m);var w=_m(a,d);h&&w&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),r.removeAllRanges(),m>d?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var k1=f&&"documentMode"in document&&11>=document.documentMode,lo=null,yd=null,ka=null,vd=!1;function Tm(r,s,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vd||lo==null||lo!==dt(d)||(d=lo,"selectionStart"in d&&gd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ka&&Pa(ka,d)||(ka=d,d=au(yd,"onSelect"),0<d.length&&(s=new us("onSelect","select",null,s,a),r.push({event:s,listeners:d}),s.target=lo)))}function iu(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var uo={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},_d={},Sm={};f&&(Sm=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function su(r){if(_d[r])return _d[r];if(!uo[r])return r;var s=uo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Sm)return _d[r]=s[a];return r}var xm=su("animationend"),Im=su("animationiteration"),Am=su("animationstart"),Cm=su("transitionend"),Rm=new Map,Pm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(r,s){Rm.set(r,s),l(s,[r])}for(var wd=0;wd<Pm.length;wd++){var Ed=Pm[wd],b1=Ed.toLowerCase(),N1=Ed[0].toUpperCase()+Ed.slice(1);gi(b1,"on"+N1)}gi(xm,"onAnimationEnd"),gi(Im,"onAnimationIteration"),gi(Am,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(Cm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D1=new Set("cancel close invalid load scroll toggle".split(" ").concat(ba));function km(r,s,a){var d=r.type||"unknown-event";r.currentTarget=a,ua(d,s,void 0,r),r.currentTarget=null}function bm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var d=r[a],h=d.event;d=d.listeners;e:{var m=void 0;if(s)for(var w=d.length-1;0<=w;w--){var b=d[w],L=b.instance,Q=b.currentTarget;if(b=b.listener,L!==m&&h.isPropagationStopped())break e;km(h,b,Q),m=L}else for(w=0;w<d.length;w++){if(b=d[w],L=b.instance,Q=b.currentTarget,b=b.listener,L!==m&&h.isPropagationStopped())break e;km(h,b,Q),m=L}}}if(qs)throw r=En,qs=!1,En=null,r}function nt(r,s){var a=s[Pd];a===void 0&&(a=s[Pd]=new Set);var d=r+"__bubble";a.has(d)||(Nm(s,r,2,!1),a.add(d))}function Td(r,s,a){var d=0;s&&(d|=4),Nm(a,r,d,s)}var ou="_reactListening"+Math.random().toString(36).slice(2);function Na(r){if(!r[ou]){r[ou]=!0,i.forEach(function(a){a!=="selectionchange"&&(D1.has(a)||Td(a,!1,r),Td(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ou]||(s[ou]=!0,Td("selectionchange",!1,s))}}function Nm(r,s,a,d){switch(eo(s)){case 1:var h=nr;break;case 4:h=Xl;break;default:h=Ta}a=h.bind(null,s,a,r),h=void 0,!li||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),d?h!==void 0?r.addEventListener(s,a,{capture:!0,passive:h}):r.addEventListener(s,a,!0):h!==void 0?r.addEventListener(s,a,{passive:h}):r.addEventListener(s,a,!1)}function Sd(r,s,a,d,h){var m=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var b=d.stateNode.containerInfo;if(b===h||b.nodeType===8&&b.parentNode===h)break;if(w===4)for(w=d.return;w!==null;){var L=w.tag;if((L===3||L===4)&&(L=w.stateNode.containerInfo,L===h||L.nodeType===8&&L.parentNode===h))return;w=w.return}for(;b!==null;){if(w=ds(b),w===null)return;if(L=w.tag,L===5||L===6){d=m=w;continue e}b=b.parentNode}}d=d.return}zl(function(){var Q=m,ne=Ws(a),ie=[];e:{var te=Rm.get(r);if(te!==void 0){var de=us,ge=r;switch(r){case"keypress":if(ls(a)===0)break e;case"keydown":case"keyup":de=Xe;break;case"focusin":ge="focus",de=Vt;break;case"focusout":ge="blur",de=Vt;break;case"beforeblur":case"afterblur":de=Vt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=xa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=or;break;case xm:case Im:case Am:de=nu;break;case Cm:de=oo;break;case"scroll":de=no;break;case"wheel":de=g1;break;case"copy":case"cut":case"paste":de=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=pn}var Ee=(s&4)!==0,pt=!Ee&&r==="scroll",B=Ee?te!==null?te+"Capture":null:te;Ee=[];for(var j=Q,q;j!==null;){q=j;var oe=q.stateNode;if(q.tag===5&&oe!==null&&(q=oe,B!==null&&(oe=Ji(j,B),oe!=null&&Ee.push(Da(j,oe,q)))),pt)break;j=j.return}0<Ee.length&&(te=new de(te,ge,null,a,ne),ie.push({event:te,listeners:Ee}))}}if((s&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",de=r==="mouseout"||r==="pointerout",te&&a!==si&&(ge=a.relatedTarget||a.fromElement)&&(ds(ge)||ge[Lr]))break e;if((de||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,de?(ge=a.relatedTarget||a.toElement,de=Q,ge=ge?ds(ge):null,ge!==null&&(pt=Vn(ge),ge!==pt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=Q),de!==ge)){if(Ee=xa,oe="onMouseLeave",B="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(Ee=pn,oe="onPointerLeave",B="onPointerEnter",j="pointer"),pt=de==null?te:ho(de),q=ge==null?te:ho(ge),te=new Ee(oe,j+"leave",de,a,ne),te.target=pt,te.relatedTarget=q,oe=null,ds(ne)===Q&&(Ee=new Ee(B,j+"enter",ge,a,ne),Ee.target=q,Ee.relatedTarget=pt,oe=Ee),pt=oe,de&&ge)t:{for(Ee=de,B=ge,j=0,q=Ee;q;q=co(q))j++;for(q=0,oe=B;oe;oe=co(oe))q++;for(;0<j-q;)Ee=co(Ee),j--;for(;0<q-j;)B=co(B),q--;for(;j--;){if(Ee===B||B!==null&&Ee===B.alternate)break t;Ee=co(Ee),B=co(B)}Ee=null}else Ee=null;de!==null&&Dm(ie,te,de,Ee,!1),ge!==null&&pt!==null&&Dm(ie,pt,ge,Ee,!0)}}e:{if(te=Q?ho(Q):window,de=te.nodeName&&te.nodeName.toLowerCase(),de==="select"||de==="input"&&te.type==="file")var Se=S1;else if(fm(te))if(pm)Se=C1;else{Se=I1;var Ae=x1}else(de=te.nodeName)&&de.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(Se=A1);if(Se&&(Se=Se(r,Q))){hm(ie,Se,a,ne);break e}Ae&&Ae(r,te,Q),r==="focusout"&&(Ae=te._wrapperState)&&Ae.controlled&&te.type==="number"&&yt(te,"number",te.value)}switch(Ae=Q?ho(Q):window,r){case"focusin":(fm(Ae)||Ae.contentEditable==="true")&&(lo=Ae,yd=Q,ka=null);break;case"focusout":ka=yd=lo=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,Tm(ie,a,ne);break;case"selectionchange":if(k1)break;case"keydown":case"keyup":Tm(ie,a,ne)}var Ce;if(hd)e:{switch(r){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ao?cm(r,a)&&(De="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(am&&a.locale!=="ko"&&(ao||De!=="onCompositionStart"?De==="onCompositionEnd"&&ao&&(Ce=Jl()):(fn=ne,to="value"in fn?fn.value:fn.textContent,ao=!0)),Ae=au(Q,De),0<Ae.length&&(De=new v(De,r,null,a,ne),ie.push({event:De,listeners:Ae}),Ce?De.data=Ce:(Ce=dm(a),Ce!==null&&(De.data=Ce)))),(Ce=v1?_1(r,a):w1(r,a))&&(Q=au(Q,"onBeforeInput"),0<Q.length&&(ne=new v("onBeforeInput","beforeinput",null,a,ne),ie.push({event:ne,listeners:Q}),ne.data=Ce))}bm(ie,s)})}function Da(r,s,a){return{instance:r,listener:s,currentTarget:a}}function au(r,s){for(var a=s+"Capture",d=[];r!==null;){var h=r,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=Ji(r,a),m!=null&&d.unshift(Da(r,m,h)),m=Ji(r,s),m!=null&&d.push(Da(r,m,h))),r=r.return}return d}function co(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Dm(r,s,a,d,h){for(var m=s._reactName,w=[];a!==null&&a!==d;){var b=a,L=b.alternate,Q=b.stateNode;if(L!==null&&L===d)break;b.tag===5&&Q!==null&&(b=Q,h?(L=Ji(a,m),L!=null&&w.unshift(Da(a,L,b))):h||(L=Ji(a,m),L!=null&&w.push(Da(a,L,b)))),a=a.return}w.length!==0&&r.push({event:s,listeners:w})}var V1=/\r\n?/g,O1=/\u0000|\uFFFD/g;function Vm(r){return(typeof r=="string"?r:""+r).replace(V1,`
`).replace(O1,"")}function lu(r,s,a){if(s=Vm(s),Vm(r)!==s&&a)throw Error(t(425))}function uu(){}var xd=null,Id=null;function Ad(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cd=typeof setTimeout=="function"?setTimeout:void 0,M1=typeof clearTimeout=="function"?clearTimeout:void 0,Om=typeof Promise=="function"?Promise:void 0,L1=typeof queueMicrotask=="function"?queueMicrotask:typeof Om<"u"?function(r){return Om.resolve(null).then(r).catch(F1)}:Cd;function F1(r){setTimeout(function(){throw r})}function Rd(r,s){var a=s,d=0;do{var h=a.nextSibling;if(r.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(d===0){r.removeChild(h),hi(s);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=h}while(a);hi(s)}function yi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Mm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var fo=Math.random().toString(36).slice(2),lr="__reactFiber$"+fo,Va="__reactProps$"+fo,Lr="__reactContainer$"+fo,Pd="__reactEvents$"+fo,j1="__reactListeners$"+fo,z1="__reactHandles$"+fo;function ds(r){var s=r[lr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Lr]||a[lr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Mm(r);r!==null;){if(a=r[lr])return a;r=Mm(r)}return s}r=a,a=r.parentNode}return null}function Oa(r){return r=r[lr]||r[Lr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ho(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function cu(r){return r[Va]||null}var kd=[],po=-1;function vi(r){return{current:r}}function rt(r){0>po||(r.current=kd[po],kd[po]=null,po--)}function et(r,s){po++,kd[po]=r.current,r.current=s}var _i={},Bt=vi(_i),Zt=vi(!1),fs=_i;function mo(r,s){var a=r.type.contextTypes;if(!a)return _i;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in a)h[m]=s[m];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=h),h}function en(r){return r=r.childContextTypes,r!=null}function du(){rt(Zt),rt(Bt)}function Lm(r,s,a){if(Bt.current!==_i)throw Error(t(168));et(Bt,s),et(Zt,a)}function Fm(r,s,a){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var h in d)if(!(h in s))throw Error(t(108,re(r)||"Unknown",h));return ae({},a,d)}function fu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||_i,fs=Bt.current,et(Bt,r),et(Zt,Zt.current),!0}function jm(r,s,a){var d=r.stateNode;if(!d)throw Error(t(169));a?(r=Fm(r,s,fs),d.__reactInternalMemoizedMergedChildContext=r,rt(Zt),rt(Bt),et(Bt,r)):rt(Zt),et(Zt,a)}var Fr=null,hu=!1,bd=!1;function zm(r){Fr===null?Fr=[r]:Fr.push(r)}function U1(r){hu=!0,zm(r)}function wi(){if(!bd&&Fr!==null){bd=!0;var r=0,s=$e;try{var a=Fr;for($e=1;r<a.length;r++){var d=a[r];do d=d(!0);while(d!==null)}Fr=null,hu=!1}catch(h){throw Fr!==null&&(Fr=Fr.slice(r+1)),da(Ks,wi),h}finally{$e=s,bd=!1}}return null}var go=[],yo=0,pu=null,mu=0,Sn=[],xn=0,hs=null,jr=1,zr="";function ps(r,s){go[yo++]=mu,go[yo++]=pu,pu=r,mu=s}function Um(r,s,a){Sn[xn++]=jr,Sn[xn++]=zr,Sn[xn++]=hs,hs=r;var d=jr;r=zr;var h=32-cn(d)-1;d&=~(1<<h),a+=1;var m=32-cn(s)+h;if(30<m){var w=h-h%5;m=(d&(1<<w)-1).toString(32),d>>=w,h-=w,jr=1<<32-cn(s)+h|a<<h|d,zr=m+r}else jr=1<<m|a<<h|d,zr=r}function Nd(r){r.return!==null&&(ps(r,1),Um(r,1,0))}function Dd(r){for(;r===pu;)pu=go[--yo],go[yo]=null,mu=go[--yo],go[yo]=null;for(;r===hs;)hs=Sn[--xn],Sn[xn]=null,zr=Sn[--xn],Sn[xn]=null,jr=Sn[--xn],Sn[xn]=null}var mn=null,gn=null,st=!1,Ln=null;function Bm(r,s){var a=Rn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function $m(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,mn=r,gn=yi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,mn=r,gn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=hs!==null?{id:jr,overflow:zr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Rn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,mn=r,gn=null,!0):!1;default:return!1}}function Vd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Od(r){if(st){var s=gn;if(s){var a=s;if(!$m(r,s)){if(Vd(r))throw Error(t(418));s=yi(a.nextSibling);var d=mn;s&&$m(r,s)?Bm(d,a):(r.flags=r.flags&-4097|2,st=!1,mn=r)}}else{if(Vd(r))throw Error(t(418));r.flags=r.flags&-4097|2,st=!1,mn=r}}}function Hm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;mn=r}function gu(r){if(r!==mn)return!1;if(!st)return Hm(r),st=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ad(r.type,r.memoizedProps)),s&&(s=gn)){if(Vd(r))throw Wm(),Error(t(418));for(;s;)Bm(r,s),s=yi(s.nextSibling)}if(Hm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){gn=yi(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}gn=null}}else gn=mn?yi(r.stateNode.nextSibling):null;return!0}function Wm(){for(var r=gn;r;)r=yi(r.nextSibling)}function vo(){gn=mn=null,st=!1}function Md(r){Ln===null?Ln=[r]:Ln.push(r)}var B1=K.ReactCurrentBatchConfig;function Ma(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var d=a.stateNode}if(!d)throw Error(t(147,r));var h=d,m=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(w){var b=h.refs;w===null?delete b[m]:b[m]=w},s._stringRef=m,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function yu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function qm(r){var s=r._init;return s(r._payload)}function Gm(r){function s(B,j){if(r){var q=B.deletions;q===null?(B.deletions=[j],B.flags|=16):q.push(j)}}function a(B,j){if(!r)return null;for(;j!==null;)s(B,j),j=j.sibling;return null}function d(B,j){for(B=new Map;j!==null;)j.key!==null?B.set(j.key,j):B.set(j.index,j),j=j.sibling;return B}function h(B,j){return B=Ri(B,j),B.index=0,B.sibling=null,B}function m(B,j,q){return B.index=q,r?(q=B.alternate,q!==null?(q=q.index,q<j?(B.flags|=2,j):q):(B.flags|=2,j)):(B.flags|=1048576,j)}function w(B){return r&&B.alternate===null&&(B.flags|=2),B}function b(B,j,q,oe){return j===null||j.tag!==6?(j=Rf(q,B.mode,oe),j.return=B,j):(j=h(j,q),j.return=B,j)}function L(B,j,q,oe){var Se=q.type;return Se===C?ne(B,j,q.props.children,oe,q.key):j!==null&&(j.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Te&&qm(Se)===j.type)?(oe=h(j,q.props),oe.ref=Ma(B,j,q),oe.return=B,oe):(oe=Uu(q.type,q.key,q.props,null,B.mode,oe),oe.ref=Ma(B,j,q),oe.return=B,oe)}function Q(B,j,q,oe){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Pf(q,B.mode,oe),j.return=B,j):(j=h(j,q.children||[]),j.return=B,j)}function ne(B,j,q,oe,Se){return j===null||j.tag!==7?(j=Ts(q,B.mode,oe,Se),j.return=B,j):(j=h(j,q),j.return=B,j)}function ie(B,j,q){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Rf(""+j,B.mode,q),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Z:return q=Uu(j.type,j.key,j.props,null,B.mode,q),q.ref=Ma(B,null,j),q.return=B,q;case se:return j=Pf(j,B.mode,q),j.return=B,j;case Te:var oe=j._init;return ie(B,oe(j._payload),q)}if(ft(j)||le(j))return j=Ts(j,B.mode,q,null),j.return=B,j;yu(B,j)}return null}function te(B,j,q,oe){var Se=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Se!==null?null:b(B,j,""+q,oe);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case Z:return q.key===Se?L(B,j,q,oe):null;case se:return q.key===Se?Q(B,j,q,oe):null;case Te:return Se=q._init,te(B,j,Se(q._payload),oe)}if(ft(q)||le(q))return Se!==null?null:ne(B,j,q,oe,null);yu(B,q)}return null}function de(B,j,q,oe,Se){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return B=B.get(q)||null,b(j,B,""+oe,Se);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Z:return B=B.get(oe.key===null?q:oe.key)||null,L(j,B,oe,Se);case se:return B=B.get(oe.key===null?q:oe.key)||null,Q(j,B,oe,Se);case Te:var Ae=oe._init;return de(B,j,q,Ae(oe._payload),Se)}if(ft(oe)||le(oe))return B=B.get(q)||null,ne(j,B,oe,Se,null);yu(j,oe)}return null}function ge(B,j,q,oe){for(var Se=null,Ae=null,Ce=j,De=j=0,bt=null;Ce!==null&&De<q.length;De++){Ce.index>De?(bt=Ce,Ce=null):bt=Ce.sibling;var Ge=te(B,Ce,q[De],oe);if(Ge===null){Ce===null&&(Ce=bt);break}r&&Ce&&Ge.alternate===null&&s(B,Ce),j=m(Ge,j,De),Ae===null?Se=Ge:Ae.sibling=Ge,Ae=Ge,Ce=bt}if(De===q.length)return a(B,Ce),st&&ps(B,De),Se;if(Ce===null){for(;De<q.length;De++)Ce=ie(B,q[De],oe),Ce!==null&&(j=m(Ce,j,De),Ae===null?Se=Ce:Ae.sibling=Ce,Ae=Ce);return st&&ps(B,De),Se}for(Ce=d(B,Ce);De<q.length;De++)bt=de(Ce,B,De,q[De],oe),bt!==null&&(r&&bt.alternate!==null&&Ce.delete(bt.key===null?De:bt.key),j=m(bt,j,De),Ae===null?Se=bt:Ae.sibling=bt,Ae=bt);return r&&Ce.forEach(function(Pi){return s(B,Pi)}),st&&ps(B,De),Se}function Ee(B,j,q,oe){var Se=le(q);if(typeof Se!="function")throw Error(t(150));if(q=Se.call(q),q==null)throw Error(t(151));for(var Ae=Se=null,Ce=j,De=j=0,bt=null,Ge=q.next();Ce!==null&&!Ge.done;De++,Ge=q.next()){Ce.index>De?(bt=Ce,Ce=null):bt=Ce.sibling;var Pi=te(B,Ce,Ge.value,oe);if(Pi===null){Ce===null&&(Ce=bt);break}r&&Ce&&Pi.alternate===null&&s(B,Ce),j=m(Pi,j,De),Ae===null?Se=Pi:Ae.sibling=Pi,Ae=Pi,Ce=bt}if(Ge.done)return a(B,Ce),st&&ps(B,De),Se;if(Ce===null){for(;!Ge.done;De++,Ge=q.next())Ge=ie(B,Ge.value,oe),Ge!==null&&(j=m(Ge,j,De),Ae===null?Se=Ge:Ae.sibling=Ge,Ae=Ge);return st&&ps(B,De),Se}for(Ce=d(B,Ce);!Ge.done;De++,Ge=q.next())Ge=de(Ce,B,De,Ge.value,oe),Ge!==null&&(r&&Ge.alternate!==null&&Ce.delete(Ge.key===null?De:Ge.key),j=m(Ge,j,De),Ae===null?Se=Ge:Ae.sibling=Ge,Ae=Ge);return r&&Ce.forEach(function(ET){return s(B,ET)}),st&&ps(B,De),Se}function pt(B,j,q,oe){if(typeof q=="object"&&q!==null&&q.type===C&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case Z:e:{for(var Se=q.key,Ae=j;Ae!==null;){if(Ae.key===Se){if(Se=q.type,Se===C){if(Ae.tag===7){a(B,Ae.sibling),j=h(Ae,q.props.children),j.return=B,B=j;break e}}else if(Ae.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Te&&qm(Se)===Ae.type){a(B,Ae.sibling),j=h(Ae,q.props),j.ref=Ma(B,Ae,q),j.return=B,B=j;break e}a(B,Ae);break}else s(B,Ae);Ae=Ae.sibling}q.type===C?(j=Ts(q.props.children,B.mode,oe,q.key),j.return=B,B=j):(oe=Uu(q.type,q.key,q.props,null,B.mode,oe),oe.ref=Ma(B,j,q),oe.return=B,B=oe)}return w(B);case se:e:{for(Ae=q.key;j!==null;){if(j.key===Ae)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){a(B,j.sibling),j=h(j,q.children||[]),j.return=B,B=j;break e}else{a(B,j);break}else s(B,j);j=j.sibling}j=Pf(q,B.mode,oe),j.return=B,B=j}return w(B);case Te:return Ae=q._init,pt(B,j,Ae(q._payload),oe)}if(ft(q))return ge(B,j,q,oe);if(le(q))return Ee(B,j,q,oe);yu(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,j!==null&&j.tag===6?(a(B,j.sibling),j=h(j,q),j.return=B,B=j):(a(B,j),j=Rf(q,B.mode,oe),j.return=B,B=j),w(B)):a(B,j)}return pt}var _o=Gm(!0),Km=Gm(!1),vu=vi(null),_u=null,wo=null,Ld=null;function Fd(){Ld=wo=_u=null}function jd(r){var s=vu.current;rt(vu),r._currentValue=s}function zd(r,s,a){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===a)break;r=r.return}}function Eo(r,s){_u=r,Ld=wo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(tn=!0),r.firstContext=null)}function In(r){var s=r._currentValue;if(Ld!==r)if(r={context:r,memoizedValue:s,next:null},wo===null){if(_u===null)throw Error(t(308));wo=r,_u.dependencies={lanes:0,firstContext:r}}else wo=wo.next=r;return s}var ms=null;function Ud(r){ms===null?ms=[r]:ms.push(r)}function Qm(r,s,a,d){var h=s.interleaved;return h===null?(a.next=a,Ud(s)):(a.next=h.next,h.next=a),s.interleaved=a,Ur(r,d)}function Ur(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Ei=!1;function Bd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ym(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Br(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Ti(r,s,a){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(qe&2)!==0){var h=d.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),d.pending=s,Ur(r,a)}return h=d.interleaved,h===null?(s.next=s,Ud(d)):(s.next=h.next,h.next=s),d.interleaved=s,Ur(r,a)}function wu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,a|=d,s.lanes=a,ya(r,a)}}function Xm(r,s){var a=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?h=m=w:m=m.next=w,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:d.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:d.shared,effects:d.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Eu(r,s,a,d){var h=r.updateQueue;Ei=!1;var m=h.firstBaseUpdate,w=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var L=b,Q=L.next;L.next=null,w===null?m=Q:w.next=Q,w=L;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,b=ne.lastBaseUpdate,b!==w&&(b===null?ne.firstBaseUpdate=Q:b.next=Q,ne.lastBaseUpdate=L))}if(m!==null){var ie=h.baseState;w=0,ne=Q=L=null,b=m;do{var te=b.lane,de=b.eventTime;if((d&te)===te){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var ge=r,Ee=b;switch(te=s,de=a,Ee.tag){case 1:if(ge=Ee.payload,typeof ge=="function"){ie=ge.call(de,ie,te);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Ee.payload,te=typeof ge=="function"?ge.call(de,ie,te):ge,te==null)break e;ie=ae({},ie,te);break e;case 2:Ei=!0}}b.callback!==null&&b.lane!==0&&(r.flags|=64,te=h.effects,te===null?h.effects=[b]:te.push(b))}else de={eventTime:de,lane:te,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ne===null?(Q=ne=de,L=ie):ne=ne.next=de,w|=te;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;te=b,b=te.next,te.next=null,h.lastBaseUpdate=te,h.shared.pending=null}}while(!0);if(ne===null&&(L=ie),h.baseState=L,h.firstBaseUpdate=Q,h.lastBaseUpdate=ne,s=h.shared.interleaved,s!==null){h=s;do w|=h.lane,h=h.next;while(h!==s)}else m===null&&(h.shared.lanes=0);vs|=w,r.lanes=w,r.memoizedState=ie}}function Jm(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],h=d.callback;if(h!==null){if(d.callback=null,d=a,typeof h!="function")throw Error(t(191,h));h.call(d)}}}var La={},ur=vi(La),Fa=vi(La),ja=vi(La);function gs(r){if(r===La)throw Error(t(174));return r}function $d(r,s){switch(et(ja,s),et(Fa,r),et(ur,La),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Bs(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Bs(s,r)}rt(ur),et(ur,s)}function To(){rt(ur),rt(Fa),rt(ja)}function Zm(r){gs(ja.current);var s=gs(ur.current),a=Bs(s,r.type);s!==a&&(et(Fa,r),et(ur,a))}function Hd(r){Fa.current===r&&(rt(ur),rt(Fa))}var ot=vi(0);function Tu(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Wd=[];function qd(){for(var r=0;r<Wd.length;r++)Wd[r]._workInProgressVersionPrimary=null;Wd.length=0}var Su=K.ReactCurrentDispatcher,Gd=K.ReactCurrentBatchConfig,ys=0,at=null,It=null,Pt=null,xu=!1,za=!1,Ua=0,$1=0;function $t(){throw Error(t(321))}function Kd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Mn(r[a],s[a]))return!1;return!0}function Qd(r,s,a,d,h,m){if(ys=m,at=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Su.current=r===null||r.memoizedState===null?G1:K1,r=a(d,h),za){m=0;do{if(za=!1,Ua=0,25<=m)throw Error(t(301));m+=1,Pt=It=null,s.updateQueue=null,Su.current=Q1,r=a(d,h)}while(za)}if(Su.current=Cu,s=It!==null&&It.next!==null,ys=0,Pt=It=at=null,xu=!1,s)throw Error(t(300));return r}function Yd(){var r=Ua!==0;return Ua=0,r}function cr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?at.memoizedState=Pt=r:Pt=Pt.next=r,Pt}function An(){if(It===null){var r=at.alternate;r=r!==null?r.memoizedState:null}else r=It.next;var s=Pt===null?at.memoizedState:Pt.next;if(s!==null)Pt=s,It=r;else{if(r===null)throw Error(t(310));It=r,r={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Pt===null?at.memoizedState=Pt=r:Pt=Pt.next=r}return Pt}function Ba(r,s){return typeof s=="function"?s(r):s}function Xd(r){var s=An(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var d=It,h=d.baseQueue,m=a.pending;if(m!==null){if(h!==null){var w=h.next;h.next=m.next,m.next=w}d.baseQueue=h=m,a.pending=null}if(h!==null){m=h.next,d=d.baseState;var b=w=null,L=null,Q=m;do{var ne=Q.lane;if((ys&ne)===ne)L!==null&&(L=L.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:r(d,Q.action);else{var ie={lane:ne,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};L===null?(b=L=ie,w=d):L=L.next=ie,at.lanes|=ne,vs|=ne}Q=Q.next}while(Q!==null&&Q!==m);L===null?w=d:L.next=b,Mn(d,s.memoizedState)||(tn=!0),s.memoizedState=d,s.baseState=w,s.baseQueue=L,a.lastRenderedState=d}if(r=a.interleaved,r!==null){h=r;do m=h.lane,at.lanes|=m,vs|=m,h=h.next;while(h!==r)}else h===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Jd(r){var s=An(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var d=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var w=h=h.next;do m=r(m,w.action),w=w.next;while(w!==h);Mn(m,s.memoizedState)||(tn=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,d]}function eg(){}function tg(r,s){var a=at,d=An(),h=s(),m=!Mn(d.memoizedState,h);if(m&&(d.memoizedState=h,tn=!0),d=d.queue,Zd(ig.bind(null,a,d,r),[r]),d.getSnapshot!==s||m||Pt!==null&&Pt.memoizedState.tag&1){if(a.flags|=2048,$a(9,rg.bind(null,a,d,h,s),void 0,null),kt===null)throw Error(t(349));(ys&30)!==0||ng(a,s,h)}return h}function ng(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function rg(r,s,a,d){s.value=a,s.getSnapshot=d,sg(s)&&og(r)}function ig(r,s,a){return a(function(){sg(s)&&og(r)})}function sg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Mn(r,a)}catch{return!0}}function og(r){var s=Ur(r,1);s!==null&&Un(s,r,1,-1)}function ag(r){var s=cr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:r},s.queue=r,r=r.dispatch=q1.bind(null,at,r),[s.memoizedState,r]}function $a(r,s,a,d){return r={tag:r,create:s,destroy:a,deps:d,next:null},s=at.updateQueue,s===null?(s={lastEffect:null,stores:null},at.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(d=a.next,a.next=r,r.next=d,s.lastEffect=r)),r}function lg(){return An().memoizedState}function Iu(r,s,a,d){var h=cr();at.flags|=r,h.memoizedState=$a(1|s,a,void 0,d===void 0?null:d)}function Au(r,s,a,d){var h=An();d=d===void 0?null:d;var m=void 0;if(It!==null){var w=It.memoizedState;if(m=w.destroy,d!==null&&Kd(d,w.deps)){h.memoizedState=$a(s,a,m,d);return}}at.flags|=r,h.memoizedState=$a(1|s,a,m,d)}function ug(r,s){return Iu(8390656,8,r,s)}function Zd(r,s){return Au(2048,8,r,s)}function cg(r,s){return Au(4,2,r,s)}function dg(r,s){return Au(4,4,r,s)}function fg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function hg(r,s,a){return a=a!=null?a.concat([r]):null,Au(4,4,fg.bind(null,s,r),a)}function ef(){}function pg(r,s){var a=An();s=s===void 0?null:s;var d=a.memoizedState;return d!==null&&s!==null&&Kd(s,d[1])?d[0]:(a.memoizedState=[r,s],r)}function mg(r,s){var a=An();s=s===void 0?null:s;var d=a.memoizedState;return d!==null&&s!==null&&Kd(s,d[1])?d[0]:(r=r(),a.memoizedState=[r,s],r)}function gg(r,s,a){return(ys&21)===0?(r.baseState&&(r.baseState=!1,tn=!0),r.memoizedState=a):(Mn(a,s)||(a=ma(),at.lanes|=a,vs|=a,r.baseState=!0),s)}function H1(r,s){var a=$e;$e=a!==0&&4>a?a:4,r(!0);var d=Gd.transition;Gd.transition={};try{r(!1),s()}finally{$e=a,Gd.transition=d}}function yg(){return An().memoizedState}function W1(r,s,a){var d=Ai(r);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},vg(r))_g(s,a);else if(a=Qm(r,s,a,d),a!==null){var h=Yt();Un(a,r,d,h),wg(a,s,d)}}function q1(r,s,a){var d=Ai(r),h={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(vg(r))_g(s,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var w=s.lastRenderedState,b=m(w,a);if(h.hasEagerState=!0,h.eagerState=b,Mn(b,w)){var L=s.interleaved;L===null?(h.next=h,Ud(s)):(h.next=L.next,L.next=h),s.interleaved=h;return}}catch{}finally{}a=Qm(r,s,h,d),a!==null&&(h=Yt(),Un(a,r,d,h),wg(a,s,d))}}function vg(r){var s=r.alternate;return r===at||s!==null&&s===at}function _g(r,s){za=xu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function wg(r,s,a){if((a&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,a|=d,s.lanes=a,ya(r,a)}}var Cu={readContext:In,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},G1={readContext:In,useCallback:function(r,s){return cr().memoizedState=[r,s===void 0?null:s],r},useContext:In,useEffect:ug,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Iu(4194308,4,fg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Iu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Iu(4,2,r,s)},useMemo:function(r,s){var a=cr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var d=cr();return s=a!==void 0?a(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=W1.bind(null,at,r),[d.memoizedState,r]},useRef:function(r){var s=cr();return r={current:r},s.memoizedState=r},useState:ag,useDebugValue:ef,useDeferredValue:function(r){return cr().memoizedState=r},useTransition:function(){var r=ag(!1),s=r[0];return r=H1.bind(null,r[1]),cr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var d=at,h=cr();if(st){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),kt===null)throw Error(t(349));(ys&30)!==0||ng(d,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,ug(ig.bind(null,d,m,r),[r]),d.flags|=2048,$a(9,rg.bind(null,d,m,a,s),void 0,null),a},useId:function(){var r=cr(),s=kt.identifierPrefix;if(st){var a=zr,d=jr;a=(d&~(1<<32-cn(d)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ua++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=$1++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},K1={readContext:In,useCallback:pg,useContext:In,useEffect:Zd,useImperativeHandle:hg,useInsertionEffect:cg,useLayoutEffect:dg,useMemo:mg,useReducer:Xd,useRef:lg,useState:function(){return Xd(Ba)},useDebugValue:ef,useDeferredValue:function(r){var s=An();return gg(s,It.memoizedState,r)},useTransition:function(){var r=Xd(Ba)[0],s=An().memoizedState;return[r,s]},useMutableSource:eg,useSyncExternalStore:tg,useId:yg,unstable_isNewReconciler:!1},Q1={readContext:In,useCallback:pg,useContext:In,useEffect:Zd,useImperativeHandle:hg,useInsertionEffect:cg,useLayoutEffect:dg,useMemo:mg,useReducer:Jd,useRef:lg,useState:function(){return Jd(Ba)},useDebugValue:ef,useDeferredValue:function(r){var s=An();return It===null?s.memoizedState=r:gg(s,It.memoizedState,r)},useTransition:function(){var r=Jd(Ba)[0],s=An().memoizedState;return[r,s]},useMutableSource:eg,useSyncExternalStore:tg,useId:yg,unstable_isNewReconciler:!1};function Fn(r,s){if(r&&r.defaultProps){s=ae({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function tf(r,s,a,d){s=r.memoizedState,a=a(d,s),a=a==null?s:ae({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ru={isMounted:function(r){return(r=r._reactInternals)?Vn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var d=Yt(),h=Ai(r),m=Br(d,h);m.payload=s,a!=null&&(m.callback=a),s=Ti(r,m,h),s!==null&&(Un(s,r,h,d),wu(s,r,h))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var d=Yt(),h=Ai(r),m=Br(d,h);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=Ti(r,m,h),s!==null&&(Un(s,r,h,d),wu(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Yt(),d=Ai(r),h=Br(a,d);h.tag=2,s!=null&&(h.callback=s),s=Ti(r,h,d),s!==null&&(Un(s,r,d,a),wu(s,r,d))}};function Eg(r,s,a,d,h,m,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,m,w):s.prototype&&s.prototype.isPureReactComponent?!Pa(a,d)||!Pa(h,m):!0}function Tg(r,s,a){var d=!1,h=_i,m=s.contextType;return typeof m=="object"&&m!==null?m=In(m):(h=en(s)?fs:Bt.current,d=s.contextTypes,m=(d=d!=null)?mo(r,h):_i),s=new s(a,m),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ru,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=m),s}function Sg(r,s,a,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,d),s.state!==r&&Ru.enqueueReplaceState(s,s.state,null)}function nf(r,s,a,d){var h=r.stateNode;h.props=a,h.state=r.memoizedState,h.refs={},Bd(r);var m=s.contextType;typeof m=="object"&&m!==null?h.context=In(m):(m=en(s)?fs:Bt.current,h.context=mo(r,m)),h.state=r.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(tf(r,s,m,a),h.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Ru.enqueueReplaceState(h,h.state,null),Eu(r,a,h,d),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function So(r,s){try{var a="",d=s;do a+=ke(d),d=d.return;while(d);var h=a}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:s,stack:h,digest:null}}function rf(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function sf(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Y1=typeof WeakMap=="function"?WeakMap:Map;function xg(r,s,a){a=Br(-1,a),a.tag=3,a.payload={element:null};var d=s.value;return a.callback=function(){Ou||(Ou=!0,wf=d),sf(r,s)},a}function Ig(r,s,a){a=Br(-1,a),a.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var h=s.value;a.payload=function(){return d(h)},a.callback=function(){sf(r,s)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){sf(r,s),typeof d!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),a}function Ag(r,s,a){var d=r.pingCache;if(d===null){d=r.pingCache=new Y1;var h=new Set;d.set(s,h)}else h=d.get(s),h===void 0&&(h=new Set,d.set(s,h));h.has(a)||(h.add(a),r=cT.bind(null,r,s,a),s.then(r,r))}function Cg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Rg(r,s,a,d,h){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Br(-1,1),s.tag=2,Ti(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=h,r)}var X1=K.ReactCurrentOwner,tn=!1;function Qt(r,s,a,d){s.child=r===null?Km(s,null,a,d):_o(s,r.child,a,d)}function Pg(r,s,a,d,h){a=a.render;var m=s.ref;return Eo(s,h),d=Qd(r,s,a,d,m,h),a=Yd(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,$r(r,s,h)):(st&&a&&Nd(s),s.flags|=1,Qt(r,s,d,h),s.child)}function kg(r,s,a,d,h){if(r===null){var m=a.type;return typeof m=="function"&&!Cf(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,bg(r,s,m,d,h)):(r=Uu(a.type,null,d,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,(r.lanes&h)===0){var w=m.memoizedProps;if(a=a.compare,a=a!==null?a:Pa,a(w,d)&&r.ref===s.ref)return $r(r,s,h)}return s.flags|=1,r=Ri(m,d),r.ref=s.ref,r.return=s,s.child=r}function bg(r,s,a,d,h){if(r!==null){var m=r.memoizedProps;if(Pa(m,d)&&r.ref===s.ref)if(tn=!1,s.pendingProps=d=m,(r.lanes&h)!==0)(r.flags&131072)!==0&&(tn=!0);else return s.lanes=r.lanes,$r(r,s,h)}return of(r,s,a,d,h)}function Ng(r,s,a){var d=s.pendingProps,h=d.children,m=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Io,yn),yn|=a;else{if((a&1073741824)===0)return r=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,et(Io,yn),yn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=m!==null?m.baseLanes:a,et(Io,yn),yn|=d}else m!==null?(d=m.baseLanes|a,s.memoizedState=null):d=a,et(Io,yn),yn|=d;return Qt(r,s,h,a),s.child}function Dg(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function of(r,s,a,d,h){var m=en(a)?fs:Bt.current;return m=mo(s,m),Eo(s,h),a=Qd(r,s,a,d,m,h),d=Yd(),r!==null&&!tn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,$r(r,s,h)):(st&&d&&Nd(s),s.flags|=1,Qt(r,s,a,h),s.child)}function Vg(r,s,a,d,h){if(en(a)){var m=!0;fu(s)}else m=!1;if(Eo(s,h),s.stateNode===null)ku(r,s),Tg(s,a,d),nf(s,a,d,h),d=!0;else if(r===null){var w=s.stateNode,b=s.memoizedProps;w.props=b;var L=w.context,Q=a.contextType;typeof Q=="object"&&Q!==null?Q=In(Q):(Q=en(a)?fs:Bt.current,Q=mo(s,Q));var ne=a.getDerivedStateFromProps,ie=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function";ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(b!==d||L!==Q)&&Sg(s,w,d,Q),Ei=!1;var te=s.memoizedState;w.state=te,Eu(s,d,w,h),L=s.memoizedState,b!==d||te!==L||Zt.current||Ei?(typeof ne=="function"&&(tf(s,a,ne,d),L=s.memoizedState),(b=Ei||Eg(s,a,b,d,te,L,Q))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=L),w.props=d,w.state=L,w.context=Q,d=b):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{w=s.stateNode,Ym(r,s),b=s.memoizedProps,Q=s.type===s.elementType?b:Fn(s.type,b),w.props=Q,ie=s.pendingProps,te=w.context,L=a.contextType,typeof L=="object"&&L!==null?L=In(L):(L=en(a)?fs:Bt.current,L=mo(s,L));var de=a.getDerivedStateFromProps;(ne=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(b!==ie||te!==L)&&Sg(s,w,d,L),Ei=!1,te=s.memoizedState,w.state=te,Eu(s,d,w,h);var ge=s.memoizedState;b!==ie||te!==ge||Zt.current||Ei?(typeof de=="function"&&(tf(s,a,de,d),ge=s.memoizedState),(Q=Ei||Eg(s,a,Q,d,te,ge,L)||!1)?(ne||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,ge,L),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,ge,L)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||b===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ge),w.props=d,w.state=ge,w.context=L,d=Q):(typeof w.componentDidUpdate!="function"||b===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),d=!1)}return af(r,s,a,d,m,h)}function af(r,s,a,d,h,m){Dg(r,s);var w=(s.flags&128)!==0;if(!d&&!w)return h&&jm(s,a,!1),$r(r,s,m);d=s.stateNode,X1.current=s;var b=w&&typeof a.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&w?(s.child=_o(s,r.child,null,m),s.child=_o(s,null,b,m)):Qt(r,s,b,m),s.memoizedState=d.state,h&&jm(s,a,!0),s.child}function Og(r){var s=r.stateNode;s.pendingContext?Lm(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Lm(r,s.context,!1),$d(r,s.containerInfo)}function Mg(r,s,a,d,h){return vo(),Md(h),s.flags|=256,Qt(r,s,a,d),s.child}var lf={dehydrated:null,treeContext:null,retryLane:0};function uf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Lg(r,s,a){var d=s.pendingProps,h=ot.current,m=!1,w=(s.flags&128)!==0,b;if((b=w)||(b=r!==null&&r.memoizedState===null?!1:(h&2)!==0),b?(m=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),et(ot,h&1),r===null)return Od(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=d.children,r=d.fallback,m?(d=s.mode,m=s.child,w={mode:"hidden",children:w},(d&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=w):m=Bu(w,d,0,null),r=Ts(r,d,a,null),m.return=s,r.return=s,m.sibling=r,s.child=m,s.child.memoizedState=uf(a),s.memoizedState=lf,r):cf(s,w));if(h=r.memoizedState,h!==null&&(b=h.dehydrated,b!==null))return J1(r,s,w,d,b,h,a);if(m){m=d.fallback,w=s.mode,h=r.child,b=h.sibling;var L={mode:"hidden",children:d.children};return(w&1)===0&&s.child!==h?(d=s.child,d.childLanes=0,d.pendingProps=L,s.deletions=null):(d=Ri(h,L),d.subtreeFlags=h.subtreeFlags&14680064),b!==null?m=Ri(b,m):(m=Ts(m,w,a,null),m.flags|=2),m.return=s,d.return=s,d.sibling=m,s.child=d,d=m,m=s.child,w=r.child.memoizedState,w=w===null?uf(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},m.memoizedState=w,m.childLanes=r.childLanes&~a,s.memoizedState=lf,d}return m=r.child,r=m.sibling,d=Ri(m,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=a),d.return=s,d.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=d,s.memoizedState=null,d}function cf(r,s){return s=Bu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Pu(r,s,a,d){return d!==null&&Md(d),_o(s,r.child,null,a),r=cf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function J1(r,s,a,d,h,m,w){if(a)return s.flags&256?(s.flags&=-257,d=rf(Error(t(422))),Pu(r,s,w,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(m=d.fallback,h=s.mode,d=Bu({mode:"visible",children:d.children},h,0,null),m=Ts(m,h,w,null),m.flags|=2,d.return=s,m.return=s,d.sibling=m,s.child=d,(s.mode&1)!==0&&_o(s,r.child,null,w),s.child.memoizedState=uf(w),s.memoizedState=lf,m);if((s.mode&1)===0)return Pu(r,s,w,null);if(h.data==="$!"){if(d=h.nextSibling&&h.nextSibling.dataset,d)var b=d.dgst;return d=b,m=Error(t(419)),d=rf(m,d,void 0),Pu(r,s,w,d)}if(b=(w&r.childLanes)!==0,tn||b){if(d=kt,d!==null){switch(w&-w){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(d.suspendedLanes|w))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,Ur(r,h),Un(d,r,h,-1))}return Af(),d=rf(Error(t(421))),Pu(r,s,w,d)}return h.data==="$?"?(s.flags|=128,s.child=r.child,s=dT.bind(null,r),h._reactRetry=s,null):(r=m.treeContext,gn=yi(h.nextSibling),mn=s,st=!0,Ln=null,r!==null&&(Sn[xn++]=jr,Sn[xn++]=zr,Sn[xn++]=hs,jr=r.id,zr=r.overflow,hs=s),s=cf(s,d.children),s.flags|=4096,s)}function Fg(r,s,a){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),zd(r.return,s,a)}function df(r,s,a,d,h){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:h}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=d,m.tail=a,m.tailMode=h)}function jg(r,s,a){var d=s.pendingProps,h=d.revealOrder,m=d.tail;if(Qt(r,s,d.children,a),d=ot.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Fg(r,a,s);else if(r.tag===19)Fg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(et(ot,d),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(a=s.child,h=null;a!==null;)r=a.alternate,r!==null&&Tu(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),df(s,!1,h,a,m);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&Tu(r)===null){s.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}df(s,!0,a,null,m);break;case"together":df(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ku(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function $r(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),vs|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=Ri(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Ri(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function Z1(r,s,a){switch(s.tag){case 3:Og(s),vo();break;case 5:Zm(s);break;case 1:en(s.type)&&fu(s);break;case 4:$d(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,h=s.memoizedProps.value;et(vu,d._currentValue),d._currentValue=h;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(et(ot,ot.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Lg(r,s,a):(et(ot,ot.current&1),r=$r(r,s,a),r!==null?r.sibling:null);et(ot,ot.current&1);break;case 19:if(d=(a&s.childLanes)!==0,(r.flags&128)!==0){if(d)return jg(r,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(ot,ot.current),d)break;return null;case 22:case 23:return s.lanes=0,Ng(r,s,a)}return $r(r,s,a)}var zg,ff,Ug,Bg;zg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},ff=function(){},Ug=function(r,s,a,d){var h=r.memoizedProps;if(h!==d){r=s.stateNode,gs(ur.current);var m=null;switch(a){case"input":h=Jt(r,h),d=Jt(r,d),m=[];break;case"select":h=ae({},h,{value:void 0}),d=ae({},d,{value:void 0}),m=[];break;case"textarea":h=ia(r,h),d=ia(r,d),m=[];break;default:typeof h.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=uu)}Dn(a,d);var w;a=null;for(Q in h)if(!d.hasOwnProperty(Q)&&h.hasOwnProperty(Q)&&h[Q]!=null)if(Q==="style"){var b=h[Q];for(w in b)b.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?m||(m=[]):(m=m||[]).push(Q,null));for(Q in d){var L=d[Q];if(b=h?.[Q],d.hasOwnProperty(Q)&&L!==b&&(L!=null||b!=null))if(Q==="style")if(b){for(w in b)!b.hasOwnProperty(w)||L&&L.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in L)L.hasOwnProperty(w)&&b[w]!==L[w]&&(a||(a={}),a[w]=L[w])}else a||(m||(m=[]),m.push(Q,a)),a=L;else Q==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,b=b?b.__html:void 0,L!=null&&b!==L&&(m=m||[]).push(Q,L)):Q==="children"?typeof L!="string"&&typeof L!="number"||(m=m||[]).push(Q,""+L):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(L!=null&&Q==="onScroll"&&nt("scroll",r),m||b===L||(m=[])):(m=m||[]).push(Q,L))}a&&(m=m||[]).push("style",a);var Q=m;(s.updateQueue=Q)&&(s.flags|=4)}},Bg=function(r,s,a,d){a!==d&&(s.flags|=4)};function Ha(r,s){if(!st)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ht(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,d=0;if(s)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,d|=h.subtreeFlags&14680064,d|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,d|=h.subtreeFlags,d|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=d,r.childLanes=a,s}function eT(r,s,a){var d=s.pendingProps;switch(Dd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(s),null;case 1:return en(s.type)&&du(),Ht(s),null;case 3:return d=s.stateNode,To(),rt(Zt),rt(Bt),qd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(gu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ln!==null&&(Sf(Ln),Ln=null))),ff(r,s),Ht(s),null;case 5:Hd(s);var h=gs(ja.current);if(a=s.type,r!==null&&s.stateNode!=null)Ug(r,s,a,d,h),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Ht(s),null}if(r=gs(ur.current),gu(s)){d=s.stateNode,a=s.type;var m=s.memoizedProps;switch(d[lr]=s,d[Va]=m,r=(s.mode&1)!==0,a){case"dialog":nt("cancel",d),nt("close",d);break;case"iframe":case"object":case"embed":nt("load",d);break;case"video":case"audio":for(h=0;h<ba.length;h++)nt(ba[h],d);break;case"source":nt("error",d);break;case"img":case"image":case"link":nt("error",d),nt("load",d);break;case"details":nt("toggle",d);break;case"input":ei(d,m),nt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!m.multiple},nt("invalid",d);break;case"textarea":sa(d,m),nt("invalid",d)}Dn(a,m),h=null;for(var w in m)if(m.hasOwnProperty(w)){var b=m[w];w==="children"?typeof b=="string"?d.textContent!==b&&(m.suppressHydrationWarning!==!0&&lu(d.textContent,b,r),h=["children",b]):typeof b=="number"&&d.textContent!==""+b&&(m.suppressHydrationWarning!==!0&&lu(d.textContent,b,r),h=["children",""+b]):o.hasOwnProperty(w)&&b!=null&&w==="onScroll"&&nt("scroll",d)}switch(a){case"input":Be(d),ra(d,m,!0);break;case"textarea":Be(d),ti(d);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(d.onclick=uu)}d=h,s.updateQueue=d,d!==null&&(s.flags|=4)}else{w=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=oa(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(a,{is:d.is}):(r=w.createElement(a),a==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,a),r[lr]=s,r[Va]=d,zg(r,s,!1,!1),s.stateNode=r;e:{switch(w=Hs(a,d),a){case"dialog":nt("cancel",r),nt("close",r),h=d;break;case"iframe":case"object":case"embed":nt("load",r),h=d;break;case"video":case"audio":for(h=0;h<ba.length;h++)nt(ba[h],r);h=d;break;case"source":nt("error",r),h=d;break;case"img":case"image":case"link":nt("error",r),nt("load",r),h=d;break;case"details":nt("toggle",r),h=d;break;case"input":ei(r,d),h=Jt(r,d),nt("invalid",r);break;case"option":h=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},h=ae({},d,{value:void 0}),nt("invalid",r);break;case"textarea":sa(r,d),h=ia(r,d),nt("invalid",r);break;default:h=d}Dn(a,h),b=h;for(m in b)if(b.hasOwnProperty(m)){var L=b[m];m==="style"?$s(r,L):m==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Ml(r,L)):m==="children"?typeof L=="string"?(a!=="textarea"||L!=="")&&Xi(r,L):typeof L=="number"&&Xi(r,""+L):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?L!=null&&m==="onScroll"&&nt("scroll",r):L!=null&&G(r,m,L,w))}switch(a){case"input":Be(r),ra(r,d,!1);break;case"textarea":Be(r),ti(r);break;case"option":d.value!=null&&r.setAttribute("value",""+xe(d.value));break;case"select":r.multiple=!!d.multiple,m=d.value,m!=null?Nn(r,!!d.multiple,m,!1):d.defaultValue!=null&&Nn(r,!!d.multiple,d.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=uu)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ht(s),null;case 6:if(r&&s.stateNode!=null)Bg(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(a=gs(ja.current),gs(ur.current),gu(s)){if(d=s.stateNode,a=s.memoizedProps,d[lr]=s,(m=d.nodeValue!==a)&&(r=mn,r!==null))switch(r.tag){case 3:lu(d.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&lu(d.nodeValue,a,(r.mode&1)!==0)}m&&(s.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[lr]=s,s.stateNode=d}return Ht(s),null;case 13:if(rt(ot),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(st&&gn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Wm(),vo(),s.flags|=98560,m=!1;else if(m=gu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(t(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[lr]=s}else vo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ht(s),m=!1}else Ln!==null&&(Sf(Ln),Ln=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(ot.current&1)!==0?At===0&&(At=3):Af())),s.updateQueue!==null&&(s.flags|=4),Ht(s),null);case 4:return To(),ff(r,s),r===null&&Na(s.stateNode.containerInfo),Ht(s),null;case 10:return jd(s.type._context),Ht(s),null;case 17:return en(s.type)&&du(),Ht(s),null;case 19:if(rt(ot),m=s.memoizedState,m===null)return Ht(s),null;if(d=(s.flags&128)!==0,w=m.rendering,w===null)if(d)Ha(m,!1);else{if(At!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=Tu(r),w!==null){for(s.flags|=128,Ha(m,!1),d=w.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=a,a=s.child;a!==null;)m=a,r=d,m.flags&=14680066,w=m.alternate,w===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,r=w.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return et(ot,ot.current&1|2),s.child}r=r.sibling}m.tail!==null&&tt()>Ao&&(s.flags|=128,d=!0,Ha(m,!1),s.lanes=4194304)}else{if(!d)if(r=Tu(w),r!==null){if(s.flags|=128,d=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ha(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!st)return Ht(s),null}else 2*tt()-m.renderingStartTime>Ao&&a!==1073741824&&(s.flags|=128,d=!0,Ha(m,!1),s.lanes=4194304);m.isBackwards?(w.sibling=s.child,s.child=w):(a=m.last,a!==null?a.sibling=w:s.child=w,m.last=w)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=tt(),s.sibling=null,a=ot.current,et(ot,d?a&1|2:a&1),s):(Ht(s),null);case 22:case 23:return If(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(yn&1073741824)!==0&&(Ht(s),s.subtreeFlags&6&&(s.flags|=8192)):Ht(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function tT(r,s){switch(Dd(s),s.tag){case 1:return en(s.type)&&du(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return To(),rt(Zt),rt(Bt),qd(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Hd(s),null;case 13:if(rt(ot),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));vo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return rt(ot),null;case 4:return To(),null;case 10:return jd(s.type._context),null;case 22:case 23:return If(),null;case 24:return null;default:return null}}var bu=!1,Wt=!1,nT=typeof WeakSet=="function"?WeakSet:Set,he=null;function xo(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){ct(r,s,d)}else a.current=null}function hf(r,s,a){try{a()}catch(d){ct(r,s,d)}}var $g=!1;function rT(r,s){if(xd=Vr,r=Em(),gd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var h=d.anchorOffset,m=d.focusNode;d=d.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var w=0,b=-1,L=-1,Q=0,ne=0,ie=r,te=null;t:for(;;){for(var de;ie!==a||h!==0&&ie.nodeType!==3||(b=w+h),ie!==m||d!==0&&ie.nodeType!==3||(L=w+d),ie.nodeType===3&&(w+=ie.nodeValue.length),(de=ie.firstChild)!==null;)te=ie,ie=de;for(;;){if(ie===r)break t;if(te===a&&++Q===h&&(b=w),te===m&&++ne===d&&(L=w),(de=ie.nextSibling)!==null)break;ie=te,te=ie.parentNode}ie=de}a=b===-1||L===-1?null:{start:b,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(Id={focusedElem:r,selectionRange:a},Vr=!1,he=s;he!==null;)if(s=he,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,he=r;else for(;he!==null;){s=he;try{var ge=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var Ee=ge.memoizedProps,pt=ge.memoizedState,B=s.stateNode,j=B.getSnapshotBeforeUpdate(s.elementType===s.type?Ee:Fn(s.type,Ee),pt);B.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var q=s.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){ct(s,s.return,oe)}if(r=s.sibling,r!==null){r.return=s.return,he=r;break}he=s.return}return ge=$g,$g=!1,ge}function Wa(r,s,a){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var h=d=d.next;do{if((h.tag&r)===r){var m=h.destroy;h.destroy=void 0,m!==void 0&&hf(s,a,m)}h=h.next}while(h!==d)}}function Nu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var d=a.create;a.destroy=d()}a=a.next}while(a!==s)}}function pf(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Hg(r){var s=r.alternate;s!==null&&(r.alternate=null,Hg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[lr],delete s[Va],delete s[Pd],delete s[j1],delete s[z1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Wg(r){return r.tag===5||r.tag===3||r.tag===4}function qg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Wg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function mf(r,s,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=uu));else if(d!==4&&(r=r.child,r!==null))for(mf(r,s,a),r=r.sibling;r!==null;)mf(r,s,a),r=r.sibling}function gf(r,s,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(gf(r,s,a),r=r.sibling;r!==null;)gf(r,s,a),r=r.sibling}var Ot=null,jn=!1;function Si(r,s,a){for(a=a.child;a!==null;)Gg(r,s,a),a=a.sibling}function Gg(r,s,a){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(ns,a)}catch{}switch(a.tag){case 5:Wt||xo(a,s);case 6:var d=Ot,h=jn;Ot=null,Si(r,s,a),Ot=d,jn=h,Ot!==null&&(jn?(r=Ot,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Ot.removeChild(a.stateNode));break;case 18:Ot!==null&&(jn?(r=Ot,a=a.stateNode,r.nodeType===8?Rd(r.parentNode,a):r.nodeType===1&&Rd(r,a),hi(r)):Rd(Ot,a.stateNode));break;case 4:d=Ot,h=jn,Ot=a.stateNode.containerInfo,jn=!0,Si(r,s,a),Ot=d,jn=h;break;case 0:case 11:case 14:case 15:if(!Wt&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){h=d=d.next;do{var m=h,w=m.destroy;m=m.tag,w!==void 0&&((m&2)!==0||(m&4)!==0)&&hf(a,s,w),h=h.next}while(h!==d)}Si(r,s,a);break;case 1:if(!Wt&&(xo(a,s),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(b){ct(a,s,b)}Si(r,s,a);break;case 21:Si(r,s,a);break;case 22:a.mode&1?(Wt=(d=Wt)||a.memoizedState!==null,Si(r,s,a),Wt=d):Si(r,s,a);break;default:Si(r,s,a)}}function Kg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new nT),s.forEach(function(d){var h=fT.bind(null,r,d);a.has(d)||(a.add(d),d.then(h,h))})}}function zn(r,s){var a=s.deletions;if(a!==null)for(var d=0;d<a.length;d++){var h=a[d];try{var m=r,w=s,b=w;e:for(;b!==null;){switch(b.tag){case 5:Ot=b.stateNode,jn=!1;break e;case 3:Ot=b.stateNode.containerInfo,jn=!0;break e;case 4:Ot=b.stateNode.containerInfo,jn=!0;break e}b=b.return}if(Ot===null)throw Error(t(160));Gg(m,w,h),Ot=null,jn=!1;var L=h.alternate;L!==null&&(L.return=null),h.return=null}catch(Q){ct(h,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Qg(s,r),s=s.sibling}function Qg(r,s){var a=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(zn(s,r),dr(r),d&4){try{Wa(3,r,r.return),Nu(3,r)}catch(Ee){ct(r,r.return,Ee)}try{Wa(5,r,r.return)}catch(Ee){ct(r,r.return,Ee)}}break;case 1:zn(s,r),dr(r),d&512&&a!==null&&xo(a,a.return);break;case 5:if(zn(s,r),dr(r),d&512&&a!==null&&xo(a,a.return),r.flags&32){var h=r.stateNode;try{Xi(h,"")}catch(Ee){ct(r,r.return,Ee)}}if(d&4&&(h=r.stateNode,h!=null)){var m=r.memoizedProps,w=a!==null?a.memoizedProps:m,b=r.type,L=r.updateQueue;if(r.updateQueue=null,L!==null)try{b==="input"&&m.type==="radio"&&m.name!=null&&Gn(h,m),Hs(b,w);var Q=Hs(b,m);for(w=0;w<L.length;w+=2){var ne=L[w],ie=L[w+1];ne==="style"?$s(h,ie):ne==="dangerouslySetInnerHTML"?Ml(h,ie):ne==="children"?Xi(h,ie):G(h,ne,ie,Q)}switch(b){case"input":bn(h,m);break;case"textarea":Ol(h,m);break;case"select":var te=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var de=m.value;de!=null?Nn(h,!!m.multiple,de,!1):te!==!!m.multiple&&(m.defaultValue!=null?Nn(h,!!m.multiple,m.defaultValue,!0):Nn(h,!!m.multiple,m.multiple?[]:"",!1))}h[Va]=m}catch(Ee){ct(r,r.return,Ee)}}break;case 6:if(zn(s,r),dr(r),d&4){if(r.stateNode===null)throw Error(t(162));h=r.stateNode,m=r.memoizedProps;try{h.nodeValue=m}catch(Ee){ct(r,r.return,Ee)}}break;case 3:if(zn(s,r),dr(r),d&4&&a!==null&&a.memoizedState.isDehydrated)try{hi(s.containerInfo)}catch(Ee){ct(r,r.return,Ee)}break;case 4:zn(s,r),dr(r);break;case 13:zn(s,r),dr(r),h=r.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(_f=tt())),d&4&&Kg(r);break;case 22:if(ne=a!==null&&a.memoizedState!==null,r.mode&1?(Wt=(Q=Wt)||ne,zn(s,r),Wt=Q):zn(s,r),dr(r),d&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!ne&&(r.mode&1)!==0)for(he=r,ne=r.child;ne!==null;){for(ie=he=ne;he!==null;){switch(te=he,de=te.child,te.tag){case 0:case 11:case 14:case 15:Wa(4,te,te.return);break;case 1:xo(te,te.return);var ge=te.stateNode;if(typeof ge.componentWillUnmount=="function"){d=te,a=te.return;try{s=d,ge.props=s.memoizedProps,ge.state=s.memoizedState,ge.componentWillUnmount()}catch(Ee){ct(d,a,Ee)}}break;case 5:xo(te,te.return);break;case 22:if(te.memoizedState!==null){Jg(ie);continue}}de!==null?(de.return=te,he=de):Jg(ie)}ne=ne.sibling}e:for(ne=null,ie=r;;){if(ie.tag===5){if(ne===null){ne=ie;try{h=ie.stateNode,Q?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(b=ie.stateNode,L=ie.memoizedProps.style,w=L!=null&&L.hasOwnProperty("display")?L.display:null,b.style.display=ii("display",w))}catch(Ee){ct(r,r.return,Ee)}}}else if(ie.tag===6){if(ne===null)try{ie.stateNode.nodeValue=Q?"":ie.memoizedProps}catch(Ee){ct(r,r.return,Ee)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===r)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===r)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===r)break e;ne===ie&&(ne=null),ie=ie.return}ne===ie&&(ne=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:zn(s,r),dr(r),d&4&&Kg(r);break;case 21:break;default:zn(s,r),dr(r)}}function dr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Wg(a)){var d=a;break e}a=a.return}throw Error(t(160))}switch(d.tag){case 5:var h=d.stateNode;d.flags&32&&(Xi(h,""),d.flags&=-33);var m=qg(r);gf(r,m,h);break;case 3:case 4:var w=d.stateNode.containerInfo,b=qg(r);mf(r,b,w);break;default:throw Error(t(161))}}catch(L){ct(r,r.return,L)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function iT(r,s,a){he=r,Yg(r)}function Yg(r,s,a){for(var d=(r.mode&1)!==0;he!==null;){var h=he,m=h.child;if(h.tag===22&&d){var w=h.memoizedState!==null||bu;if(!w){var b=h.alternate,L=b!==null&&b.memoizedState!==null||Wt;b=bu;var Q=Wt;if(bu=w,(Wt=L)&&!Q)for(he=h;he!==null;)w=he,L=w.child,w.tag===22&&w.memoizedState!==null?Zg(h):L!==null?(L.return=w,he=L):Zg(h);for(;m!==null;)he=m,Yg(m),m=m.sibling;he=h,bu=b,Wt=Q}Xg(r)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,he=m):Xg(r)}}function Xg(r){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Wt||Nu(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Wt)if(a===null)d.componentDidMount();else{var h=s.elementType===s.type?a.memoizedProps:Fn(s.type,a.memoizedProps);d.componentDidUpdate(h,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&Jm(s,m,d);break;case 3:var w=s.updateQueue;if(w!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Jm(s,w,a)}break;case 5:var b=s.stateNode;if(a===null&&s.flags&4){a=b;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&a.focus();break;case"img":L.src&&(a.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var ne=Q.memoizedState;if(ne!==null){var ie=ne.dehydrated;ie!==null&&hi(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||s.flags&512&&pf(s)}catch(te){ct(s,s.return,te)}}if(s===r){he=null;break}if(a=s.sibling,a!==null){a.return=s.return,he=a;break}he=s.return}}function Jg(r){for(;he!==null;){var s=he;if(s===r){he=null;break}var a=s.sibling;if(a!==null){a.return=s.return,he=a;break}he=s.return}}function Zg(r){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Nu(4,s)}catch(L){ct(s,a,L)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var h=s.return;try{d.componentDidMount()}catch(L){ct(s,h,L)}}var m=s.return;try{pf(s)}catch(L){ct(s,m,L)}break;case 5:var w=s.return;try{pf(s)}catch(L){ct(s,w,L)}}}catch(L){ct(s,s.return,L)}if(s===r){he=null;break}var b=s.sibling;if(b!==null){b.return=s.return,he=b;break}he=s.return}}var sT=Math.ceil,Du=K.ReactCurrentDispatcher,yf=K.ReactCurrentOwner,Cn=K.ReactCurrentBatchConfig,qe=0,kt=null,_t=null,Mt=0,yn=0,Io=vi(0),At=0,qa=null,vs=0,Vu=0,vf=0,Ga=null,nn=null,_f=0,Ao=1/0,Hr=null,Ou=!1,wf=null,xi=null,Mu=!1,Ii=null,Lu=0,Ka=0,Ef=null,Fu=-1,ju=0;function Yt(){return(qe&6)!==0?tt():Fu!==-1?Fu:Fu=tt()}function Ai(r){return(r.mode&1)===0?1:(qe&2)!==0&&Mt!==0?Mt&-Mt:B1.transition!==null?(ju===0&&(ju=ma()),ju):(r=$e,r!==0||(r=window.event,r=r===void 0?16:eo(r.type)),r)}function Un(r,s,a,d){if(50<Ka)throw Ka=0,Ef=null,Error(t(185));os(r,a,d),((qe&2)===0||r!==kt)&&(r===kt&&((qe&2)===0&&(Vu|=a),At===4&&Ci(r,Mt)),rn(r,d),a===1&&qe===0&&(s.mode&1)===0&&(Ao=tt()+500,hu&&wi()))}function rn(r,s){var a=r.callbackNode;ss(r,s);var d=br(r,r===kt?Mt:0);if(d===0)a!==null&&Gs(a),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(a!=null&&Gs(a),s===1)r.tag===0?U1(ty.bind(null,r)):zm(ty.bind(null,r)),L1(function(){(qe&6)===0&&wi()}),a=null;else{switch(Jn(d)){case 1:a=Ks;break;case 4:a=fa;break;case 16:a=ts;break;case 536870912:a=Qs;break;default:a=ts}a=uy(a,ey.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function ey(r,s){if(Fu=-1,ju=0,(qe&6)!==0)throw Error(t(327));var a=r.callbackNode;if(Co()&&r.callbackNode!==a)return null;var d=br(r,r===kt?Mt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=zu(r,d);else{s=d;var h=qe;qe|=2;var m=ry();(kt!==r||Mt!==s)&&(Hr=null,Ao=tt()+500,ws(r,s));do try{lT();break}catch(b){ny(r,b)}while(!0);Fd(),Du.current=m,qe=h,_t!==null?s=0:(kt=null,Mt=0,s=At)}if(s!==0){if(s===2&&(h=pa(r),h!==0&&(d=h,s=Tf(r,h))),s===1)throw a=qa,ws(r,0),Ci(r,d),rn(r,tt()),a;if(s===6)Ci(r,d);else{if(h=r.current.alternate,(d&30)===0&&!oT(h)&&(s=zu(r,d),s===2&&(m=pa(r),m!==0&&(d=m,s=Tf(r,m))),s===1))throw a=qa,ws(r,0),Ci(r,d),rn(r,tt()),a;switch(r.finishedWork=h,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Es(r,nn,Hr);break;case 3:if(Ci(r,d),(d&130023424)===d&&(s=_f+500-tt(),10<s)){if(br(r,0)!==0)break;if(h=r.suspendedLanes,(h&d)!==d){Yt(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=Cd(Es.bind(null,r,nn,Hr),s);break}Es(r,nn,Hr);break;case 4:if(Ci(r,d),(d&4194240)===d)break;for(s=r.eventTimes,h=-1;0<d;){var w=31-cn(d);m=1<<w,w=s[w],w>h&&(h=w),d&=~m}if(d=h,d=tt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*sT(d/1960))-d,10<d){r.timeoutHandle=Cd(Es.bind(null,r,nn,Hr),d);break}Es(r,nn,Hr);break;case 5:Es(r,nn,Hr);break;default:throw Error(t(329))}}}return rn(r,tt()),r.callbackNode===a?ey.bind(null,r):null}function Tf(r,s){var a=Ga;return r.current.memoizedState.isDehydrated&&(ws(r,s).flags|=256),r=zu(r,s),r!==2&&(s=nn,nn=a,s!==null&&Sf(s)),r}function Sf(r){nn===null?nn=r:nn.push.apply(nn,r)}function oT(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var h=a[d],m=h.getSnapshot;h=h.value;try{if(!Mn(m(),h))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ci(r,s){for(s&=~vf,s&=~Vu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-cn(s),d=1<<a;r[a]=-1,s&=~d}}function ty(r){if((qe&6)!==0)throw Error(t(327));Co();var s=br(r,0);if((s&1)===0)return rn(r,tt()),null;var a=zu(r,s);if(r.tag!==0&&a===2){var d=pa(r);d!==0&&(s=d,a=Tf(r,d))}if(a===1)throw a=qa,ws(r,0),Ci(r,s),rn(r,tt()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Es(r,nn,Hr),rn(r,tt()),null}function xf(r,s){var a=qe;qe|=1;try{return r(s)}finally{qe=a,qe===0&&(Ao=tt()+500,hu&&wi())}}function _s(r){Ii!==null&&Ii.tag===0&&(qe&6)===0&&Co();var s=qe;qe|=1;var a=Cn.transition,d=$e;try{if(Cn.transition=null,$e=1,r)return r()}finally{$e=d,Cn.transition=a,qe=s,(qe&6)===0&&wi()}}function If(){yn=Io.current,rt(Io)}function ws(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,M1(a)),_t!==null)for(a=_t.return;a!==null;){var d=a;switch(Dd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&du();break;case 3:To(),rt(Zt),rt(Bt),qd();break;case 5:Hd(d);break;case 4:To();break;case 13:rt(ot);break;case 19:rt(ot);break;case 10:jd(d.type._context);break;case 22:case 23:If()}a=a.return}if(kt=r,_t=r=Ri(r.current,null),Mt=yn=s,At=0,qa=null,vf=Vu=vs=0,nn=Ga=null,ms!==null){for(s=0;s<ms.length;s++)if(a=ms[s],d=a.interleaved,d!==null){a.interleaved=null;var h=d.next,m=a.pending;if(m!==null){var w=m.next;m.next=h,d.next=w}a.pending=d}ms=null}return r}function ny(r,s){do{var a=_t;try{if(Fd(),Su.current=Cu,xu){for(var d=at.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}xu=!1}if(ys=0,Pt=It=at=null,za=!1,Ua=0,yf.current=null,a===null||a.return===null){At=1,qa=s,_t=null;break}e:{var m=r,w=a.return,b=a,L=s;if(s=Mt,b.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var Q=L,ne=b,ie=ne.tag;if((ne.mode&1)===0&&(ie===0||ie===11||ie===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=Cg(w);if(de!==null){de.flags&=-257,Rg(de,w,b,m,s),de.mode&1&&Ag(m,Q,s),s=de,L=Q;var ge=s.updateQueue;if(ge===null){var Ee=new Set;Ee.add(L),s.updateQueue=Ee}else ge.add(L);break e}else{if((s&1)===0){Ag(m,Q,s),Af();break e}L=Error(t(426))}}else if(st&&b.mode&1){var pt=Cg(w);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),Rg(pt,w,b,m,s),Md(So(L,b));break e}}m=L=So(L,b),At!==4&&(At=2),Ga===null?Ga=[m]:Ga.push(m),m=w;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var B=xg(m,L,s);Xm(m,B);break e;case 1:b=L;var j=m.type,q=m.stateNode;if((m.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(xi===null||!xi.has(q)))){m.flags|=65536,s&=-s,m.lanes|=s;var oe=Ig(m,b,s);Xm(m,oe);break e}}m=m.return}while(m!==null)}sy(a)}catch(Se){s=Se,_t===a&&a!==null&&(_t=a=a.return);continue}break}while(!0)}function ry(){var r=Du.current;return Du.current=Cu,r===null?Cu:r}function Af(){(At===0||At===3||At===2)&&(At=4),kt===null||(vs&268435455)===0&&(Vu&268435455)===0||Ci(kt,Mt)}function zu(r,s){var a=qe;qe|=2;var d=ry();(kt!==r||Mt!==s)&&(Hr=null,ws(r,s));do try{aT();break}catch(h){ny(r,h)}while(!0);if(Fd(),qe=a,Du.current=d,_t!==null)throw Error(t(261));return kt=null,Mt=0,At}function aT(){for(;_t!==null;)iy(_t)}function lT(){for(;_t!==null&&!es();)iy(_t)}function iy(r){var s=ly(r.alternate,r,yn);r.memoizedProps=r.pendingProps,s===null?sy(r):_t=s,yf.current=null}function sy(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=eT(a,s,yn),a!==null){_t=a;return}}else{if(a=tT(a,s),a!==null){a.flags&=32767,_t=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{At=6,_t=null;return}}if(s=s.sibling,s!==null){_t=s;return}_t=s=r}while(s!==null);At===0&&(At=5)}function Es(r,s,a){var d=$e,h=Cn.transition;try{Cn.transition=null,$e=1,uT(r,s,a,d)}finally{Cn.transition=h,$e=d}return null}function uT(r,s,a,d){do Co();while(Ii!==null);if((qe&6)!==0)throw Error(t(327));a=r.finishedWork;var h=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var m=a.lanes|a.childLanes;if(dd(r,m),r===kt&&(_t=kt=null,Mt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Mu||(Mu=!0,uy(ts,function(){return Co(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Cn.transition,Cn.transition=null;var w=$e;$e=1;var b=qe;qe|=4,yf.current=null,rT(r,a),Qg(a,r),P1(Id),Vr=!!xd,Id=xd=null,r.current=a,iT(a),kr(),qe=b,$e=w,Cn.transition=m}else r.current=a;if(Mu&&(Mu=!1,Ii=r,Lu=h),m=r.pendingLanes,m===0&&(xi=null),Gl(a.stateNode),rn(r,tt()),s!==null)for(d=r.onRecoverableError,a=0;a<s.length;a++)h=s[a],d(h.value,{componentStack:h.stack,digest:h.digest});if(Ou)throw Ou=!1,r=wf,wf=null,r;return(Lu&1)!==0&&r.tag!==0&&Co(),m=r.pendingLanes,(m&1)!==0?r===Ef?Ka++:(Ka=0,Ef=r):Ka=0,wi(),null}function Co(){if(Ii!==null){var r=Jn(Lu),s=Cn.transition,a=$e;try{if(Cn.transition=null,$e=16>r?16:r,Ii===null)var d=!1;else{if(r=Ii,Ii=null,Lu=0,(qe&6)!==0)throw Error(t(331));var h=qe;for(qe|=4,he=r.current;he!==null;){var m=he,w=m.child;if((he.flags&16)!==0){var b=m.deletions;if(b!==null){for(var L=0;L<b.length;L++){var Q=b[L];for(he=Q;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:Wa(8,ne,m)}var ie=ne.child;if(ie!==null)ie.return=ne,he=ie;else for(;he!==null;){ne=he;var te=ne.sibling,de=ne.return;if(Hg(ne),ne===Q){he=null;break}if(te!==null){te.return=de,he=te;break}he=de}}}var ge=m.alternate;if(ge!==null){var Ee=ge.child;if(Ee!==null){ge.child=null;do{var pt=Ee.sibling;Ee.sibling=null,Ee=pt}while(Ee!==null)}}he=m}}if((m.subtreeFlags&2064)!==0&&w!==null)w.return=m,he=w;else e:for(;he!==null;){if(m=he,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Wa(9,m,m.return)}var B=m.sibling;if(B!==null){B.return=m.return,he=B;break e}he=m.return}}var j=r.current;for(he=j;he!==null;){w=he;var q=w.child;if((w.subtreeFlags&2064)!==0&&q!==null)q.return=w,he=q;else e:for(w=j;he!==null;){if(b=he,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:Nu(9,b)}}catch(Se){ct(b,b.return,Se)}if(b===w){he=null;break e}var oe=b.sibling;if(oe!==null){oe.return=b.return,he=oe;break e}he=b.return}}if(qe=h,wi(),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(ns,r)}catch{}d=!0}return d}finally{$e=a,Cn.transition=s}}return!1}function oy(r,s,a){s=So(a,s),s=xg(r,s,1),r=Ti(r,s,1),s=Yt(),r!==null&&(os(r,1,s),rn(r,s))}function ct(r,s,a){if(r.tag===3)oy(r,r,a);else for(;s!==null;){if(s.tag===3){oy(s,r,a);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(xi===null||!xi.has(d))){r=So(a,r),r=Ig(s,r,1),s=Ti(s,r,1),r=Yt(),s!==null&&(os(s,1,r),rn(s,r));break}}s=s.return}}function cT(r,s,a){var d=r.pingCache;d!==null&&d.delete(s),s=Yt(),r.pingedLanes|=r.suspendedLanes&a,kt===r&&(Mt&a)===a&&(At===4||At===3&&(Mt&130023424)===Mt&&500>tt()-_f?ws(r,0):vf|=a),rn(r,s)}function ay(r,s){s===0&&((r.mode&1)===0?s=1:(s=ci,ci<<=1,(ci&130023424)===0&&(ci=4194304)));var a=Yt();r=Ur(r,s),r!==null&&(os(r,s,a),rn(r,a))}function dT(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),ay(r,a)}function fT(r,s){var a=0;switch(r.tag){case 13:var d=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),ay(r,a)}var ly;ly=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Zt.current)tn=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return tn=!1,Z1(r,s,a);tn=(r.flags&131072)!==0}else tn=!1,st&&(s.flags&1048576)!==0&&Um(s,mu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;ku(r,s),r=s.pendingProps;var h=mo(s,Bt.current);Eo(s,a),h=Qd(null,s,d,r,h,a);var m=Yd();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,en(d)?(m=!0,fu(s)):m=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Bd(s),h.updater=Ru,s.stateNode=h,h._reactInternals=s,nf(s,d,r,a),s=af(null,s,d,!0,m,a)):(s.tag=0,st&&m&&Nd(s),Qt(null,s,h,a),s=s.child),s;case 16:d=s.elementType;e:{switch(ku(r,s),r=s.pendingProps,h=d._init,d=h(d._payload),s.type=d,h=s.tag=pT(d),r=Fn(d,r),h){case 0:s=of(null,s,d,r,a);break e;case 1:s=Vg(null,s,d,r,a);break e;case 11:s=Pg(null,s,d,r,a);break e;case 14:s=kg(null,s,d,Fn(d.type,r),a);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,h=s.pendingProps,h=s.elementType===d?h:Fn(d,h),of(r,s,d,h,a);case 1:return d=s.type,h=s.pendingProps,h=s.elementType===d?h:Fn(d,h),Vg(r,s,d,h,a);case 3:e:{if(Og(s),r===null)throw Error(t(387));d=s.pendingProps,m=s.memoizedState,h=m.element,Ym(r,s),Eu(s,d,null,a);var w=s.memoizedState;if(d=w.element,m.isDehydrated)if(m={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){h=So(Error(t(423)),s),s=Mg(r,s,d,a,h);break e}else if(d!==h){h=So(Error(t(424)),s),s=Mg(r,s,d,a,h);break e}else for(gn=yi(s.stateNode.containerInfo.firstChild),mn=s,st=!0,Ln=null,a=Km(s,null,d,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(vo(),d===h){s=$r(r,s,a);break e}Qt(r,s,d,a)}s=s.child}return s;case 5:return Zm(s),r===null&&Od(s),d=s.type,h=s.pendingProps,m=r!==null?r.memoizedProps:null,w=h.children,Ad(d,h)?w=null:m!==null&&Ad(d,m)&&(s.flags|=32),Dg(r,s),Qt(r,s,w,a),s.child;case 6:return r===null&&Od(s),null;case 13:return Lg(r,s,a);case 4:return $d(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=_o(s,null,d,a):Qt(r,s,d,a),s.child;case 11:return d=s.type,h=s.pendingProps,h=s.elementType===d?h:Fn(d,h),Pg(r,s,d,h,a);case 7:return Qt(r,s,s.pendingProps,a),s.child;case 8:return Qt(r,s,s.pendingProps.children,a),s.child;case 12:return Qt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(d=s.type._context,h=s.pendingProps,m=s.memoizedProps,w=h.value,et(vu,d._currentValue),d._currentValue=w,m!==null)if(Mn(m.value,w)){if(m.children===h.children&&!Zt.current){s=$r(r,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var b=m.dependencies;if(b!==null){w=m.child;for(var L=b.firstContext;L!==null;){if(L.context===d){if(m.tag===1){L=Br(-1,a&-a),L.tag=2;var Q=m.updateQueue;if(Q!==null){Q=Q.shared;var ne=Q.pending;ne===null?L.next=L:(L.next=ne.next,ne.next=L),Q.pending=L}}m.lanes|=a,L=m.alternate,L!==null&&(L.lanes|=a),zd(m.return,a,s),b.lanes|=a;break}L=L.next}}else if(m.tag===10)w=m.type===s.type?null:m.child;else if(m.tag===18){if(w=m.return,w===null)throw Error(t(341));w.lanes|=a,b=w.alternate,b!==null&&(b.lanes|=a),zd(w,a,s),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===s){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}Qt(r,s,h.children,a),s=s.child}return s;case 9:return h=s.type,d=s.pendingProps.children,Eo(s,a),h=In(h),d=d(h),s.flags|=1,Qt(r,s,d,a),s.child;case 14:return d=s.type,h=Fn(d,s.pendingProps),h=Fn(d.type,h),kg(r,s,d,h,a);case 15:return bg(r,s,s.type,s.pendingProps,a);case 17:return d=s.type,h=s.pendingProps,h=s.elementType===d?h:Fn(d,h),ku(r,s),s.tag=1,en(d)?(r=!0,fu(s)):r=!1,Eo(s,a),Tg(s,d,h),nf(s,d,h,a),af(null,s,d,!0,r,a);case 19:return jg(r,s,a);case 22:return Ng(r,s,a)}throw Error(t(156,s.tag))};function uy(r,s){return da(r,s)}function hT(r,s,a,d){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(r,s,a,d){return new hT(r,s,a,d)}function Cf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function pT(r){if(typeof r=="function")return Cf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===Re)return 14}return 2}function Ri(r,s){var a=r.alternate;return a===null?(a=Rn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Uu(r,s,a,d,h,m){var w=2;if(d=r,typeof r=="function")Cf(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case C:return Ts(a.children,h,m,s);case T:w=8,h|=8;break;case k:return r=Rn(12,a,s,h|2),r.elementType=k,r.lanes=m,r;case P:return r=Rn(13,a,s,h),r.elementType=P,r.lanes=m,r;case we:return r=Rn(19,a,s,h),r.elementType=we,r.lanes=m,r;case _e:return Bu(a,h,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:w=10;break e;case V:w=9;break e;case F:w=11;break e;case Re:w=14;break e;case Te:w=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Rn(w,a,s,h),s.elementType=r,s.type=d,s.lanes=m,s}function Ts(r,s,a,d){return r=Rn(7,r,d,s),r.lanes=a,r}function Bu(r,s,a,d){return r=Rn(22,r,d,s),r.elementType=_e,r.lanes=a,r.stateNode={isHidden:!1},r}function Rf(r,s,a){return r=Rn(6,r,null,s),r.lanes=a,r}function Pf(r,s,a){return s=Rn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function mT(r,s,a,d,h){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ga(0),this.expirationTimes=ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.identifierPrefix=d,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function kf(r,s,a,d,h,m,w,b,L){return r=new mT(r,s,a,b,L),s===1?(s=1,m===!0&&(s|=8)):s=0,m=Rn(3,null,null,s),r.current=m,m.stateNode=r,m.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bd(m),r}function gT(r,s,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:r,containerInfo:s,implementation:a}}function cy(r){if(!r)return _i;r=r._reactInternals;e:{if(Vn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(en(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(en(a))return Fm(r,a,s)}return s}function dy(r,s,a,d,h,m,w,b,L){return r=kf(a,d,!0,r,h,m,w,b,L),r.context=cy(null),a=r.current,d=Yt(),h=Ai(a),m=Br(d,h),m.callback=s??null,Ti(a,m,h),r.current.lanes=h,os(r,h,d),rn(r,d),r}function $u(r,s,a,d){var h=s.current,m=Yt(),w=Ai(h);return a=cy(a),s.context===null?s.context=a:s.pendingContext=a,s=Br(m,w),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Ti(h,s,w),r!==null&&(Un(r,h,w,m),wu(r,h,w)),w}function Hu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function fy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function bf(r,s){fy(r,s),(r=r.alternate)&&fy(r,s)}function yT(){return null}var hy=typeof reportError=="function"?reportError:function(r){console.error(r)};function Nf(r){this._internalRoot=r}Wu.prototype.render=Nf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));$u(r,s,null,null)},Wu.prototype.unmount=Nf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;_s(function(){$u(null,r,null,null)}),s[Lr]=null}};function Wu(r){this._internalRoot=r}Wu.prototype.unstable_scheduleHydration=function(r){if(r){var s=wa();r={blockedOn:null,target:r,priority:s};for(var a=0;a<dn.length&&s!==0&&s<dn[a].priority;a++);dn.splice(a,0,r),a===0&&Js(r)}};function Df(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function qu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function py(){}function vT(r,s,a,d,h){if(h){if(typeof d=="function"){var m=d;d=function(){var Q=Hu(w);m.call(Q)}}var w=dy(s,d,r,0,null,!1,!1,"",py);return r._reactRootContainer=w,r[Lr]=w.current,Na(r.nodeType===8?r.parentNode:r),_s(),w}for(;h=r.lastChild;)r.removeChild(h);if(typeof d=="function"){var b=d;d=function(){var Q=Hu(L);b.call(Q)}}var L=kf(r,0,!1,null,null,!1,!1,"",py);return r._reactRootContainer=L,r[Lr]=L.current,Na(r.nodeType===8?r.parentNode:r),_s(function(){$u(s,L,a,d)}),L}function Gu(r,s,a,d,h){var m=a._reactRootContainer;if(m){var w=m;if(typeof h=="function"){var b=h;h=function(){var L=Hu(w);b.call(L)}}$u(s,w,r,h)}else w=vT(a,s,r,h,d);return Hu(w)}va=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Qe(s.pendingLanes);a!==0&&(ya(s,a|1),rn(s,tt()),(qe&6)===0&&(Ao=tt()+500,wi()))}break;case 13:_s(function(){var d=Ur(r,1);if(d!==null){var h=Yt();Un(d,r,1,h)}}),bf(r,1)}},Ys=function(r){if(r.tag===13){var s=Ur(r,134217728);if(s!==null){var a=Yt();Un(s,r,134217728,a)}bf(r,134217728)}},_a=function(r){if(r.tag===13){var s=Ai(r),a=Ur(r,s);if(a!==null){var d=Yt();Un(a,r,s,d)}bf(r,s)}},wa=function(){return $e},Ea=function(r,s){var a=$e;try{return $e=r,s()}finally{$e=a}},Cr=function(r,s,a){switch(s){case"input":if(bn(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var d=a[s];if(d!==r&&d.form===r.form){var h=cu(d);if(!h)throw Error(t(90));Ke(d),bn(d,h)}}}break;case"textarea":Ol(r,a);break;case"select":s=a.value,s!=null&&Nn(r,!!a.multiple,s,!1)}},Fl=xf,jl=_s;var _T={usingClientEntryPoint:!1,Events:[Oa,ho,cu,oi,ai,xf]},Qa={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wT={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ql(r),r===null?null:r.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||yT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{ns=Ku.inject(wT),un=Ku}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_T,sn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Df(s))throw Error(t(200));return gT(r,s,null,a)},sn.createRoot=function(r,s){if(!Df(r))throw Error(t(299));var a=!1,d="",h=hy;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=kf(r,1,!1,null,null,a,!1,d,h),r[Lr]=s.current,Na(r.nodeType===8?r.parentNode:r),new Nf(s)},sn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ql(s),r=r===null?null:r.stateNode,r},sn.flushSync=function(r){return _s(r)},sn.hydrate=function(r,s,a){if(!qu(s))throw Error(t(200));return Gu(null,r,s,!0,a)},sn.hydrateRoot=function(r,s,a){if(!Df(r))throw Error(t(405));var d=a!=null&&a.hydratedSources||null,h=!1,m="",w=hy;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),s=dy(s,null,r,1,a??null,h,!1,m,w),r[Lr]=s.current,Na(r),d)for(r=0;r<d.length;r++)a=d[r],h=a._getVersion,h=h(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,h]:s.mutableSourceEagerHydrationData.push(a,h);return new Wu(s)},sn.render=function(r,s,a){if(!qu(s))throw Error(t(200));return Gu(null,r,s,!1,a)},sn.unmountComponentAtNode=function(r){if(!qu(r))throw Error(t(40));return r._reactRootContainer?(_s(function(){Gu(null,null,r,!1,function(){r._reactRootContainer=null,r[Lr]=null})}),!0):!1},sn.unstable_batchedUpdates=xf,sn.unstable_renderSubtreeIntoContainer=function(r,s,a,d){if(!qu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Gu(r,s,a,!1,d)},sn.version="18.3.1-next-f1338f8080-20240426",sn}var Ty;function R_(){if(Ty)return Mf.exports;Ty=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Mf.exports=RT(),Mf.exports}var Sy;function PT(){if(Sy)return Qu;Sy=1;var n=R_();return Qu.createRoot=n.createRoot,Qu.hydrateRoot=n.hydrateRoot,Qu}var kT=PT(),D=Wh();const bi=C_(D),P_=TT({__proto__:null,default:bi},[D]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NT=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),xy=n=>{const e=NT(n);return e.charAt(0).toUpperCase()+e.slice(1)},k_=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=D.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:c,...f},p)=>D.createElement("svg",{ref:p,...DT,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:k_("lucide",o),...f},[...c.map(([y,_])=>D.createElement(y,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=(n,e)=>{const t=D.forwardRef(({className:i,...o},l)=>D.createElement(VT,{ref:l,iconNode:e,className:k_(`lucide-${bT(xy(n))}`,`lucide-${n}`,i),...o}));return t.displayName=xy(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],lh=ln("arrow-left",OT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],LT=ln("check",MT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],b_=ln("chevron-down",FT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zT=ln("chevron-up",jT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],BT=ln("compass",UT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],HT=ln("funnel",$T);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fc=ln("loader-circle",WT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],uh=ln("map-pin",qT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],KT=ln("message-square",GT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],YT=ln("send",QT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],JT=ln("sliders-horizontal",XT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],il=ln("star",ZT);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],tS=ln("trending-up",eS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],rS=ln("wind",nS),iS=()=>{};var Iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},sS=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},D_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,_=l>>2,E=(l&3)<<4|f>>4;let S=(f&15)<<2|y>>6,R=y&63;p||(R=64,c||(S=64)),i.push(t[_],t[E],t[S],t[R])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(N_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):sS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||y==null||E==null)throw new oS;const S=l<<2|f>>4;if(i.push(S),y!==64){const R=f<<4&240|y>>2;if(i.push(R),E!==64){const M=y<<6&192|E;i.push(M)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aS=function(n){const e=N_(n);return D_.encodeByteArray(e,!0)},vc=function(n){return aS(n).replace(/\./g,"")},lS=function(n){try{return D_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=()=>uS().__FIREBASE_DEFAULTS__,dS=()=>{if(typeof process>"u"||typeof Iy>"u")return;const n=Iy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},fS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&lS(n[1]);return e&&JSON.parse(e)},qh=()=>{try{return iS()||cS()||dS()||fS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hS=n=>qh()?.emulatorHosts?.[n],pS=n=>{const e=hS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},V_=()=>qh()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[vc(JSON.stringify(t)),vc(JSON.stringify(c)),""].join(".")}const sl={};function vS(){const n={prod:[],emulator:[]};for(const e of Object.keys(sl))sl[e]?n.emulator.push(e):n.prod.push(e);return n}function _S(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Ay=!1;function wS(n,e){if(typeof window>"u"||typeof document>"u"||!Gh(window.location.host)||sl[n]===e||sl[n]||Ay)return;sl[n]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",l=vS().prod.length>0;function c(){const S=document.getElementById(i);S&&S.remove()}function f(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,R){S.setAttribute("width","24"),S.setAttribute("id",R),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Ay=!0,c()},S}function _(S,R){S.setAttribute("id",R),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=_S(i),R=t("text"),M=document.getElementById(R)||document.createElement("span"),A=t("learnmore"),N=document.getElementById(A)||document.createElement("a"),W=t("preprendIcon"),$=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const G=S.element;f(G),_(N,A);const K=y();p($,W),G.append($,M,N,K),document.body.appendChild(G)}l?(M.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TS(){const n=qh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O_(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SS(){return!TS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kh(){try{return typeof indexedDB=="object"}catch{return!1}}function Qh(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}function M_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="FirebaseError";class Ki extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=xS,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?IS(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new Ki(o,f,i)}}function IS(n,e){return n.replace(AS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const AS=/\{\$([^}]+)}/g;function dl(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(Cy(l)&&Cy(c)){if(!dl(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Cy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=1e3,RS=2,PS=14400*1e3,kS=.5;function Ry(n,e=CS,t=RS){const i=e*Math.pow(t,n),o=Math.round(kS*i*(Math.random()-.5)*2);return Math.min(PS,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(n){return n&&n._delegate?n._delegate:n}class Kr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new mS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DS(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:NS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NS(n){return n===xs?void 0:n}function DS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(We||(We={}));const OS={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},MS=We.INFO,LS={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},FS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=LS[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yh{constructor(e){this.name=e,this._logLevel=MS,this._logHandler=FS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const jS=(n,e)=>e.some(t=>n instanceof t);let Py,ky;function zS(){return Py||(Py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function US(){return ky||(ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L_=new WeakMap,ch=new WeakMap,F_=new WeakMap,jf=new WeakMap,Xh=new WeakMap;function BS(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Vi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&L_.set(t,n)}).catch(()=>{}),Xh.set(e,n),e}function $S(n){if(ch.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});ch.set(n,e)}let dh={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ch.get(n);if(e==="objectStoreNames")return n.objectStoreNames||F_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function HS(n){dh=n(dh)}function WS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(zf(this),e,...t);return F_.set(i,e.sort?e.sort():[e]),Vi(i)}:US().includes(n)?function(...e){return n.apply(zf(this),e),Vi(L_.get(this))}:function(...e){return Vi(n.apply(zf(this),e))}}function qS(n){return typeof n=="function"?WS(n):(n instanceof IDBTransaction&&$S(n),jS(n,zS())?new Proxy(n,dh):n)}function Vi(n){if(n instanceof IDBRequest)return BS(n);if(jf.has(n))return jf.get(n);const e=qS(n);return e!==n&&(jf.set(n,e),Xh.set(e,n)),e}const zf=n=>Xh.get(n);function j_(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=Vi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Vi(c.result),p.oldVersion,p.newVersion,Vi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const GS=["get","getKey","getAll","getAllKeys","count"],KS=["put","add","delete","clear"],Uf=new Map;function by(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=KS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||GS.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return Uf.set(e,l),l}HS(n=>({...n,get:(e,t,i)=>by(e,t)||n.get(e,t,i),has:(e,t)=>!!by(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(YS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function YS(n){return n.getComponent()?.type==="VERSION"}const fh="@firebase/app",Ny="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new Yh("@firebase/app"),XS="@firebase/app-compat",JS="@firebase/analytics-compat",ZS="@firebase/analytics",ex="@firebase/app-check-compat",tx="@firebase/app-check",nx="@firebase/auth",rx="@firebase/auth-compat",ix="@firebase/database",sx="@firebase/data-connect",ox="@firebase/database-compat",ax="@firebase/functions",lx="@firebase/functions-compat",ux="@firebase/installations",cx="@firebase/installations-compat",dx="@firebase/messaging",fx="@firebase/messaging-compat",hx="@firebase/performance",px="@firebase/performance-compat",mx="@firebase/remote-config",gx="@firebase/remote-config-compat",yx="@firebase/storage",vx="@firebase/storage-compat",_x="@firebase/firestore",wx="@firebase/ai",Ex="@firebase/firestore-compat",Tx="firebase",Sx="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="[DEFAULT]",xx={[fh]:"fire-core",[XS]:"fire-core-compat",[ZS]:"fire-analytics",[JS]:"fire-analytics-compat",[tx]:"fire-app-check",[ex]:"fire-app-check-compat",[nx]:"fire-auth",[rx]:"fire-auth-compat",[ix]:"fire-rtdb",[sx]:"fire-data-connect",[ox]:"fire-rtdb-compat",[ax]:"fire-fn",[lx]:"fire-fn-compat",[ux]:"fire-iid",[cx]:"fire-iid-compat",[dx]:"fire-fcm",[fx]:"fire-fcm-compat",[hx]:"fire-perf",[px]:"fire-perf-compat",[mx]:"fire-rc",[gx]:"fire-rc-compat",[yx]:"fire-gcs",[vx]:"fire-gcs-compat",[_x]:"fire-fst",[Ex]:"fire-fst-compat",[wx]:"fire-vertex","fire-js":"fire-js",[Tx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new Map,Ix=new Map,ph=new Map;function Dy(n,e){try{n.container.addComponent(e)}catch(t){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fi(n){const e=n.name;if(ph.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;ph.set(e,n);for(const t of fl.values())Dy(t,n);for(const t of Ix.values())Dy(t,n);return!0}function Il(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ax(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new jc("app","Firebase",Cx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=Sx;function z_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:hh,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Oi.create("bad-app-name",{appName:String(o)});if(t||(t=V_()),!t)throw Oi.create("no-options");const l=fl.get(o);if(l){if(dl(t,l.options)&&dl(i,l.config))return l;throw Oi.create("duplicate-app",{appName:o})}const c=new VS(o);for(const p of ph.values())c.addComponent(p);const f=new Rx(t,i,c);return fl.set(o,f),f}function Jh(n=hh){const e=fl.get(n);if(!e&&n===hh&&V_())return z_();if(!e)throw Oi.create("no-app",{appName:n});return e}function kx(){return Array.from(fl.values())}function mr(n,e,t){let i=xx[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(c.join(" "));return}Fi(new Kr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="firebase-heartbeat-database",Nx=1,hl="firebase-heartbeat-store";let Bf=null;function U_(){return Bf||(Bf=j_(bx,Nx,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Oi.create("idb-open",{originalErrorMessage:n.message})})),Bf}async function Dx(n){try{const t=(await U_()).transaction(hl),i=await t.objectStore(hl).get(B_(n));return await t.done,i}catch(e){if(e instanceof Ki)Qr.warn(e.message);else{const t=Oi.create("idb-get",{originalErrorMessage:e?.message});Qr.warn(t.message)}}}async function Vy(n,e){try{const i=(await U_()).transaction(hl,"readwrite");await i.objectStore(hl).put(e,B_(n)),await i.done}catch(t){if(t instanceof Ki)Qr.warn(t.message);else{const i=Oi.create("idb-set",{originalErrorMessage:t?.message});Qr.warn(i.message)}}}function B_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=1024,Ox=30;class Mx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Fx(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Oy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>Ox){const o=jx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Oy(),{heartbeatsToSend:t,unsentEntries:i}=Lx(this._heartbeatsCache.heartbeats),o=vc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Qr.warn(e),""}}}function Oy(){return new Date().toISOString().substring(0,10)}function Lx(n,e=Vx){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),My(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),My(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Fx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kh()?Qh().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Dx(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Vy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function My(n){return vc(JSON.stringify({version:2,heartbeats:n})).length}function jx(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(n){Fi(new Kr("platform-logger",e=>new QS(e),"PRIVATE")),Fi(new Kr("heartbeat",e=>new Mx(e),"PRIVATE")),mr(fh,Ny,n),mr(fh,Ny,"esm2020"),mr("fire-js","")}zx("");var Ux="firebase",Bx="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(Ux,Bx,"app");const $_="@firebase/installations",Zh="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=1e4,W_=`w:${Zh}`,q_="FIS_v2",$x="https://firebaseinstallations.googleapis.com/v1",Hx=3600*1e3,Wx="installations",qx="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ps=new jc(Wx,qx,Gx);function G_(n){return n instanceof Ki&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_({projectId:n}){return`${$x}/projects/${n}/installations`}function Q_(n){return{token:n.token,requestStatus:2,expiresIn:Qx(n.expiresIn),creationTime:Date.now()}}async function Y_(n,e){const i=(await e.json()).error;return Ps.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function X_({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Kx(n,{refreshToken:e}){const t=X_(n);return t.append("Authorization",Yx(e)),t}async function J_(n){const e=await n();return e.status>=500&&e.status<600?n():e}function Qx(n){return Number(n.replace("s","000"))}function Yx(n){return`${q_} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=K_(n),o=X_(n),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const c={fid:t,authVersion:q_,appId:n.appId,sdkVersion:W_},f={method:"POST",headers:o,body:JSON.stringify(c)},p=await J_(()=>fetch(i,f));if(p.ok){const y=await p.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:Q_(y.authToken)}}else throw await Y_("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=/^[cdef][\w-]{21}$/,mh="";function eI(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=tI(n);return Zx.test(t)?t:mh}catch{return mh}}function tI(n){return Jx(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new Map;function tw(n,e){const t=zc(n);nw(t,e),nI(t,e)}function nw(n,e){const t=ew.get(n);if(t)for(const i of t)i(e)}function nI(n,e){const t=rI();t&&t.postMessage({key:n,fid:e}),iI()}let Is=null;function rI(){return!Is&&"BroadcastChannel"in self&&(Is=new BroadcastChannel("[Firebase] FID Change"),Is.onmessage=n=>{nw(n.data.key,n.data.fid)}),Is}function iI(){ew.size===0&&Is&&(Is.close(),Is=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="firebase-installations-database",oI=1,ks="firebase-installations-store";let $f=null;function ep(){return $f||($f=j_(sI,oI,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(ks)}}})),$f}async function _c(n,e){const t=zc(n),o=(await ep()).transaction(ks,"readwrite"),l=o.objectStore(ks),c=await l.get(t);return await l.put(e,t),await o.done,(!c||c.fid!==e.fid)&&tw(n,e.fid),e}async function rw(n){const e=zc(n),i=(await ep()).transaction(ks,"readwrite");await i.objectStore(ks).delete(e),await i.done}async function Uc(n,e){const t=zc(n),o=(await ep()).transaction(ks,"readwrite"),l=o.objectStore(ks),c=await l.get(t),f=e(c);return f===void 0?await l.delete(t):await l.put(f,t),await o.done,f&&(!c||c.fid!==f.fid)&&tw(n,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tp(n){let e;const t=await Uc(n.appConfig,i=>{const o=aI(i),l=lI(n,o);return e=l.registrationPromise,l.installationEntry});return t.fid===mh?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function aI(n){const e=n||{fid:eI(),registrationStatus:0};return iw(e)}function lI(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ps.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=uI(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:cI(n)}:{installationEntry:e}}async function uI(n,e){try{const t=await Xx(n,e);return _c(n.appConfig,t)}catch(t){throw G_(t)&&t.customData.serverCode===409?await rw(n.appConfig):await _c(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function cI(n){let e=await Ly(n.appConfig);for(;e.registrationStatus===1;)await Z_(100),e=await Ly(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await tp(n);return i||t}return e}function Ly(n){return Uc(n,e=>{if(!e)throw Ps.create("installation-not-found");return iw(e)})}function iw(n){return dI(n)?{fid:n.fid,registrationStatus:0}:n}function dI(n){return n.registrationStatus===1&&n.registrationTime+H_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI({appConfig:n,heartbeatServiceProvider:e},t){const i=hI(n,t),o=Kx(n,t),l=e.getImmediate({optional:!0});if(l){const y=await l.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const c={installation:{sdkVersion:W_,appId:n.appId}},f={method:"POST",headers:o,body:JSON.stringify(c)},p=await J_(()=>fetch(i,f));if(p.ok){const y=await p.json();return Q_(y)}else throw await Y_("Generate Auth Token",p)}function hI(n,{fid:e}){return`${K_(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function np(n,e=!1){let t;const i=await Uc(n.appConfig,l=>{if(!sw(l))throw Ps.create("not-registered");const c=l.authToken;if(!e&&gI(c))return l;if(c.requestStatus===1)return t=pI(n,e),l;{if(!navigator.onLine)throw Ps.create("app-offline");const f=vI(l);return t=mI(n,f),f}});return t?await t:i.authToken}async function pI(n,e){let t=await Fy(n.appConfig);for(;t.authToken.requestStatus===1;)await Z_(100),t=await Fy(n.appConfig);const i=t.authToken;return i.requestStatus===0?np(n,e):i}function Fy(n){return Uc(n,e=>{if(!sw(e))throw Ps.create("not-registered");const t=e.authToken;return _I(t)?{...e,authToken:{requestStatus:0}}:e})}async function mI(n,e){try{const t=await fI(n,e),i={...e,authToken:t};return await _c(n.appConfig,i),t}catch(t){if(G_(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await rw(n.appConfig);else{const i={...e,authToken:{requestStatus:0}};await _c(n.appConfig,i)}throw t}}function sw(n){return n!==void 0&&n.registrationStatus===2}function gI(n){return n.requestStatus===2&&!yI(n)}function yI(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Hx}function vI(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function _I(n){return n.requestStatus===1&&n.requestTime+H_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(n){const e=n,{installationEntry:t,registrationPromise:i}=await tp(e);return i?i.catch(console.error):np(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(n,e=!1){const t=n;return await TI(t),(await np(t,e)).token}async function TI(n){const{registrationPromise:e}=await tp(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(n){if(!n||!n.options)throw Hf("App Configuration");if(!n.name)throw Hf("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Hf(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Hf(n){return Ps.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="installations",xI="installations-internal",II=n=>{const e=n.getProvider("app").getImmediate(),t=SI(e),i=Il(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},AI=n=>{const e=n.getProvider("app").getImmediate(),t=Il(e,ow).getImmediate();return{getId:()=>wI(t),getToken:o=>EI(t,o)}};function CI(){Fi(new Kr(ow,II,"PUBLIC")),Fi(new Kr(xI,AI,"PRIVATE"))}CI();mr($_,Zh);mr($_,Zh,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc="analytics",RI="firebase_id",PI="origin",kI=60*1e3,bI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt=new Yh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_n=new jc("analytics","Analytics",NI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n){if(!n.startsWith(rp)){const e=_n.create("invalid-gtag-resource",{gtagURL:n});return Xt.warn(e.message),""}return n}function aw(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function VI(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function OI(n,e){const t=VI("firebase-js-sdk-policy",{createScriptURL:DI}),i=document.createElement("script"),o=`${rp}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function MI(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function LI(n,e,t,i,o,l){const c=i[o];try{if(c)await e[c];else{const p=(await aw(t)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(f){Xt.error(f)}n("config",o,l)}async function FI(n,e,t,i,o){try{let l=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const f=await aw(t);for(const p of c){const y=f.find(E=>E.measurementId===p),_=y&&e[y.appId];if(_)l.push(_);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",i,o||{})}catch(l){Xt.error(l)}}function jI(n,e,t,i){async function o(l,...c){try{if(l==="event"){const[f,p]=c;await FI(n,e,t,f,p)}else if(l==="config"){const[f,p]=c;await LI(n,e,t,i,f,p)}else if(l==="consent"){const[f,p]=c;n("consent",f,p)}else if(l==="get"){const[f,p,y]=c;n("get",f,p,y)}else if(l==="set"){const[f]=c;n("set",f)}else n(l,...c)}catch(f){Xt.error(f)}}return o}function zI(n,e,t,i,o){let l=function(...c){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=jI(l,n,e,t),{gtagCore:l,wrappedGtag:window[o]}}function UI(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(rp)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=30,$I=1e3;class HI{constructor(e={},t=$I){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const lw=new HI;function WI(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function qI(n){const{appId:e,apiKey:t}=n,i={method:"GET",headers:WI(t)},o=bI.replace("{app-id}",e),l=await fetch(o,i);if(l.status!==200&&l.status!==304){let c="";try{const f=await l.json();f.error?.message&&(c=f.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function GI(n,e=lw,t){const{appId:i,apiKey:o,measurementId:l}=n.options;if(!i)throw _n.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:i};throw _n.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new YI;return setTimeout(async()=>{f.abort()},kI),uw({appId:i,apiKey:o,measurementId:l},c,f,e)}async function uw(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=lw){const{appId:l,measurementId:c}=n;try{await KI(i,e)}catch(f){if(c)return Xt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:c};throw f}try{const f=await qI(n);return o.deleteThrottleMetadata(l),f}catch(f){const p=f;if(!QI(p)){if(o.deleteThrottleMetadata(l),c)return Xt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:c};throw f}const y=Number(p?.customData?.httpStatus)===503?Ry(t,o.intervalMillis,BI):Ry(t,o.intervalMillis),_={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return o.setThrottleMetadata(l,_),Xt.debug(`Calling attemptFetch again in ${y} millis`),uw(n,_,i,o)}}function KI(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(l),i(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function QI(n){if(!(n instanceof Ki)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class YI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function XI(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const l=await e,c={...i,send_to:l};n("event",t,c)}}async function JI(n,e,t,i){if(i&&i.global){const o={};for(const l of Object.keys(t))o[`user_properties.${l}`]=t[l];return n("set",o),Promise.resolve()}else{const o=await e;n("config",o,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(){if(Kh())try{await Qh()}catch(n){return Xt.warn(_n.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return Xt.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function eA(n,e,t,i,o,l,c){const f=GI(n);f.then(S=>{t[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&Xt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>Xt.error(S)),e.push(f);const p=ZI().then(S=>{if(S)return i.getId()}),[y,_]=await Promise.all([f,p]);UI(l)||OI(l,y.measurementId),o("js",new Date);const E=c?.config??{};return E[PI]="firebase",E.update=!0,_!=null&&(E[RI]=_),o("config",y.measurementId,E),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.app=e}_delete(){return delete Mo[this.app.options.appId],Promise.resolve()}}let Mo={},jy=[];const zy={};let Wf="dataLayer",nA="gtag",Uy,ip,By=!1;function rA(){const n=[];if(O_()&&n.push("This is a browser extension environment."),M_()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=_n.create("invalid-analytics-context",{errorInfo:e});Xt.warn(t.message)}}function iA(n,e,t){rA();const i=n.options.appId;if(!i)throw _n.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Xt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _n.create("no-api-key");if(Mo[i]!=null)throw _n.create("already-exists",{id:i});if(!By){MI(Wf);const{wrappedGtag:l,gtagCore:c}=zI(Mo,jy,zy,Wf,nA);ip=l,Uy=c,By=!0}return Mo[i]=eA(n,jy,zy,e,Uy,Wf,t),new tA(n)}function sA(n=Jh()){n=Tr(n);const e=Il(n,wc);return e.isInitialized()?e.getImmediate():oA(n)}function oA(n,e={}){const t=Il(n,wc);if(t.isInitialized()){const o=t.getImmediate();if(dl(e,t.getOptions()))return o;throw _n.create("already-initialized")}return t.initialize({options:e})}async function aA(){if(O_()||!M_()||!Kh())return!1;try{return await Qh()}catch{return!1}}function lA(n,e,t){n=Tr(n),JI(ip,Mo[n.app.options.appId],e,t).catch(i=>Xt.error(i))}function uA(n,e,t,i){n=Tr(n),XI(ip,Mo[n.app.options.appId],e,t,i).catch(o=>Xt.error(o))}const $y="@firebase/analytics",Hy="0.10.19";function cA(){Fi(new Kr(wc,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return iA(i,o,t)},"PUBLIC")),Fi(new Kr("analytics-internal",n,"PRIVATE")),mr($y,Hy),mr($y,Hy,"esm2020");function n(e){try{const t=e.getProvider(wc).getImmediate();return{logEvent:(i,o,l)=>uA(t,i,o,l),setUserProperties:(i,o)=>lA(t,i,o)}}catch(t){throw _n.create("interop-component-reg-failed",{reason:t})}}}cA();var Wy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mi,cw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,T){function k(){}k.prototype=T.prototype,C.F=T.prototype,C.prototype=new k,C.prototype.constructor=C,C.D=function(O,V,F){for(var P=Array(arguments.length-2),we=2;we<arguments.length;we++)P[we-2]=arguments[we];return T.prototype[V].apply(O,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,T,k){k||(k=0);const O=Array(16);if(typeof T=="string")for(var V=0;V<16;++V)O[V]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(V=0;V<16;++V)O[V]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=C.g[0],k=C.g[1],V=C.g[2];let F=C.g[3],P;P=T+(F^k&(V^F))+O[0]+3614090360&4294967295,T=k+(P<<7&4294967295|P>>>25),P=F+(V^T&(k^V))+O[1]+3905402710&4294967295,F=T+(P<<12&4294967295|P>>>20),P=V+(k^F&(T^k))+O[2]+606105819&4294967295,V=F+(P<<17&4294967295|P>>>15),P=k+(T^V&(F^T))+O[3]+3250441966&4294967295,k=V+(P<<22&4294967295|P>>>10),P=T+(F^k&(V^F))+O[4]+4118548399&4294967295,T=k+(P<<7&4294967295|P>>>25),P=F+(V^T&(k^V))+O[5]+1200080426&4294967295,F=T+(P<<12&4294967295|P>>>20),P=V+(k^F&(T^k))+O[6]+2821735955&4294967295,V=F+(P<<17&4294967295|P>>>15),P=k+(T^V&(F^T))+O[7]+4249261313&4294967295,k=V+(P<<22&4294967295|P>>>10),P=T+(F^k&(V^F))+O[8]+1770035416&4294967295,T=k+(P<<7&4294967295|P>>>25),P=F+(V^T&(k^V))+O[9]+2336552879&4294967295,F=T+(P<<12&4294967295|P>>>20),P=V+(k^F&(T^k))+O[10]+4294925233&4294967295,V=F+(P<<17&4294967295|P>>>15),P=k+(T^V&(F^T))+O[11]+2304563134&4294967295,k=V+(P<<22&4294967295|P>>>10),P=T+(F^k&(V^F))+O[12]+1804603682&4294967295,T=k+(P<<7&4294967295|P>>>25),P=F+(V^T&(k^V))+O[13]+4254626195&4294967295,F=T+(P<<12&4294967295|P>>>20),P=V+(k^F&(T^k))+O[14]+2792965006&4294967295,V=F+(P<<17&4294967295|P>>>15),P=k+(T^V&(F^T))+O[15]+1236535329&4294967295,k=V+(P<<22&4294967295|P>>>10),P=T+(V^F&(k^V))+O[1]+4129170786&4294967295,T=k+(P<<5&4294967295|P>>>27),P=F+(k^V&(T^k))+O[6]+3225465664&4294967295,F=T+(P<<9&4294967295|P>>>23),P=V+(T^k&(F^T))+O[11]+643717713&4294967295,V=F+(P<<14&4294967295|P>>>18),P=k+(F^T&(V^F))+O[0]+3921069994&4294967295,k=V+(P<<20&4294967295|P>>>12),P=T+(V^F&(k^V))+O[5]+3593408605&4294967295,T=k+(P<<5&4294967295|P>>>27),P=F+(k^V&(T^k))+O[10]+38016083&4294967295,F=T+(P<<9&4294967295|P>>>23),P=V+(T^k&(F^T))+O[15]+3634488961&4294967295,V=F+(P<<14&4294967295|P>>>18),P=k+(F^T&(V^F))+O[4]+3889429448&4294967295,k=V+(P<<20&4294967295|P>>>12),P=T+(V^F&(k^V))+O[9]+568446438&4294967295,T=k+(P<<5&4294967295|P>>>27),P=F+(k^V&(T^k))+O[14]+3275163606&4294967295,F=T+(P<<9&4294967295|P>>>23),P=V+(T^k&(F^T))+O[3]+4107603335&4294967295,V=F+(P<<14&4294967295|P>>>18),P=k+(F^T&(V^F))+O[8]+1163531501&4294967295,k=V+(P<<20&4294967295|P>>>12),P=T+(V^F&(k^V))+O[13]+2850285829&4294967295,T=k+(P<<5&4294967295|P>>>27),P=F+(k^V&(T^k))+O[2]+4243563512&4294967295,F=T+(P<<9&4294967295|P>>>23),P=V+(T^k&(F^T))+O[7]+1735328473&4294967295,V=F+(P<<14&4294967295|P>>>18),P=k+(F^T&(V^F))+O[12]+2368359562&4294967295,k=V+(P<<20&4294967295|P>>>12),P=T+(k^V^F)+O[5]+4294588738&4294967295,T=k+(P<<4&4294967295|P>>>28),P=F+(T^k^V)+O[8]+2272392833&4294967295,F=T+(P<<11&4294967295|P>>>21),P=V+(F^T^k)+O[11]+1839030562&4294967295,V=F+(P<<16&4294967295|P>>>16),P=k+(V^F^T)+O[14]+4259657740&4294967295,k=V+(P<<23&4294967295|P>>>9),P=T+(k^V^F)+O[1]+2763975236&4294967295,T=k+(P<<4&4294967295|P>>>28),P=F+(T^k^V)+O[4]+1272893353&4294967295,F=T+(P<<11&4294967295|P>>>21),P=V+(F^T^k)+O[7]+4139469664&4294967295,V=F+(P<<16&4294967295|P>>>16),P=k+(V^F^T)+O[10]+3200236656&4294967295,k=V+(P<<23&4294967295|P>>>9),P=T+(k^V^F)+O[13]+681279174&4294967295,T=k+(P<<4&4294967295|P>>>28),P=F+(T^k^V)+O[0]+3936430074&4294967295,F=T+(P<<11&4294967295|P>>>21),P=V+(F^T^k)+O[3]+3572445317&4294967295,V=F+(P<<16&4294967295|P>>>16),P=k+(V^F^T)+O[6]+76029189&4294967295,k=V+(P<<23&4294967295|P>>>9),P=T+(k^V^F)+O[9]+3654602809&4294967295,T=k+(P<<4&4294967295|P>>>28),P=F+(T^k^V)+O[12]+3873151461&4294967295,F=T+(P<<11&4294967295|P>>>21),P=V+(F^T^k)+O[15]+530742520&4294967295,V=F+(P<<16&4294967295|P>>>16),P=k+(V^F^T)+O[2]+3299628645&4294967295,k=V+(P<<23&4294967295|P>>>9),P=T+(V^(k|~F))+O[0]+4096336452&4294967295,T=k+(P<<6&4294967295|P>>>26),P=F+(k^(T|~V))+O[7]+1126891415&4294967295,F=T+(P<<10&4294967295|P>>>22),P=V+(T^(F|~k))+O[14]+2878612391&4294967295,V=F+(P<<15&4294967295|P>>>17),P=k+(F^(V|~T))+O[5]+4237533241&4294967295,k=V+(P<<21&4294967295|P>>>11),P=T+(V^(k|~F))+O[12]+1700485571&4294967295,T=k+(P<<6&4294967295|P>>>26),P=F+(k^(T|~V))+O[3]+2399980690&4294967295,F=T+(P<<10&4294967295|P>>>22),P=V+(T^(F|~k))+O[10]+4293915773&4294967295,V=F+(P<<15&4294967295|P>>>17),P=k+(F^(V|~T))+O[1]+2240044497&4294967295,k=V+(P<<21&4294967295|P>>>11),P=T+(V^(k|~F))+O[8]+1873313359&4294967295,T=k+(P<<6&4294967295|P>>>26),P=F+(k^(T|~V))+O[15]+4264355552&4294967295,F=T+(P<<10&4294967295|P>>>22),P=V+(T^(F|~k))+O[6]+2734768916&4294967295,V=F+(P<<15&4294967295|P>>>17),P=k+(F^(V|~T))+O[13]+1309151649&4294967295,k=V+(P<<21&4294967295|P>>>11),P=T+(V^(k|~F))+O[4]+4149444226&4294967295,T=k+(P<<6&4294967295|P>>>26),P=F+(k^(T|~V))+O[11]+3174756917&4294967295,F=T+(P<<10&4294967295|P>>>22),P=V+(T^(F|~k))+O[2]+718787259&4294967295,V=F+(P<<15&4294967295|P>>>17),P=k+(F^(V|~T))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+T&4294967295,C.g[1]=C.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+F&4294967295}i.prototype.v=function(C,T){T===void 0&&(T=C.length);const k=T-this.blockSize,O=this.C;let V=this.h,F=0;for(;F<T;){if(V==0)for(;F<=k;)o(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<T;)if(O[V++]=C.charCodeAt(F++),V==this.blockSize){o(this,O),V=0;break}}else for(;F<T;)if(O[V++]=C[F++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=T},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var T=1;T<C.length-8;++T)C[T]=0;T=this.o*8;for(var k=C.length-8;k<C.length;++k)C[k]=T&255,T/=256;for(this.v(C),C=Array(16),T=0,k=0;k<4;++k)for(let O=0;O<32;O+=8)C[T++]=this.g[k]>>>O&255;return C};function l(C,T){var k=f;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=T(C)}function c(C,T){this.h=T;const k=[];let O=!0;for(let V=C.length-1;V>=0;V--){const F=C[V]|0;O&&F==T||(k[V]=F,O=!1)}this.g=k}var f={};function p(C){return-128<=C&&C<128?l(C,function(T){return new c([T|0],T<0?-1:0)}):new c([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return N(y(-C));const T=[];let k=1;for(let O=0;C>=k;O++)T[O]=C/k|0,k*=4294967296;return new c(T,0)}function _(C,T){if(C.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(C.charAt(0)=="-")return N(_(C.substring(1),T));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=y(Math.pow(T,8));let O=E;for(let F=0;F<C.length;F+=8){var V=Math.min(8,C.length-F);const P=parseInt(C.substring(F,F+V),T);V<8?(V=y(Math.pow(T,V)),O=O.j(V).add(y(P))):(O=O.j(k),O=O.add(y(P)))}return O}var E=p(0),S=p(1),R=p(16777216);n=c.prototype,n.m=function(){if(A(this))return-N(this).m();let C=0,T=1;for(let k=0;k<this.g.length;k++){const O=this.i(k);C+=(O>=0?O:4294967296+O)*T,T*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(M(this))return"0";if(A(this))return"-"+N(this).toString(C);const T=y(Math.pow(C,6));var k=this;let O="";for(;;){const V=K(k,T).g;k=W(k,V.j(T));let F=((k.g.length>0?k.g[0]:k.h)>>>0).toString(C);if(k=V,M(k))return F+O;for(;F.length<6;)F="0"+F;O=F+O}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function M(C){if(C.h!=0)return!1;for(let T=0;T<C.g.length;T++)if(C.g[T]!=0)return!1;return!0}function A(C){return C.h==-1}n.l=function(C){return C=W(this,C),A(C)?-1:M(C)?0:1};function N(C){const T=C.g.length,k=[];for(let O=0;O<T;O++)k[O]=~C.g[O];return new c(k,~C.h).add(S)}n.abs=function(){return A(this)?N(this):this},n.add=function(C){const T=Math.max(this.g.length,C.g.length),k=[];let O=0;for(let V=0;V<=T;V++){let F=O+(this.i(V)&65535)+(C.i(V)&65535),P=(F>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);O=P>>>16,F&=65535,P&=65535,k[V]=P<<16|F}return new c(k,k[k.length-1]&-2147483648?-1:0)};function W(C,T){return C.add(N(T))}n.j=function(C){if(M(this)||M(C))return E;if(A(this))return A(C)?N(this).j(N(C)):N(N(this).j(C));if(A(C))return N(this.j(N(C)));if(this.l(R)<0&&C.l(R)<0)return y(this.m()*C.m());const T=this.g.length+C.g.length,k=[];for(var O=0;O<2*T;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<C.g.length;V++){const F=this.i(O)>>>16,P=this.i(O)&65535,we=C.i(V)>>>16,Re=C.i(V)&65535;k[2*O+2*V]+=P*Re,$(k,2*O+2*V),k[2*O+2*V+1]+=F*Re,$(k,2*O+2*V+1),k[2*O+2*V+1]+=P*we,$(k,2*O+2*V+1),k[2*O+2*V+2]+=F*we,$(k,2*O+2*V+2)}for(C=0;C<T;C++)k[C]=k[2*C+1]<<16|k[2*C];for(C=T;C<2*T;C++)k[C]=0;return new c(k,0)};function $(C,T){for(;(C[T]&65535)!=C[T];)C[T+1]+=C[T]>>>16,C[T]&=65535,T++}function G(C,T){this.g=C,this.h=T}function K(C,T){if(M(T))throw Error("division by zero");if(M(C))return new G(E,E);if(A(C))return T=K(N(C),T),new G(N(T.g),N(T.h));if(A(T))return T=K(C,N(T)),new G(N(T.g),T.h);if(C.g.length>30){if(A(C)||A(T))throw Error("slowDivide_ only works with positive integers.");for(var k=S,O=T;O.l(C)<=0;)k=Z(k),O=Z(O);var V=se(k,1),F=se(O,1);for(O=se(O,2),k=se(k,2);!M(O);){var P=F.add(O);P.l(C)<=0&&(V=V.add(k),F=P),O=se(O,1),k=se(k,1)}return T=W(C,V.j(T)),new G(V,T)}for(V=E;C.l(T)>=0;){for(k=Math.max(1,Math.floor(C.m()/T.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),F=y(k),P=F.j(T);A(P)||P.l(C)>0;)k-=O,F=y(k),P=F.j(T);M(F)&&(F=S),V=V.add(F),C=W(C,P)}return new G(V,C)}n.B=function(C){return K(this,C).h},n.and=function(C){const T=Math.max(this.g.length,C.g.length),k=[];for(let O=0;O<T;O++)k[O]=this.i(O)&C.i(O);return new c(k,this.h&C.h)},n.or=function(C){const T=Math.max(this.g.length,C.g.length),k=[];for(let O=0;O<T;O++)k[O]=this.i(O)|C.i(O);return new c(k,this.h|C.h)},n.xor=function(C){const T=Math.max(this.g.length,C.g.length),k=[];for(let O=0;O<T;O++)k[O]=this.i(O)^C.i(O);return new c(k,this.h^C.h)};function Z(C){const T=C.g.length+1,k=[];for(let O=0;O<T;O++)k[O]=C.i(O)<<1|C.i(O-1)>>>31;return new c(k,C.h)}function se(C,T){const k=T>>5;T%=32;const O=C.g.length-k,V=[];for(let F=0;F<O;F++)V[F]=T>0?C.i(F+k)>>>T|C.i(F+k+1)<<32-T:C.i(F+k);return new c(V,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,cw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=_,Mi=c}).apply(typeof Wy<"u"?Wy:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dw,Za,fw,lc,gh,hw,pw,mw;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var v=i;u=u.split(".");for(var x=0;x<u.length-1;x++){var H=u[x];if(!(H in v))break e;v=v[H]}u=u[u.length-1],x=v[u],g=g(x),g!=x&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var v=[],x;for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&v.push([x,g[x]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function p(u,g,v){return u.call.apply(u.bind,arguments)}function y(u,g,v){return y=p,y.apply(null,arguments)}function _(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var x=v.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function E(u,g){function v(){}v.prototype=g.prototype,u.Z=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(x,H,Y){for(var ue=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ue[Me-2]=arguments[Me];return g.prototype[H].apply(x,ue)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function R(u){const g=u.length;if(g>0){const v=Array(g);for(let x=0;x<g;x++)v[x]=u[x];return v}return[]}function M(u,g){for(let x=1;x<arguments.length;x++){const H=arguments[x];var v=typeof H;if(v=v!="object"?v:H?Array.isArray(H)?"array":v:"null",v=="array"||v=="object"&&typeof H.length=="number"){v=u.length||0;const Y=H.length||0;u.length=v+Y;for(let ue=0;ue<Y;ue++)u[v+ue]=H[ue]}else u.push(H)}}class A{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function N(u){c.setTimeout(()=>{throw u},0)}function W(){var u=C;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ${constructor(){this.h=this.g=null}add(g,v){const x=G.get();x.set(g,v),this.h?this.h.next=x:this.g=x,this.h=x}}var G=new A(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,se=!1,C=new $,T=()=>{const u=Promise.resolve(void 0);Z=()=>{u.then(k)}};function k(){for(var u;u=W();){try{u.h.call(u.g)}catch(v){N(v)}var g=G;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}se=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};c.addEventListener("test",v,g),c.removeEventListener("test",v,g)}catch{}return u})();function P(u){return/^[\s\xa0]*$/.test(u)}function we(u,g){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}E(we,V),we.prototype.init=function(u,g){const v=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&we.Z.h.call(this)},we.prototype.h=function(){we.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),Te=0;function _e(u,g,v,x,H){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!x,this.ha=H,this.key=++Te,this.da=this.fa=!1}function U(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function le(u,g,v){for(const x in u)g.call(v,u[x],x,u)}function ae(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function z(u){const g={};for(const v in u)g[v]=u[v];return g}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(u,g){let v,x;for(let H=1;H<arguments.length;H++){x=arguments[H];for(v in x)u[v]=x[v];for(let Y=0;Y<J.length;Y++)v=J[Y],Object.prototype.hasOwnProperty.call(x,v)&&(u[v]=x[v])}}function pe(u){this.src=u,this.g={},this.h=0}pe.prototype.add=function(u,g,v,x,H){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const ue=Ne(u,g,x,H);return ue>-1?(g=u[ue],v||(g.fa=!1)):(g=new _e(g,this.src,Y,!!x,H),g.fa=v,u.push(g)),g};function ke(u,g){const v=g.type;if(v in u.g){var x=u.g[v],H=Array.prototype.indexOf.call(x,g,void 0),Y;(Y=H>=0)&&Array.prototype.splice.call(x,H,1),Y&&(U(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ne(u,g,v,x){for(let H=0;H<u.length;++H){const Y=u[H];if(!Y.da&&Y.listener==g&&Y.capture==!!v&&Y.ha==x)return H}return-1}var re="closure_lm_"+(Math.random()*1e6|0),xe={};function be(u,g,v,x,H){if(Array.isArray(g)){for(let Y=0;Y<g.length;Y++)be(u,g[Y],v,x,H);return null}return v=ra(v),u&&u[Re]?u.J(g,v,f(x)?!!x.capture:!1,H):Ve(u,g,v,!1,x,H)}function Ve(u,g,v,x,H,Y){if(!g)throw Error("Invalid event type");const ue=f(H)?!!H.capture:!!H;let Me=Gn(u);if(Me||(u[re]=Me=new pe(u)),v=Me.add(g,v,x,ue,Y),v.proxy)return v;if(x=Be(),v.proxy=x,x.src=u,x.listener=v,u.addEventListener)F||(H=ue),H===void 0&&(H=!1),u.addEventListener(g.toString(),x,H);else if(u.attachEvent)u.attachEvent(Jt(g.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Be(){function u(v){return g.call(u.src,u.listener,v)}const g=ei;return u}function Ke(u,g,v,x,H){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)Ke(u,g[Y],v,x,H);else x=f(x)?!!x.capture:!!x,v=ra(v),u&&u[Re]?(u=u.i,Y=String(g).toString(),Y in u.g&&(g=u.g[Y],v=Ne(g,v,x,H),v>-1&&(U(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete u.g[Y],u.h--)))):u&&(u=Gn(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ne(g,v,x,H)),(v=u>-1?g[u]:null)&&dt(v))}function dt(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Re])ke(g.i,u);else{var v=u.type,x=u.proxy;g.removeEventListener?g.removeEventListener(v,x,u.capture):g.detachEvent?g.detachEvent(Jt(v),x):g.addListener&&g.removeListener&&g.removeListener(x),(v=Gn(g))?(ke(v,u),v.h==0&&(v.src=null,g[re]=null)):U(u)}}}function Jt(u){return u in xe?xe[u]:xe[u]="on"+u}function ei(u,g){if(u.da)u=!0;else{g=new we(g,this);const v=u.listener,x=u.ha||u.src;u.fa&&dt(u),u=v.call(x,g)}return u}function Gn(u){return u=u[re],u instanceof pe?u:null}var bn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ra(u){return typeof u=="function"?u:(u[bn]||(u[bn]=function(g){return u.handleEvent(g)}),u[bn])}function yt(){O.call(this),this.i=new pe(this),this.M=this,this.G=null}E(yt,O),yt.prototype[Re]=!0,yt.prototype.removeEventListener=function(u,g,v,x){Ke(this,u,g,v,x)};function ft(u,g){var v,x=u.G;if(x)for(v=[];x;x=x.G)v.push(x);if(u=u.M,x=g.type||g,typeof g=="string")g=new V(g,u);else if(g instanceof V)g.target=g.target||u;else{var H=g;g=new V(x,u),me(g,H)}H=!0;let Y,ue;if(v)for(ue=v.length-1;ue>=0;ue--)Y=g.g=v[ue],H=Nn(Y,x,!0,g)&&H;if(Y=g.g=u,H=Nn(Y,x,!0,g)&&H,H=Nn(Y,x,!1,g)&&H,v)for(ue=0;ue<v.length;ue++)Y=g.g=v[ue],H=Nn(Y,x,!1,g)&&H}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const v=u.g[g];for(let x=0;x<v.length;x++)U(v[x]);delete u.g[g],u.h--}}this.G=null},yt.prototype.J=function(u,g,v,x){return this.i.add(String(u),g,!1,v,x)},yt.prototype.K=function(u,g,v,x){return this.i.add(String(u),g,!0,v,x)};function Nn(u,g,v,x){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let H=!0;for(let Y=0;Y<g.length;++Y){const ue=g[Y];if(ue&&!ue.da&&ue.capture==v){const Me=ue.listener,ht=ue.ha||ue.src;ue.fa&&ke(u.i,ue),H=Me.call(ht,x)!==!1&&H}}return H&&!x.defaultPrevented}function ia(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:c.setTimeout(u,g||0)}function sa(u){u.g=ia(()=>{u.g=null,u.i&&(u.i=!1,sa(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Ol extends O{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:sa(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(u){O.call(this),this.h=u,this.g={}}E(ti,O);var oa=[];function Bs(u){le(u.g,function(g,v){this.g.hasOwnProperty(v)&&dt(g)},u),u.g={}}ti.prototype.N=function(){ti.Z.N.call(this),Bs(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ni=c.JSON.stringify,Ml=c.JSON.parse,Xi=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function ri(){}function Ll(){}var ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $s(){V.call(this,"d")}E($s,V);function aa(){V.call(this,"c")}E(aa,V);var Dn={},Hs=null;function si(){return Hs=Hs||new yt}Dn.Ia="serverreachability";function Ws(u){V.call(this,Dn.Ia,u)}E(Ws,V);function Cr(u){const g=si();ft(g,new Ws(g))}Dn.STAT_EVENT="statevent";function Rr(u,g){V.call(this,Dn.STAT_EVENT,u),this.stat=g}E(Rr,V);function ut(u){const g=si();ft(g,new Rr(g,u))}Dn.Ja="timingevent";function la(u,g){V.call(this,Dn.Ja,u),this.size=g}E(la,V);function oi(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},g)}function ai(){this.g=!0}ai.prototype.ua=function(){this.g=!1};function Fl(u,g,v,x,H,Y){u.info(function(){if(u.g)if(Y){var ue="",Me=Y.split("&");for(let Xe=0;Xe<Me.length;Xe++){var ht=Me[Xe].split("=");if(ht.length>1){const vt=ht[0];ht=ht[1];const pn=vt.split("_");ue=pn.length>=2&&pn[1]=="type"?ue+(vt+"="+ht+"&"):ue+(vt+"=redacted&")}}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+x+") [attempt "+H+"]: "+g+`
`+v+`
`+ue})}function jl(u,g,v,x,H,Y,ue){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+H+"]: "+g+`
`+v+`
`+Y+" "+ue})}function Kn(u,g,v,x){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ji(u,v)+(x?" "+x:"")})}function zl(u,g){u.info(function(){return"TIMEOUT: "+g})}ai.prototype.info=function(){};function Ji(u,g){if(!u.g)return g;if(!g)return null;try{const Y=JSON.parse(g);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var v=Y[u];if(!(v.length<2)){var x=v[1];if(Array.isArray(x)&&!(x.length<1)){var H=x[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ue=1;ue<x.length;ue++)x[ue]=""}}}}return ni(Y)}catch{return g}}var li={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ui={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ul;function Pr(){}E(Pr,ri),Pr.prototype.g=function(){return new XMLHttpRequest},Ul=new Pr;function Qn(u){return encodeURIComponent(String(u))}function qs(u){var g=1;u=u.split(":");const v=[];for(;g>0&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function En(u,g,v,x){this.j=u,this.i=g,this.l=v,this.S=x||1,this.V=new ti(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bl}function Bl(){this.i=null,this.g="",this.h=!1}var $l={},ua={};function Vn(u,g,v){u.M=1,u.A=br(Tn(g)),u.u=v,u.R=!0,ca(u,null)}function ca(u,g){u.F=Date.now(),Zi(u),u.B=Tn(u.A);var v=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),wa(v.i,"t",x),u.C=0,v=u.j.L,u.h=new Bl,u.g=Zl(u.j,v?g:null,!u.u),u.P>0&&(u.O=new Ol(y(u.Y,u,u.g),u.P)),g=u.V,v=u.g,x=u.ba;var H="readystatechange";Array.isArray(H)||(H&&(oa[0]=H.toString()),H=oa);for(let Y=0;Y<H.length;Y++){const ue=be(v,H[Y],x||g.handleEvent,!1,g.h||g);if(!ue)break;g.g[ue.key]=ue}g=u.J?z(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),Cr(),Fl(u.i,u.v,u.B,u.l,u.S,u.u)}En.prototype.ba=function(u){u=u.target;const g=this.O;g&&nr(u)==3?g.j():this.Y(u)},En.prototype.Y=function(u){try{if(u==this.g)e:{const Me=nr(this.g),ht=this.g.ya(),Xe=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||Xl(this.g)))){this.K||Me!=4||ht==7||(ht==8||Xe<=0?Cr(3):Cr(2)),Gs(this);var g=this.g.ca();this.X=g;var v=Hl(this);if(this.o=g==200,jl(this.i,this.v,this.B,this.l,this.S,Me,g),this.o){if(this.U&&!this.L){t:{if(this.g){var x,H=this.g;if((x=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(x)){var Y=x;break t}}Y=null}if(u=Y)Kn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,u);else{this.o=!1,this.m=3,ut(12),kr(this),es(this);break e}}if(this.R){u=!0;let vt;for(;!this.K&&this.C<v.length;)if(vt=ql(this,v),vt==ua){Me==4&&(this.m=4,ut(14),u=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==$l){this.m=4,ut(15),Kn(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Kn(this.i,this.l,vt,null),tt(this,vt);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||v.length!=0||this.h.h||(this.m=1,ut(16),u=!1),this.o=this.o&&u,!u)Kn(this.i,this.l,v,"[Invalid Chunked Response]"),kr(this),es(this);else if(v.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),us(ue),ue.P=!0,ut(11))}}else Kn(this.i,this.l,v,null),tt(this,v);Me==4&&kr(this),this.o&&!this.K&&(Me==4?ro(this.j,this):(this.o=!1,Zi(this)))}else Ta(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,ut(12)):(this.m=0,ut(13)),kr(this),es(this)}}}catch{}finally{}};function Hl(u){if(!Wl(u))return u.g.la();const g=Xl(u.g);if(g==="")return"";let v="";const x=g.length,H=nr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return kr(u),es(u),"";u.h.i=new c.TextDecoder}for(let Y=0;Y<x;Y++)u.h.h=!0,v+=u.h.i.decode(g[Y],{stream:!(H&&Y==x-1)});return g.length=0,u.h.g+=v,u.C=0,u.h.g}function Wl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ql(u,g){var v=u.C,x=g.indexOf(`
`,v);return x==-1?ua:(v=Number(g.substring(v,x)),isNaN(v)?$l:(x+=1,x+v>g.length?ua:(g=g.slice(x,x+v),u.C=x+v,g)))}En.prototype.cancel=function(){this.K=!0,kr(this)};function Zi(u){u.T=Date.now()+u.H,da(u,u.H)}function da(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=oi(y(u.aa,u),g)}function Gs(u){u.D&&(c.clearTimeout(u.D),u.D=null)}En.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(zl(this.i,this.B),this.M!=2&&(Cr(),ut(17)),kr(this),this.m=2,es(this)):da(this,this.T-u)};function es(u){u.j.I==0||u.K||ro(u.j,u)}function kr(u){Gs(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Bs(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function tt(u,g){try{var v=u.j;if(v.I!=0&&(v.g==u||ha(v.h,u))){if(!u.L&&ha(v.h,u)&&v.I==3){try{var x=v.Ba.g.parse(g)}catch{x=null}if(Array.isArray(x)&&x.length==3){var H=x;if(H[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)no(v),fn(v);else break e;sr(v),ut(18)}}else v.xa=H[1],0<v.xa-v.K&&H[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(y(v.Va,v),6e3));ts(v.h)<=1&&v.ta&&(v.ta=void 0)}else hn(v,11)}else if((u.L||v.g==u)&&no(v),!P(g))for(H=v.Ba.g.parse(g),g=0;g<H.length;g++){let Xe=H[g];const vt=Xe[0];if(!(vt<=v.K))if(v.K=vt,Xe=Xe[1],v.I==2)if(Xe[0]=="c"){v.M=Xe[1],v.ba=Xe[2];const pn=Xe[3];pn!=null&&(v.ka=pn,v.j.info("VER="+v.ka));const Mr=Xe[4];Mr!=null&&(v.za=Mr,v.j.info("SVER="+v.za));const or=Xe[5];or!=null&&typeof or=="number"&&or>0&&(x=1.5*or,v.O=x,v.j.info("backChannelRequestTimeoutMs_="+x)),x=v;const ar=u.g;if(ar){const oo=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oo){var Y=x.h;Y.g||oo.indexOf("spdy")==-1&&oo.indexOf("quic")==-1&&oo.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Qs(Y,Y.h),Y.h=null))}if(x.G){const Ia=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(x.wa=Ia,Qe(x.J,x.G,Ia))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),x=v;var ue=u;if(x.na=xa(x,x.L?x.ba:null,x.W),ue.L){ns(x.h,ue);var Me=ue,ht=x.O;ht&&(Me.H=ht),Me.D&&(Gs(Me),Zi(Me)),x.g=ue}else Ut(x);v.i.length>0&&Or(v)}else Xe[0]!="stop"&&Xe[0]!="close"||hn(v,7);else v.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?hn(v,7):eo(v):Xe[0]!="noop"&&v.l&&v.l.qa(Xe),v.A=0)}}Cr(4)}catch{}}var cd=class{constructor(u,g){this.g=u,this.map=g}};function Ks(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ts(u){return u.h?1:u.g?u.g.size:0}function ha(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Qs(u,g){u.g?u.g.add(g):u.h=g}function ns(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Ks.prototype.cancel=function(){if(this.i=un(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function un(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.G);return g}return R(u.i)}var Gl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cn(u,g){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const x=u[v].indexOf("=");let H,Y=null;x>=0?(H=u[v].substring(0,x),Y=u[v].substring(x+1)):H=u[v],g(H,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Yn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Yn?(this.l=u.l,rs(this,u.j),this.o=u.o,this.g=u.g,Xn(this,u.u),this.h=u.h,ci(this,Ea(u.i)),this.m=u.m):u&&(g=String(u).match(Gl))?(this.l=!1,rs(this,g[1]||"",!0),this.o=is(g[2]||""),this.g=is(g[3]||"",!0),Xn(this,g[4]),this.h=is(g[5]||"",!0),ci(this,g[6]||"",!0),this.m=is(g[7]||"")):(this.l=!1,this.i=new $e(null,this.l))}Yn.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(ss(g,ma,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ss(g,ma,!0),"@"),u.push(Qn(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ss(v,v.charAt(0)=="/"?os:ga,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ss(v,ya)),u.join("")},Yn.prototype.resolve=function(u){const g=Tn(this);let v=!!u.j;v?rs(g,u.j):v=!!u.o,v?g.o=u.o:v=!!u.g,v?g.g=u.g:v=u.u!=null;var x=u.h;if(v)Xn(g,u.u);else if(v=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var H=g.h.lastIndexOf("/");H!=-1&&(x=g.h.slice(0,H+1)+x)}if(H=x,H==".."||H==".")x="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){x=H.lastIndexOf("/",0)==0,H=H.split("/");const Y=[];for(let ue=0;ue<H.length;){const Me=H[ue++];Me=="."?x&&ue==H.length&&Y.push(""):Me==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),x&&ue==H.length&&Y.push("")):(Y.push(Me),x=!0)}x=Y.join("/")}else x=H}return v?g.h=x:v=u.i.toString()!=="",v?ci(g,Ea(u.i)):v=!!u.m,v&&(g.m=u.m),g};function Tn(u){return new Yn(u)}function rs(u,g,v){u.j=v?is(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Xn(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function ci(u,g,v){g instanceof $e?(u.i=g,Xs(u.i,u.l)):(v||(g=ss(g,dd)),u.i=new $e(g,u.l))}function Qe(u,g,v){u.i.set(g,v)}function br(u){return Qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function is(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ss(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,pa),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pa(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ma=/[#\/\?@]/g,ga=/[#\?:]/g,os=/[#\?]/g,dd=/[#\?@]/g,ya=/#/g;function $e(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Jn(u){u.g||(u.g=new Map,u.h=0,u.i&&cn(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}n=$e.prototype,n.add=function(u,g){Jn(this),this.i=null,u=Zn(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function va(u,g){Jn(u),g=Zn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Ys(u,g){return Jn(u),g=Zn(u,g),u.g.has(g)}n.forEach=function(u,g){Jn(this),this.g.forEach(function(v,x){v.forEach(function(H){u.call(g,H,x,this)},this)},this)};function _a(u,g){Jn(u);let v=[];if(typeof g=="string")Ys(u,g)&&(v=v.concat(u.g.get(Zn(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)v=v.concat(u[g]);return v}n.set=function(u,g){return Jn(this),this.i=null,u=Zn(this,u),Ys(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=_a(this,u),u.length>0?String(u[0]):g):g};function wa(u,g,v){va(u,g),v.length>0&&(u.i=null,u.g.set(Zn(u,g),R(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let x=0;x<g.length;x++){var v=g[x];const H=Qn(v);v=_a(this,v);for(let Y=0;Y<v.length;Y++){let ue=H;v[Y]!==""&&(ue+="="+Qn(v[Y])),u.push(ue)}}return this.i=u.join("&")};function Ea(u){const g=new $e;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function Zn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Xs(u,g){g&&!u.j&&(Jn(u),u.i=null,u.g.forEach(function(v,x){const H=x.toLowerCase();x!=H&&(va(this,x),wa(this,H,v))},u)),u.j=g}function er(u,g){const v=new ai;if(c.Image){const x=new Image;x.onload=_(Dt,v,"TestLoadImage: loaded",!0,g,x),x.onerror=_(Dt,v,"TestLoadImage: error",!1,g,x),x.onabort=_(Dt,v,"TestLoadImage: abort",!1,g,x),x.ontimeout=_(Dt,v,"TestLoadImage: timeout",!1,g,x),c.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else g(!1)}function tr(u,g){const v=new ai,x=new AbortController,H=setTimeout(()=>{x.abort(),Dt(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:x.signal}).then(Y=>{clearTimeout(H),Y.ok?Dt(v,"TestPingServer: ok",!0,g):Dt(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(H),Dt(v,"TestPingServer: error",!1,g)})}function Dt(u,g,v,x,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),x(v)}catch{}}function as(){this.g=new Xi}function Nr(u){this.i=u.Sb||null,this.h=u.ab||!1}E(Nr,ri),Nr.prototype.g=function(){return new dn(this.i,this.h)};function dn(u,g){yt.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(dn,yt),n=dn.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,On(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||c).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,On(this)),this.g&&(this.readyState=3,On(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Kl(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Kl(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?di(this):On(this),this.readyState==3&&Kl(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,di(this))},n.Na=function(u){this.g&&(this.response=u,di(this))},n.ga=function(){this.g&&di(this)};function di(u){u.readyState=4,u.l=null,u.j=null,u.B=null,On(u)}n.setRequestHeader=function(u,g){this.A.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function On(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(dn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ql(u){let g="";return le(u,function(v,x){g+=x,g+=":",g+=v,g+=`\r
`}),g}function Js(u,g,v){e:{for(x in v){var x=!1;break e}x=!0}x||(v=Ql(v),typeof u=="string"?v!=null&&Qn(v):Qe(u,g,v))}function Je(u){yt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(Je,yt);var Yl=/^https?$/i,fd=["POST","PUT"];n=Je.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,g,v,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ul.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(Y){fi(this,Y);return}if(u=v||"",v=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var H in x)v.set(H,x[H]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Y of x.keys())v.set(Y,x.get(Y));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(fd,g,void 0)>=0)||x||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of v)this.g.setRequestHeader(Y,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){fi(this,Y)}};function fi(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,hi(u),Vr(u)}function hi(u){u.A||(u.A=!0,ft(u,"complete"),ft(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ft(this,"complete"),ft(this,"abort"),Vr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vr(this,!0)),Je.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},n.Xa=function(){Dr(this)};function Dr(u){if(u.h&&typeof l<"u"){if(u.v&&nr(u)==4)setTimeout(u.Ca.bind(u),0);else if(ft(u,"readystatechange"),nr(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var x;if(x=Y===0){let ue=String(u.D).match(Gl)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),x=!Yl.test(ue?ue.toLowerCase():"")}v=x}if(v)ft(u,"complete"),ft(u,"success");else{u.o=6;try{var H=nr(u)>2?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.ca()+"]",hi(u)}}finally{Vr(u)}}}}function Vr(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,g||ft(u,"ready");try{v.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function nr(u){return u.g?u.g.readyState:0}n.ca=function(){try{return nr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Ml(g)}};function Xl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ta(u){const g={};u=(u.g&&nr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(P(u[x]))continue;var v=qs(u[x]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=g[H]||[];g[H]=Y,Y.push(v)}ae(g,function(x){return x.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function Zs(u){this.za=0,this.i=[],this.j=new ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=rr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=rr("baseRetryDelayMs",5e3,u),this.Za=rr("retryDelaySeedMs",1e4,u),this.Ta=rr("forwardChannelMaxRetries",2,u),this.va=rr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ks(u&&u.concurrentRequestLimit),this.Ba=new as,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Zs.prototype,n.ka=8,n.I=1,n.connect=function(u,g,v,x){ut(0),this.W=u,this.H=g||{},v&&x!==void 0&&(this.H.OSID=v,this.H.OAID=x),this.F=this.X,this.J=xa(this,null,this.W),Or(this)};function eo(u){if(to(u),u.I==3){var g=u.V++,v=Tn(u.J);if(Qe(v,"SID",u.M),Qe(v,"RID",g),Qe(v,"TYPE","terminate"),ir(u,v),g=new En(u,u.j,g),g.M=2,g.A=br(Tn(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=g.A,v=!0),v||(g.g=Zl(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Zi(g)}cs(u)}function fn(u){u.g&&(us(u),u.g.cancel(),u.g=null)}function to(u){fn(u),u.v&&(c.clearTimeout(u.v),u.v=null),no(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function Or(u){if(!fa(u.h)&&!u.m){u.m=!0;var g=u.Ea;Z||T(),se||(Z(),se=!0),C.add(g,u),u.D=0}}function Jl(u,g){return ts(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=oi(y(u.Ea,u,g),io(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const H=new En(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=z(Y),me(Y,this.U)):Y=this.U),this.u!==null||this.R||(H.J=Y,Y=null),this.S)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var x=this.i[v];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(g+=x,g>4096){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Sa(this,H,g),v=Tn(this.J),Qe(v,"RID",u),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),ir(this,v),Y&&(this.R?g="headers="+Qn(Ql(Y))+"&"+g:this.u&&Js(v,this.u,Y)),Qs(this.h,H),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",g),Qe(v,"SID","null"),H.U=!0,Vn(H,v,null)):Vn(H,v,g),this.I=2}}else this.I==3&&(u?ls(this,u):this.i.length==0||fa(this.h)||ls(this))};function ls(u,g){var v;g?v=g.l:v=u.V++;const x=Tn(u.J);Qe(x,"SID",u.M),Qe(x,"RID",v),Qe(x,"AID",u.K),ir(u,x),u.u&&u.o&&Js(x,u.u,u.o),v=new En(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Sa(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Qs(u.h,v),Vn(v,x,g)}function ir(u,g){u.H&&le(u.H,function(v,x){Qe(g,x,v)}),u.l&&le({},function(v,x){Qe(g,x,v)})}function Sa(u,g,v){v=Math.min(u.i.length,v);const x=u.l?y(u.l.Ka,u.l,u):null;e:{var H=u.i;let Me=-1;for(;;){const ht=["count="+v];Me==-1?v>0?(Me=H[0].g,ht.push("ofs="+Me)):Me=0:ht.push("ofs="+Me);let Xe=!0;for(let vt=0;vt<v;vt++){var Y=H[vt].g;const pn=H[vt].map;if(Y-=Me,Y<0)Me=Math.max(0,H[vt].g-100),Xe=!1;else try{Y="req"+Y+"_"||"";try{var ue=pn instanceof Map?pn:Object.entries(pn);for(const[Mr,or]of ue){let ar=or;f(or)&&(ar=ni(or)),ht.push(Y+Mr+"="+encodeURIComponent(ar))}}catch(Mr){throw ht.push(Y+"type="+encodeURIComponent("_badmap")),Mr}}catch{x&&x(pn)}}if(Xe){ue=ht.join("&");break e}}ue=void 0}return u=u.i.splice(0,v),g.G=u,ue}function Ut(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;Z||T(),se||(Z(),se=!0),C.add(g,u),u.A=0}}function sr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=oi(y(u.Da,u),io(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,pi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=oi(y(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ut(10),fn(this),pi(this))};function us(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function pi(u){u.g=new En(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=Tn(u.na);Qe(g,"RID","rpc"),Qe(g,"SID",u.M),Qe(g,"AID",u.K),Qe(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qe(g,"TO",u.ia),Qe(g,"TYPE","xmlhttp"),ir(u,g),u.u&&u.o&&Js(g,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=br(Tn(g)),v.u=null,v.R=!0,ca(v,u)}n.Va=function(){this.C!=null&&(this.C=null,fn(this),sr(this),ut(19))};function no(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function ro(u,g){var v=null;if(u.g==g){no(u),us(u),u.g=null;var x=2}else if(ha(u.h,g))v=g.G,ns(u.h,g),x=1;else return;if(u.I!=0){if(g.o)if(x==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var H=u.D;x=si(),ft(x,new la(x,v)),Or(u)}else Ut(u);else if(H=g.m,H==3||H==0&&g.X>0||!(x==1&&Jl(u,g)||x==2&&sr(u)))switch(v&&v.length>0&&(g=u.h,g.i=g.i.concat(v)),H){case 1:hn(u,5);break;case 4:hn(u,10);break;case 3:hn(u,6);break;default:hn(u,2)}}}function io(u,g){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*g}function hn(u,g){if(u.j.info("Error code "+g),g==2){var v=y(u.bb,u),x=u.Ua;const H=!x;x=new Yn(x||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rs(x,"https"),br(x),H?er(x.toString(),v):tr(x.toString(),v)}else ut(2);u.I=0,u.l&&u.l.pa(g),cs(u),to(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function cs(u){if(u.I=0,u.ja=[],u.l){const g=un(u.h);(g.length!=0||u.i.length!=0)&&(M(u.ja,g),M(u.ja,u.i),u.h.i.length=0,R(u.i),u.i.length=0),u.l.oa()}}function xa(u,g,v){var x=v instanceof Yn?Tn(v):new Yn(v);if(x.g!="")g&&(x.g=g+"."+x.g),Xn(x,x.u);else{var H=c.location;x=H.protocol,g=g?g+"."+H.hostname:H.hostname,H=+H.port;const Y=new Yn(null);x&&rs(Y,x),g&&(Y.g=g),H&&Xn(Y,H),v&&(Y.h=v),x=Y}return v=u.G,g=u.wa,v&&g&&Qe(x,v,g),Qe(x,"VER",u.ka),ir(u,x),x}function Zl(u,g,v){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new Je(new Nr({ab:v})):new Je(u.ma),g.Fa(u.L),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}n=eu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function so(){}so.prototype.g=function(u,g){return new Vt(u,g)};function Vt(u,g){yt.call(this),this.g=new Zs(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!P(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!P(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new mi(this)}E(Vt,yt),Vt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){eo(this.g)},Vt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ni(u),u=v);g.i.push(new cd(g.Ya++,u)),g.I==3&&Or(g)},Vt.prototype.N=function(){this.g.l=null,delete this.j,eo(this.g),delete this.g,Vt.Z.N.call(this)};function tu(u){$s.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const v in g){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}E(tu,$s);function nu(){aa.call(this),this.status=1}E(nu,aa);function mi(u){this.g=u}E(mi,eu),mi.prototype.ra=function(){ft(this.g,"a")},mi.prototype.qa=function(u){ft(this.g,new tu(u))},mi.prototype.pa=function(u){ft(this.g,new nu)},mi.prototype.oa=function(){ft(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,mw=function(){return new so},pw=function(){return si()},hw=Dn,gh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},li.NO_ERROR=0,li.TIMEOUT=8,li.HTTP_ERROR=6,lc=li,ui.COMPLETE="complete",fw=ui,Ll.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",yt.prototype.listen=yt.prototype.J,Za=Ll,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,dw=Je}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const qy="@firebase/firestore",Gy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new Yh("@firebase/firestore");function No(){return bs.logLevel}function fe(n,...e){if(bs.logLevel<=We.DEBUG){const t=e.map(sp);bs.debug(`Firestore (${Ko}): ${n}`,...t)}}function Yr(n,...e){if(bs.logLevel<=We.ERROR){const t=e.map(sp);bs.error(`Firestore (${Ko}): ${n}`,...t)}}function zo(n,...e){if(bs.logLevel<=We.WARN){const t=e.map(sp);bs.warn(`Firestore (${Ko}): ${n}`,...t)}}function sp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,gw(n,i,t)}function gw(n,e,t){let i=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Yr(i),new Error(i)}function Ye(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||gw(e,o,i)}function Le(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ki{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Gt.UNAUTHENTICATED)))}shutdown(){}}class fA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class hA{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new qr,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new qr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ye(typeof i.accessToken=="string",31837,{l:i}),new yw(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class pA{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mA{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new pA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Gt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gA{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ax(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0,3512);const i=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ky(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ky(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=yA(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function ze(n,e){return n<e?-1:n>e?1:0}function yh(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),l=e.charAt(i);if(o!==l)return qf(o)===qf(l)?ze(o,l):qf(o)?1:-1}return ze(n.length,e.length)}const vA=55296,_A=57343;function qf(n){const e=n.charCodeAt(0);return e>=vA&&e<=_A}function Uo(n,e,t){return n.length===e.length&&n.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="__name__";class fr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Pe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Pe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=fr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return ze(e.length,t.length)}static compareSegments(e,t){const i=fr.isNumericId(e),o=fr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?fr.extractNumericId(e).compare(fr.extractNumericId(t)):yh(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mi.fromString(e.substring(4,e.length-2))}}class Ze extends fr{construct(e,t,i){return new Ze(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new Ze(t)}static emptyPath(){return new Ze([])}}const wA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends fr{construct(e,t,i){return new Ft(e,t,i)}static isValidIdentifier(e){return wA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qy}static keyField(){return new Ft([Qy])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Ze.fromString(e))}static fromName(e){return new Ie(Ze.fromString(e).popFirst(5))}static empty(){return new Ie(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n,e,t){if(!t)throw new ce(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function EA(n,e,t,i){if(e===!0&&i===!0)throw new ce(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Yy(n){if(!Ie.isDocumentKey(n))throw new ce(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Xy(n){if(Ie.isDocumentKey(n))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Bc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Pe(12329,{type:typeof n})}function gr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bc(n);throw new ce(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function TA(n,e){if(e<=0)throw new ce(X.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n,e){const t={typeString:n};return e&&(t.value=e),t}function Al(n,e){if(!vw(n))throw new ce(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(o&&typeof c!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ce(X.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=-62135596800,Zy=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Zy);return new it(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Jy)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zy}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Al(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:St("string",it._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new it(0,0))}static max(){return new Oe(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=-1;function SA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(i===1e9?new it(t+1,0):new it(t,i));return new ji(o,Ie.empty(),e)}function xA(n){return new ji(n.readTime,n.key,pl)}class ji{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ji(Oe.min(),Ie.empty(),pl)}static max(){return new ji(Oe.max(),Ie.empty(),pl)}}function IA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==AA)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ee.reject(t)}static resolve(e){return new ee(((t,i)=>{t(e)}))}static reject(e){return new ee(((t,i)=>{i(e)}))}static waitFor(e){return new ee(((t,i)=>{let o=0,l=0,c=!1;e.forEach((f=>{++o,f.next((()=>{++l,c&&l===o&&t()}),(p=>i(p)))})),c=!0,l===o&&t()}))}static or(e){let t=ee.resolve(!1);for(const i of e)t=t.next((o=>o?ee.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new ee(((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next((_=>{c[y]=_,++f,f===l&&i(c)}),(_=>o(_)))}}))}static doWhile(e,t){return new ee(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function RA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Yo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}$c.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=-1;function Hc(n){return n==null}function Ec(n){return n===0&&1/n==-1/0}function PA(n){return typeof n=="number"&&Number.isInteger(n)&&!Ec(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="";function kA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ev(e)),e=bA(n.get(t),e);return ev(e)}function bA(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case _w:t+="";break;default:t+=l}}return t}function ev(n){return n+_w+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ls(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ww(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Lt.RED,this.left=o??Lt.EMPTY,this.right=l??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Lt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Pe(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe(57766)}get value(){throw Pe(16141)}get color(){throw Pe(16727)}get left(){throw Pe(29726)}get right(){throw Pe(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(e){return new nv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Rt(this.comparator);return t.data=e,t}}class nv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new $n([])}unionWith(e){let t=new Rt(Ft.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new $n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Ew("Invalid base64 string: "+l):l}})(e);return new jt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const NA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(n){if(Ye(!!n,39018),typeof n=="string"){let e=0;const t=NA.exec(n);if(Ye(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mt(n.seconds),nanos:mt(n.nanos)}}function mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ui(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="server_timestamp",Sw="__type__",xw="__previous_value__",Iw="__local_write_time__";function up(n){return(n?.mapValue?.fields||{})[Sw]?.stringValue===Tw}function Wc(n){const e=n.mapValue.fields[xw];return up(e)?Wc(e):e}function ml(n){const e=zi(n.mapValue.fields[Iw].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,t,i,o,l,c,f,p,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=_}}const Tc="(default)";class gl{constructor(e,t){this.projectId=e,this.database=t||Tc}static empty(){return new gl("","")}get isDefaultDatabase(){return this.database===Tc}isEqual(e){return e instanceof gl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="__type__",VA="__max__",Ju={mapValue:{}},Cw="__vector__",Sc="value";function Bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?up(n)?4:MA(n)?9007199254740991:OA(n)?10:11:Pe(28295,{value:n})}function Sr(n,e){if(n===e)return!0;const t=Bi(n);if(t!==Bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ml(n).isEqual(ml(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=zi(o.timestampValue),f=zi(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return Ui(o.bytesValue).isEqual(Ui(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return mt(o.geoPointValue.latitude)===mt(l.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return mt(o.integerValue)===mt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=mt(o.doubleValue),f=mt(l.doubleValue);return c===f?Ec(c)===Ec(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return Uo(n.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(tv(c)!==tv(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!Sr(c[p],f[p])))return!1;return!0})(n,e);default:return Pe(52216,{left:n})}}function yl(n,e){return(n.values||[]).find((t=>Sr(t,e)))!==void 0}function Bo(n,e){if(n===e)return 0;const t=Bi(n),i=Bi(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=mt(l.integerValue||l.doubleValue),p=mt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(n,e);case 3:return rv(n.timestampValue,e.timestampValue);case 4:return rv(ml(n),ml(e));case 5:return yh(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=Ui(l),p=Ui(c);return f.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),p=c.split("/");for(let y=0;y<f.length&&y<p.length;y++){const _=ze(f[y],p[y]);if(_!==0)return _}return ze(f.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=ze(mt(l.latitude),mt(c.latitude));return f!==0?f:ze(mt(l.longitude),mt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return iv(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},p=c.fields||{},y=f[Sc]?.arrayValue,_=p[Sc]?.arrayValue,E=ze(y?.values?.length||0,_?.values?.length||0);return E!==0?E:iv(y,_)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Ju.mapValue&&c===Ju.mapValue)return 0;if(l===Ju.mapValue)return 1;if(c===Ju.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=c.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const S=yh(p[E],_[E]);if(S!==0)return S;const R=Bo(f[p[E]],y[_[E]]);if(R!==0)return R}return ze(p.length,_.length)})(n.mapValue,e.mapValue);default:throw Pe(23264,{he:t})}}function rv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=zi(n),i=zi(e),o=ze(t.seconds,i.seconds);return o!==0?o:ze(t.nanos,i.nanos)}function iv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Bo(t[o],i[o]);if(l)return l}return ze(t.length,i.length)}function $o(n){return vh(n)}function vh(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=zi(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ui(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ie.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=vh(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${vh(t.fields[c])}`;return o+"}"})(n.mapValue):Pe(61005,{value:n})}function uc(n){switch(Bi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wc(n);return e?16+uc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ui(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+uc(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let o=0;return Ls(i.fields,((l,c)=>{o+=l.length+uc(c)})),o})(n.mapValue);default:throw Pe(13486,{value:n})}}function sv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _h(n){return!!n&&"integerValue"in n}function cp(n){return!!n&&"arrayValue"in n}function ov(n){return!!n&&"nullValue"in n}function av(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cc(n){return!!n&&"mapValue"in n}function OA(n){return(n?.mapValue?.fields||{})[Aw]?.stringValue===Cw}function ol(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ls(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=ol(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ol(n.arrayValue.values[t]);return e}return{...n}}function MA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===VA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!cc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ol(t)}setAll(e){let t=Ft.emptyPath(),i={},o=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=ol(c):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());cc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];cc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ls(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new Pn(ol(this.value))}}function Rw(n){const e=[];return Ls(n.fields,((t,i)=>{const o=new Ft([t]);if(cc(i)){const l=Rw(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t,i,o,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Kt(e,0,Oe.min(),Oe.min(),Oe.min(),Pn.empty(),0)}static newFoundDocument(e,t,i,o){return new Kt(e,1,t,Oe.min(),i,o,0)}static newNoDocument(e,t){return new Kt(e,2,t,Oe.min(),Oe.min(),Pn.empty(),0)}static newUnknownDocument(e,t){return new Kt(e,3,t,Oe.min(),Oe.min(),Pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t){this.position=e,this.inclusive=t}}function lv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=Ie.comparator(Ie.fromName(c.referenceValue),t.key):i=Bo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function uv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Sr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,t="asc"){this.field=e,this.dir=t}}function LA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{}class Tt extends Pw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new jA(e,t,i):t==="array-contains"?new BA(e,i):t==="in"?new $A(e,i):t==="not-in"?new HA(e,i):t==="array-contains-any"?new WA(e,i):new Tt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new zA(e,i):new UA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Bo(t,this.value)):t!==null&&Bi(this.value)===Bi(t)&&this.matchesComparison(Bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends Pw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Hn(e,t)}matches(e){return kw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kw(n){return n.op==="and"}function bw(n){return FA(n)&&kw(n)}function FA(n){for(const e of n.filters)if(e instanceof Hn)return!1;return!0}function wh(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+$o(n.value);if(bw(n))return n.filters.map((e=>wh(e))).join(",");{const e=n.filters.map((t=>wh(t))).join(",");return`${n.op}(${e})`}}function Nw(n,e){return n instanceof Tt?(function(i,o){return o instanceof Tt&&i.op===o.op&&i.field.isEqual(o.field)&&Sr(i.value,o.value)})(n,e):n instanceof Hn?(function(i,o){return o instanceof Hn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,c,f)=>l&&Nw(c,o.filters[f])),!0):!1})(n,e):void Pe(19439)}function Dw(n){return n instanceof Tt?(function(t){return`${t.field.canonicalString()} ${t.op} ${$o(t.value)}`})(n):n instanceof Hn?(function(t){return t.op.toString()+" {"+t.getFilters().map(Dw).join(" ,")+"}"})(n):"Filter"}class jA extends Tt{constructor(e,t,i){super(e,t,i),this.key=Ie.fromName(i.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class zA extends Tt{constructor(e,t){super(e,"in",t),this.keys=Vw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class UA extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=Vw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Vw(n,e){return(e.arrayValue?.values||[]).map((t=>Ie.fromName(t.referenceValue)))}class BA extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cp(t)&&yl(t.arrayValue,this.value)}}class $A extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yl(this.value.arrayValue,t)}}class HA extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yl(this.value.arrayValue,t)}}class WA extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>yl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function cv(n,e=null,t=[],i=[],o=null,l=null,c=null){return new qA(n,e,t,i,o,l,c)}function dp(n){const e=Le(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>wh(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Hc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>$o(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>$o(i))).join(",")),e.Te=t}return e.Te}function fp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!LA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Nw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uv(n.startAt,e.startAt)&&uv(n.endAt,e.endAt)}function Eh(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,t=null,i=[],o=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GA(n,e,t,i,o,l,c,f){return new Fs(n,e,t,i,o,l,c,f)}function qc(n){return new Fs(n)}function dv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Ow(n){return n.collectionGroup!==null}function al(n){const e=Le(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Rt(Ft.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new vl(l,i))})),t.has(Ft.keyField().canonicalString())||e.Ie.push(new vl(Ft.keyField(),i))}return e.Ie}function yr(n){const e=Le(n);return e.Ee||(e.Ee=KA(e,al(n))),e.Ee}function KA(n,e){if(n.limitType==="F")return cv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new vl(o.field,l)}));const t=n.endAt?new xc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new xc(n.startAt.position,n.startAt.inclusive):null;return cv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Th(n,e){const t=n.filters.concat([e]);return new Fs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ic(n,e,t){return new Fs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gc(n,e){return fp(yr(n),yr(e))&&n.limitType===e.limitType}function Mw(n){return`${dp(yr(n))}|lt:${n.limitType}`}function Do(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>Dw(o))).join(", ")}]`),Hc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>$o(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>$o(o))).join(",")),`Target(${i})`})(yr(n))}; limitType=${n.limitType})`}function Kc(n,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ie.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,o){for(const l of al(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(i,o){return!(i.startAt&&!(function(c,f,p){const y=lv(c,f,p);return c.inclusive?y<=0:y<0})(i.startAt,al(i),o)||i.endAt&&!(function(c,f,p){const y=lv(c,f,p);return c.inclusive?y>=0:y>0})(i.endAt,al(i),o))})(n,e)}function QA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Lw(n){return(e,t)=>{let i=!1;for(const o of al(n)){const l=YA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function YA(n,e,t){const i=n.field.isKeyField()?Ie.comparator(e.key,t.key):(function(l,c,f){const p=c.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Bo(p,y):Pe(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Pe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return ww(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=new lt(Ie.comparator);function Xr(){return XA}const Fw=new lt(Ie.comparator);function el(...n){let e=Fw;for(const t of n)e=e.insert(t.key,t);return e}function jw(n){let e=Fw;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function As(){return ll()}function zw(){return ll()}function ll(){return new js((n=>n.toString()),((n,e)=>n.isEqual(e)))}const JA=new lt(Ie.comparator),ZA=new Rt(Ie.comparator);function Ue(...n){let e=ZA;for(const t of n)e=e.add(t);return e}const eC=new Rt(ze);function tC(){return eC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(e)?"-0":e}}function Uw(n){return{integerValue:""+n}}function nC(n,e){return PA(e)?Uw(e):hp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this._=void 0}}function rC(n,e,t){return n instanceof _l?(function(o,l){const c={fields:{[Sw]:{stringValue:Tw},[Iw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&up(l)&&(l=Wc(l)),l&&(c.fields[xw]=l),{mapValue:c}})(t,e):n instanceof wl?$w(n,e):n instanceof El?Hw(n,e):(function(o,l){const c=Bw(o,l),f=fv(c)+fv(o.Ae);return _h(c)&&_h(o.Ae)?Uw(f):hp(o.serializer,f)})(n,e)}function iC(n,e,t){return n instanceof wl?$w(n,e):n instanceof El?Hw(n,e):t}function Bw(n,e){return n instanceof Ac?(function(i){return _h(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class _l extends Qc{}class wl extends Qc{constructor(e){super(),this.elements=e}}function $w(n,e){const t=Ww(e);for(const i of n.elements)t.some((o=>Sr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class El extends Qc{constructor(e){super(),this.elements=e}}function Hw(n,e){let t=Ww(e);for(const i of n.elements)t=t.filter((o=>!Sr(o,i)));return{arrayValue:{values:t}}}class Ac extends Qc{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function fv(n){return mt(n.integerValue||n.doubleValue)}function Ww(n){return cp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t){this.field=e,this.transform=t}}function oC(n,e){return n.field.isEqual(e.field)&&(function(i,o){return i instanceof wl&&o instanceof wl||i instanceof El&&o instanceof El?Uo(i.elements,o.elements,Sr):i instanceof Ac&&o instanceof Ac?Sr(i.Ae,o.Ae):i instanceof _l&&o instanceof _l})(n.transform,e.transform)}class aC{constructor(e,t){this.version=e,this.transformResults=t}}class Gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gr}static exists(e){return new Gr(void 0,e)}static updateTime(e){return new Gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Yc{}function qw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Kw(n.key,Gr.none()):new Cl(n.key,n.data,Gr.none());{const t=n.data,i=Pn.empty();let o=new Rt(Ft.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new zs(n.key,i,new $n(o.toArray()),Gr.none())}}function lC(n,e,t){n instanceof Cl?(function(o,l,c){const f=o.value.clone(),p=pv(o.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof zs?(function(o,l,c){if(!dc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=pv(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Gw(o)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function ul(n,e,t,i){return n instanceof Cl?(function(l,c,f,p){if(!dc(l.precondition,c))return f;const y=l.value.clone(),_=mv(l.fieldTransforms,p,c);return y.setAll(_),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null})(n,e,t,i):n instanceof zs?(function(l,c,f,p){if(!dc(l.precondition,c))return f;const y=mv(l.fieldTransforms,p,c),_=c.data;return _.setAll(Gw(l)),_.setAll(y),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(n,e,t,i):(function(l,c,f){return dc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function uC(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=Bw(i.transform,o||null);l!=null&&(t===null&&(t=Pn.empty()),t.set(i.field,l))}return t||null}function hv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Uo(i,o,((l,c)=>oC(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Cl extends Yc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zs extends Yc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Gw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function pv(n,e,t){const i=new Map;Ye(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,iC(c,f,t[o]))}return i}function mv(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,rC(l,c,e))}return i}class Kw extends Yc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cC extends Yc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&lC(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ul(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ul(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=zw();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const p=qw(c,f);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Oe.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,((t,i)=>hv(t,i)))&&Uo(this.baseMutations,e.baseMutations,((t,i)=>hv(t,i)))}}class pp{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ye(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return JA})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new pp(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,He;function pC(n){switch(n){case X.OK:return Pe(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Pe(15467,{code:n})}}function Qw(n){if(n===void 0)return Yr("GRPC error has no .code"),X.UNKNOWN;switch(n){case wt.OK:return X.OK;case wt.CANCELLED:return X.CANCELLED;case wt.UNKNOWN:return X.UNKNOWN;case wt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case wt.INTERNAL:return X.INTERNAL;case wt.UNAVAILABLE:return X.UNAVAILABLE;case wt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case wt.NOT_FOUND:return X.NOT_FOUND;case wt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case wt.ABORTED:return X.ABORTED;case wt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case wt.DATA_LOSS:return X.DATA_LOSS;default:return Pe(39323,{code:n})}}(He=wt||(wt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new Mi([4294967295,4294967295],0);function gv(n){const e=mC().encode(n),t=new cw;return t.update(e),new Uint8Array(t.digest())}function yv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Mi([t,i],0),new Mi([o,l],0)]}class mp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new tl(`Invalid padding: ${t}`);if(i<0)throw new tl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new tl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new tl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Mi.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(Mi.fromNumber(i)));return o.compare(gC)===1&&(o=new Mi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=gv(e),[i,o]=yv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new mp(l,o,t);return i.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=gv(e),[i,o]=yv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Rl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Xc(Oe.min(),o,new lt(ze),Xr(),Ue())}}class Rl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Rl(i,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class Yw{constructor(e,t){this.targetId=e,this.Ce=t}}class Xw{constructor(e,t,i=jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class vv{constructor(){this.ve=0,this.Fe=_v(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),t=Ue(),i=Ue();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Pe(38017,{changeType:l})}})),new Rl(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=_v()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xr(),this.Je=Zu(),this.He=Zu(),this.Ye=new lt(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Pe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Eh(l))if(i===0){const c=new Ie(l.path);this.et(t,c,Kt.newNoDocument(c,Oe.min()))}else Ye(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),p=f?this.ct(f,e,c):1;if(p!==0){this.it(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=Ui(i).toUint8Array()}catch(p){if(p instanceof Ew)return zo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new mp(c,o,l)}catch(p){return zo(p instanceof tl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&Eh(f.target)){const p=new Ie(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Kt.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=Ue();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const o=new Xc(e,t,this.Ye,this.je,i);return this.je=Xr(),this.Je=Zu(),this.He=Zu(),this.Ye=new lt(ze),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new vv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Rt(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Rt(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new vv),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Zu(){return new lt(Ie.comparator)}function _v(){return new lt(Ie.comparator)}const vC={asc:"ASCENDING",desc:"DESCENDING"},_C={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wC={and:"AND",or:"OR"};class EC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sh(n,e){return n.useProto3Json||Hc(e)?e:{value:e}}function Cc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function TC(n,e){return Cc(n,e.toTimestamp())}function vr(n){return Ye(!!n,49232),Oe.fromTimestamp((function(t){const i=zi(t);return new it(i.seconds,i.nanos)})(n))}function gp(n,e){return xh(n,e).canonicalString()}function xh(n,e){const t=(function(o){return new Ze(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Zw(n){const e=Ze.fromString(n);return Ye(i0(e),10190,{key:e.toString()}),e}function Ih(n,e){return gp(n.databaseId,e.path)}function Gf(n,e){const t=Zw(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ie(t0(t))}function e0(n,e){return gp(n.databaseId,e)}function SC(n){const e=Zw(n);return e.length===4?Ze.emptyPath():t0(e)}function Ah(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function t0(n){return Ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function wv(n,e,t){return{name:Ih(n,e),fields:t.value.mapValue.fields}}function xC(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Pe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(y,_){return y.useProto3Json?(Ye(_===void 0||typeof _=="string",58123),jt.fromBase64String(_||"")):(Ye(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),jt.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(y){const _=y.code===void 0?X.UNKNOWN:Qw(y.code);return new ce(_,y.message||"")})(c);t=new Xw(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Gf(n,i.document.name),l=vr(i.document.updateTime),c=i.document.createTime?vr(i.document.createTime):Oe.min(),f=new Pn({mapValue:{fields:i.document.fields}}),p=Kt.newFoundDocument(o,l,c,f),y=i.targetIds||[],_=i.removedTargetIds||[];t=new fc(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Gf(n,i.document),l=i.readTime?vr(i.readTime):Oe.min(),c=Kt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new fc([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Gf(n,i.document),l=i.removedTargetIds||[];t=new fc([],l,o,null)}else{if(!("filter"in e))return Pe(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new hC(o,l),f=i.targetId;t=new Yw(f,c)}}return t}function IC(n,e){let t;if(e instanceof Cl)t={update:wv(n,e.key,e.value)};else if(e instanceof Kw)t={delete:Ih(n,e.key)};else if(e instanceof zs)t={update:wv(n,e.key,e.data),updateMask:VC(e.fieldMask)};else{if(!(e instanceof cC))return Pe(16599,{Vt:e.type});t={verify:Ih(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const f=c.transform;if(f instanceof _l)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof wl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof El)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ac)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Pe(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:TC(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Pe(27497)})(n,e.precondition)),t}function AC(n,e){return n&&n.length>0?(Ye(e!==void 0,14353),n.map((t=>(function(o,l){let c=o.updateTime?vr(o.updateTime):vr(l);return c.isEqual(Oe.min())&&(c=vr(l)),new aC(c,o.transformResults||[])})(t,e)))):[]}function CC(n,e){return{documents:[e0(n,e.path)]}}function RC(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=e0(n,o);const l=(function(y){if(y.length!==0)return r0(Hn.create(y,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(y){if(y.length!==0)return y.map((_=>(function(S){return{field:Vo(S.field),direction:bC(S.dir)}})(_)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Sh(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:o}}function PC(n){let e=SC(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ye(i===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=(function(E){const S=n0(E);return S instanceof Hn&&bw(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(E){return E.map((S=>(function(M){return new vl(Oo(M.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(S)))})(t.orderBy));let f=null;t.limit&&(f=(function(E){let S;return S=typeof E=="object"?E.value:E,Hc(S)?null:S})(t.limit));let p=null;t.startAt&&(p=(function(E){const S=!!E.before,R=E.values||[];return new xc(R,S)})(t.startAt));let y=null;return t.endAt&&(y=(function(E){const S=!E.before,R=E.values||[];return new xc(R,S)})(t.endAt)),GA(e,o,c,l,f,"F",p,y)}function kC(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function n0(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Oo(t.unaryFilter.field);return Tt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oo(t.unaryFilter.field);return Tt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Oo(t.unaryFilter.field);return Tt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Pe(61313);default:return Pe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Tt.create(Oo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Pe(58110);default:return Pe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Hn.create(t.compositeFilter.filters.map((i=>n0(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Pe(1026)}})(t.compositeFilter.op))})(n):Pe(30097,{filter:n})}function bC(n){return vC[n]}function NC(n){return _C[n]}function DC(n){return wC[n]}function Vo(n){return{fieldPath:n.canonicalString()}}function Oo(n){return Ft.fromServerFormat(n.fieldPath)}function r0(n){return n instanceof Tt?(function(t){if(t.op==="=="){if(av(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NAN"}};if(ov(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(av(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NAN"}};if(ov(t.value))return{unaryFilter:{field:Vo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(t.field),op:NC(t.op),value:t.value}}})(n):n instanceof Hn?(function(t){const i=t.getFilters().map((o=>r0(o)));return i.length===1?i[0]:{compositeFilter:{op:DC(t.op),filters:i}}})(n):Pe(54877,{filter:n})}function VC(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function i0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t,i,o,l=Oe.min(),c=Oe.min(),f=jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.yt=e}}function MC(n){const e=PC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ic(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.Cn=new FC}addToCollectionParentIndex(e,t){return this.Cn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(ji.min())}updateCollectionGroup(e,t,i){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class FC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Rt(Ze.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Rt(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s0=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(s0,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ho(0)}static cr(){return new Ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="LruGarbageCollector",jC=1048576;function Sv([n,e],[t,i]){const o=ze(n,t);return o===0?ze(e,i):o}class zC{constructor(e){this.Ir=e,this.buffer=new Rt(Sv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Sv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class UC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(Tv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Yo(t)?fe(Tv,"Ignoring IndexedDB error during garbage collection: ",t):await Qo(t)}await this.Vr(3e5)}))}}class BC{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return ee.resolve($c.ce);const i=new zC(t);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Ev)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ev):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,c,f,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,f=Date.now(),this.removeTargets(e,i,t)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(y=Date.now(),No()<=We.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${E} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function $C(n,e){return new BC(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.changes=new js((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ee.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&ul(i.mutation,o,$n.empty(),it.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ue()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ue()){const o=As();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let c=el();return l.forEach(((f,p)=>{c=c.insert(f,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=As();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ue())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,i,o){let l=Xr();const c=ll(),f=(function(){return ll()})();return t.forEach(((p,y)=>{const _=i.get(y.key);o.has(y.key)&&(_===void 0||_.mutation instanceof zs)?l=l.insert(y.key,y):_!==void 0?(c.set(y.key,_.mutation.getFieldMask()),ul(_.mutation,y,_.mutation.getFieldMask(),it.now())):c.set(y.key,$n.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((y,_)=>c.set(y,_))),t.forEach(((y,_)=>f.set(y,new WC(_,c.get(y)??null)))),f)))}recalculateAndSaveOverlays(e,t){const i=ll();let o=new lt(((c,f)=>c-f)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let _=i.get(p)||$n.empty();_=f.applyToLocalView(y,_),i.set(p,_);const E=(o.get(f.batchId)||Ue()).add(p);o=o.insert(f.batchId,E)}))})).next((()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,_=p.value,E=zw();_.forEach((S=>{if(!l.has(S)){const R=qw(t.get(S),i.get(S));R!==null&&E.set(S,R),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ee.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(c){return Ie.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ow(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):ee.resolve(As());let f=pl,p=l;return c.next((y=>ee.forEach(y,((_,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{p=p.insert(_,S)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,p,y,Ue()))).next((_=>({batchId:f,changes:jw(_)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next((i=>{let o=el();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=el();return this.indexManager.getCollectionParents(e,l).next((f=>ee.forEach(f,(p=>{const y=(function(E,S){return new Fs(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((_=>{_.forEach(((E,S)=>{c=c.insert(E,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((c=>{l.forEach(((p,y)=>{const _=y.getKey();c.get(_)===null&&(c=c.insert(_,Kt.newInvalidDocument(_)))}));let f=el();return c.forEach(((p,y)=>{const _=l.get(p);_!==void 0&&ul(_.mutation,y,$n.empty(),it.now()),Kc(t,y)&&(f=f.insert(p,y))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ee.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:vr(o.createTime)}})(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:MC(o.bundledQuery),readTime:vr(o.readTime)}})(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.overlays=new lt(Ie.comparator),this.qr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const i=As();return ee.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.St(e,t,l)})),ee.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),ee.resolve()}getOverlaysForCollection(e,t,i){const o=As(),l=t.length+1,c=new Ie(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new lt(((y,_)=>y-_));const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let _=l.get(y.largestBatchId);_===null&&(_=As(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=As(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,_)=>f.set(y,_))),!(f.size()>=o)););return ee.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new fC(t,i));let l=this.qr.get(t);l===void 0&&(l=Ue(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this.Qr=new Rt(Nt.$r),this.Ur=new Rt(Nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Nt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Nt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new Ie(new Ze([])),i=new Nt(t,e),o=new Nt(t,e+1),l=[];return this.Ur.forEachInRange([i,o],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ie(new Ze([])),i=new Nt(t,e),o=new Nt(t,e+1);let l=Ue();return this.Ur.forEachInRange([i,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Nt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Nt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ie.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Rt(Nt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new dC(l,t,i,o);this.mutationQueue.push(c);for(const f of o)this.Zr=this.Zr.add(new Nt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,t){return ee.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?lp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Nt(t,0),o=new Nt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(c=>{const f=this.Xr(c.Yr);l.push(f)})),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Rt(ze);return t.forEach((o=>{const l=new Nt(o,0),c=new Nt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{i=i.add(f.Yr)}))})),ee.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;Ie.isDocumentKey(l)||(l=l.child(""));const c=new Nt(new Ie(l),0);let f=new Rt(ze);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.Yr)),!0)}),c),ee.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ye(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ee.forEach(t.mutations,(o=>{const l=new Nt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Nt(t,0),o=this.Zr.firstAfterOrEqual(i);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.ri=e,this.docs=(function(){return new lt(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ee.resolve(i?i.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let i=Xr();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Kt.newInvalidDocument(o))})),ee.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=Xr();const c=t.path,f=new Ie(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||IA(xA(_),i)<=0||(o.has(_.key)||Kc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Pe(9500)}ii(e,t){return ee.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new JC(this)}getSize(e){return ee.resolve(this.size)}}class JC extends HC{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),ee.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.persistence=e,this.si=new js((t=>dp(t)),fp),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new yp,this.targetCount=0,this.ai=Ho.ur()}forEachTarget(e,t){return this.si.forEach(((i,o)=>t(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),ee.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ho(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Pr(t),ee.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),ee.waitFor(l).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return ee.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),ee.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return ee.resolve(i)}containsKey(e,t){return ee.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t){this.ui={},this.overlays={},this.ci=new $c(0),this.li=!1,this.li=!0,this.hi=new QC,this.referenceDelegate=e(this),this.Pi=new ZC(this),this.indexManager=new LC,this.remoteDocumentCache=(function(o){return new XC(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new OC(t),this.Ii=new GC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new YC(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){fe("MemoryPersistence","Starting transaction:",e);const o=new eR(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return ee.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class eR extends CA{constructor(e){super(),this.currentSequenceNumber=e}}class vp{constructor(e){this.persistence=e,this.Ri=new yp,this.Vi=null}static mi(e){return new vp(e)}get fi(){if(this.Vi)return this.Vi;throw Pe(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),ee.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(i=>{const o=Ie.fromPath(i);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Oe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ee.or([()=>ee.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Rc{constructor(e,t){this.persistence=e,this.pi=new js((i=>kA(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=$C(this,t)}static mi(e,t){return new Rc(e,t)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return ee.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?ee.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((f=>{f||(i++,l.removeEntry(c,Oe.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ee.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uc(e.data.value)),t}br(e,t,i){return ee.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ee.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=Ue(),o=Ue();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new _p(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return SS()?8:RA(ES())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,o,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new tR;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,i,o){return i.documentReadCount<this.fs?(No()<=We.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Do(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(No()<=We.DEBUG&&fe("QueryEngine","Query:",Do(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(No()<=We.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Do(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(t))):ee.resolve())}ys(e,t){if(dv(t))return ee.resolve(null);let i=yr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Ic(t,null,"F"),i=yr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Ue(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const y=this.Ds(t,f);return this.Cs(t,y,c,p.readTime)?this.ys(e,Ic(t,null,"F")):this.vs(e,y,t,p)}))))})))))}ws(e,t,i,o){return dv(t)||o.isEqual(Oe.min())?ee.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,o)?ee.resolve(null):(No()<=We.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Do(t)),this.vs(e,c,t,SA(o,pl)).next((f=>f)))}))}Ds(e,t){let i=new Rt(Lw(e));return t.forEach(((o,l)=>{Kc(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return No()<=We.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Do(t)),this.ps.getDocumentsMatchingQuery(e,t,ji.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="LocalStore",rR=3e8;class iR{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new lt(ze),this.xs=new js((l=>dp(l)),fp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function sR(n,e,t,i){return new iR(n,e,t,i)}async function a0(n,e){const t=Le(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],f=[];let p=Ue();for(const y of o){c.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){f.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next((y=>({Ls:y,removedBatchIds:c,addedBatchIds:f})))}))}))}function oR(n,e){const t=Le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,y,_){const E=y.batch,S=E.keys();let R=ee.resolve();return S.forEach((M=>{R=R.next((()=>_.getEntry(p,M))).next((A=>{const N=y.docVersions.get(M);Ye(N!==null,48541),A.version.compareTo(N)<0&&(E.applyToRemoteDocument(A,y),A.isValidDocument()&&(A.setReadTime(y.commitVersion),_.addEntry(A)))}))})),R.next((()=>f.mutationQueue.removeMutationBatch(p,E)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=Ue();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function l0(n){const e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function aR(n,e){const t=Le(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach(((_,E)=>{const S=o.get(E);if(!S)return;f.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,E).next((()=>t.Pi.addMatchingKeys(l,_.addedDocuments,E))));let R=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(jt.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,i)),o=o.insert(E,R),(function(A,N,W){return A.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=rR?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(S,R,_)&&f.push(t.Pi.updateTargetData(l,R))}));let p=Xr(),y=Ue();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))})),f.push(lR(l,c,e.documentUpdates).next((_=>{p=_.ks,y=_.qs}))),!i.isEqual(Oe.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next((E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(_)}return ee.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,y))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function lR(n,e,t){let i=Ue(),o=Ue();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let c=Xr();return t.forEach(((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):fe(wp,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function uR(n,e){const t=Le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=lp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function cR(n,e){const t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.Pi.getTargetData(i,e).next((l=>l?(o=l,ee.resolve(o)):t.Pi.allocateTargetId(i).next((c=>(o=new Di(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Ch(n,e,t){const i=Le(n),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Yo(c))throw c;fe(wp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function xv(n,e,t){const i=Le(n);let o=Oe.min(),l=Ue();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,y,_){const E=Le(p),S=E.xs.get(_);return S!==void 0?ee.resolve(E.Ms.get(S)):E.Pi.getTargetData(y,_)})(i,c,yr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?o:Oe.min(),t?l:Ue()))).next((f=>(dR(i,QA(e),f),{documents:f,Qs:l})))))}function dR(n,e,t){let i=n.Os.get(e)||Oe.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class Iv{constructor(){this.activeTargetIds=tC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fR{constructor(){this.Mo=new Iv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Iv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="ConnectivityMonitor";class Cv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(Av,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(Av,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec=null;function Rh(){return ec===null?ec=(function(){return 268435456+Math.round(2147483648*Math.random())})():ec++,"0x"+ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="RestConnection",pR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Tc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const c=Rh(),f=this.zo(e,t.toUriEncodedString());fe(Kf,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:y}=new URL(f),_=Gh(y);return this.Jo(e,f,p,i,_).then((E=>(fe(Kf,`Received RPC '${e}' ${c}: `,E),E)),(E=>{throw zo(Kf,`RPC '${e}' ${c} failed with error: `,E,"url: ",f,"request:",i),E}))}Ho(e,t,i,o,l,c){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const i=pR[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class yR extends mR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const c=Rh();return new Promise(((f,p)=>{const y=new dw;y.setWithCredentials(!0),y.listenOnce(fw.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case lc.NO_ERROR:const E=y.getResponseJson();fe(qt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),f(E);break;case lc.TIMEOUT:fe(qt,`RPC '${e}' ${c} timed out`),p(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:const S=y.getStatus();if(fe(qt,`RPC '${e}' ${c} failed with status:`,S,"response text:",y.getResponseText()),S>0){let R=y.getResponseJson();Array.isArray(R)&&(R=R[0]);const M=R?.error;if(M&&M.status&&M.message){const A=(function(W){const $=W.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf($)>=0?$:X.UNKNOWN})(M.status);p(new ce(A,M.message))}else p(new ce(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ce(X.UNAVAILABLE,"Connection failed."));break;default:Pe(9055,{l_:e,streamId:c,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(qt,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);fe(qt,`RPC '${e}' ${c} sending request:`,o),y.send(t,"POST",_,i,15)}))}T_(e,t,i){const o=Rh(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=mw(),f=pw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");fe(qt,`Creating RPC '${e}' stream ${o}: ${_}`,p);const E=c.createWebChannel(_,p);this.I_(E);let S=!1,R=!1;const M=new gR({Yo:N=>{R?fe(qt,`Not sending because RPC '${e}' stream ${o} is closed:`,N):(S||(fe(qt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),S=!0),fe(qt,`RPC '${e}' stream ${o} sending:`,N),E.send(N))},Zo:()=>E.close()}),A=(N,W,$)=>{N.listen(W,(G=>{try{$(G)}catch(K){setTimeout((()=>{throw K}),0)}}))};return A(E,Za.EventType.OPEN,(()=>{R||(fe(qt,`RPC '${e}' stream ${o} transport opened.`),M.o_())})),A(E,Za.EventType.CLOSE,(()=>{R||(R=!0,fe(qt,`RPC '${e}' stream ${o} transport closed`),M.a_(),this.E_(E))})),A(E,Za.EventType.ERROR,(N=>{R||(R=!0,zo(qt,`RPC '${e}' stream ${o} transport errored. Name:`,N.name,"Message:",N.message),M.a_(new ce(X.UNAVAILABLE,"The operation could not be completed")))})),A(E,Za.EventType.MESSAGE,(N=>{if(!R){const W=N.data[0];Ye(!!W,16349);const $=W,G=$?.error||$[0]?.error;if(G){fe(qt,`RPC '${e}' stream ${o} received error:`,G);const K=G.status;let Z=(function(T){const k=wt[T];if(k!==void 0)return Qw(k)})(K),se=G.message;Z===void 0&&(Z=X.INTERNAL,se="Unknown error status: "+K+" with message "+G.message),R=!0,M.a_(new ce(Z,se)),E.close()}else fe(qt,`RPC '${e}' stream ${o} received:`,W),M.u_(W)}})),A(f,hw.STAT_EVENT,(N=>{N.stat===gh.PROXY?fe(qt,`RPC '${e}' stream ${o} detected buffering proxy`):N.stat===gh.NOPROXY&&fe(qt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(n){return new EC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="PersistentStream";class c0{constructor(e,t,i,o,l,c,f,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new u0(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Yr(t.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===t&&this.G_(i,o)}),(i=>{e((()=>{const o=new ce(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(Rv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(fe(Rv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vR extends c0{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=xC(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Oe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?vr(c.readTime):Oe.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Ah(this.serializer),t.addTarget=(function(l,c){let f;const p=c.target;if(f=Eh(p)?{documents:CC(l,p)}:{query:RC(l,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Jw(l,c.resumeToken);const y=Sh(l,c.expectedCount);y!==null&&(f.expectedCount=y)}else if(c.snapshotVersion.compareTo(Oe.min())>0){f.readTime=Cc(l,c.snapshotVersion.toTimestamp());const y=Sh(l,c.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const i=kC(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Ah(this.serializer),t.removeTarget=e,this.q_(t)}}class _R extends c0{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=AC(e.writeResults,e.commitTime),i=vr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Ah(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>IC(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{}class ER extends wR{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,xh(t,i),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ce(X.UNKNOWN,l.toString())}))}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,xh(t,i),o,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(X.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class TR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yr(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="RemoteStore";class SR{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Us(this)&&(fe(Ns,"Restarting streams for network reachability change."),await(async function(p){const y=Le(p);y.Ea.add(4),await Pl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Zc(y)})(this))}))})),this.Ra=new TR(i,o)}}async function Zc(n){if(Us(n))for(const e of n.da)await e(!0)}async function Pl(n){for(const e of n.da)await e(!1)}function d0(n,e){const t=Le(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),xp(t)?Sp(t):Xo(t).O_()&&Tp(t,e))}function Ep(n,e){const t=Le(n),i=Xo(t);t.Ia.delete(e),i.O_()&&f0(t,e),t.Ia.size===0&&(i.O_()?i.L_():Us(t)&&t.Ra.set("Unknown"))}function Tp(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Xo(n).Y_(e)}function f0(n,e){n.Va.Ue(e),Xo(n).Z_(e)}function Sp(n){n.Va=new yC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Xo(n).start(),n.Ra.ua()}function xp(n){return Us(n)&&!Xo(n).x_()&&n.Ia.size>0}function Us(n){return Le(n).Ea.size===0}function h0(n){n.Va=void 0}async function xR(n){n.Ra.set("Online")}async function IR(n){n.Ia.forEach(((e,t)=>{Tp(n,e)}))}async function AR(n,e){h0(n),xp(n)?(n.Ra.ha(e),Sp(n)):n.Ra.set("Unknown")}async function CR(n,e,t){if(n.Ra.set("Online"),e instanceof Xw&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ia.delete(f),o.Va.removeTarget(f))})(n,e)}catch(i){fe(Ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Pc(n,i)}else if(e instanceof fc?n.Va.Ze(e):e instanceof Yw?n.Va.st(e):n.Va.tt(e),!t.isEqual(Oe.min()))try{const i=await l0(n.localStore);t.compareTo(i)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ia.get(y);_&&l.Ia.set(y,_.withResumeToken(p.resumeToken,c))}})),f.targetMismatches.forEach(((p,y)=>{const _=l.Ia.get(p);if(!_)return;l.Ia.set(p,_.withResumeToken(jt.EMPTY_BYTE_STRING,_.snapshotVersion)),f0(l,p);const E=new Di(_.target,p,y,_.sequenceNumber);Tp(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(i){fe(Ns,"Failed to raise snapshot:",i),await Pc(n,i)}}async function Pc(n,e,t){if(!Yo(e))throw e;n.Ea.add(1),await Pl(n),n.Ra.set("Offline"),t||(t=()=>l0(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{fe(Ns,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Zc(n)}))}function p0(n,e){return e().catch((t=>Pc(n,t,e)))}async function ed(n){const e=Le(n),t=$i(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lp;for(;RR(e);)try{const o=await uR(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,PR(e,o)}catch(o){await Pc(e,o)}m0(e)&&g0(e)}function RR(n){return Us(n)&&n.Ta.length<10}function PR(n,e){n.Ta.push(e);const t=$i(n);t.O_()&&t.X_&&t.ea(e.mutations)}function m0(n){return Us(n)&&!$i(n).x_()&&n.Ta.length>0}function g0(n){$i(n).start()}async function kR(n){$i(n).ra()}async function bR(n){const e=$i(n);for(const t of n.Ta)e.ea(t.mutations)}async function NR(n,e,t){const i=n.Ta.shift(),o=pp.from(i,e,t);await p0(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await ed(n)}async function DR(n,e){e&&$i(n).X_&&await(async function(i,o){if((function(c){return pC(c)&&c!==X.ABORTED})(o.code)){const l=i.Ta.shift();$i(i).B_(),await p0(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await ed(i)}})(n,e),m0(n)&&g0(n)}async function Pv(n,e){const t=Le(n);t.asyncQueue.verifyOperationInProgress(),fe(Ns,"RemoteStore received new credentials");const i=Us(t);t.Ea.add(3),await Pl(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Zc(t)}async function VR(n,e){const t=Le(n);e?(t.Ea.delete(2),await Zc(t)):e||(t.Ea.add(2),await Pl(t),t.Ra.set("Unknown"))}function Xo(n){return n.ma||(n.ma=(function(t,i,o){const l=Le(t);return l.sa(),new vR(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:xR.bind(null,n),t_:IR.bind(null,n),r_:AR.bind(null,n),H_:CR.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),xp(n)?Sp(n):n.Ra.set("Unknown")):(await n.ma.stop(),h0(n))}))),n.ma}function $i(n){return n.fa||(n.fa=(function(t,i,o){const l=Le(t);return l.sa(),new _R(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:kR.bind(null,n),r_:DR.bind(null,n),ta:bR.bind(null,n),na:NR.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await ed(n)):(await n.fa.stop(),n.Ta.length>0&&(fe(Ns,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,f=new Ip(e,t,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ap(n,e){if(Yr("AsyncQueue",`${e}: ${n}`),Yo(n))return new ce(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ie.comparator(t.key,i.key):(t,i)=>Ie.comparator(t.key,i.key),this.keyedMap=el(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Lo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.ga=new lt(Ie.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Pe(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Wo{constructor(e,t,i,o,l,c,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new Wo(e,t,Lo.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class MR{constructor(){this.queries=bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Le(t),l=o.queries;o.queries=bv(),l.forEach(((c,f)=>{for(const p of f.Sa)p.onError(i)}))})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function bv(){return new js((n=>Mw(n)),Gc)}async function Cp(n,e){const t=Le(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new OR,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=Ap(c,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Pp(t)}async function Rp(n,e){const t=Le(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function LR(n,e){const t=Le(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(o)&&(i=!0);c.wa=o}}i&&Pp(t)}function FR(n,e,t){const i=Le(n),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function Pp(n){n.Ca.forEach((e=>{e.next()}))}var Ph,Nv;(Nv=Ph||(Ph={})).Ma="default",Nv.Cache="cache";class kp{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Wo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ph.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.key=e}}class v0{constructor(e){this.key=e}}class jR{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=Lw(e),this.tu=new Lo(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new kv,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,E)=>{const S=o.get(_),R=Kc(this.query,E)?E:null,M=!!S&&this.mutatedKeys.has(S.key),A=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let N=!1;S&&R?S.data.isEqual(R.data)?M!==A&&(i.track({type:3,doc:R}),N=!0):this.su(S,R)||(i.track({type:2,doc:R}),N=!0,(p&&this.eu(R,p)>0||y&&this.eu(R,y)<0)&&(f=!0)):!S&&R?(i.track({type:0,doc:R}),N=!0):S&&!R&&(i.track({type:1,doc:S}),N=!0,(p||y)&&(f=!0)),N&&(R?(c=c.add(R),l=A?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,E)=>(function(R,M){const A=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe(20277,{Rt:N})}};return A(R)-A(M)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,c.length!==0||y?{snapshot:new Wo(this.query,e.tu,l,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new v0(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new y0(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ue();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bp="SyncEngine";class zR{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class UR{constructor(e){this.key=e,this.hu=!1}}class BR{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new js((f=>Mw(f)),Gc),this.Iu=new Map,this.Eu=new Set,this.du=new lt(Ie.comparator),this.Au=new Map,this.Ru=new yp,this.Vu={},this.mu=new Map,this.fu=Ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $R(n,e,t=!0){const i=x0(n);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await _0(i,e,t,!0),o}async function HR(n,e){const t=x0(n);await _0(t,e,!0,!1)}async function _0(n,e,t,i){const o=await cR(n.localStore,yr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await WR(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&d0(n.remoteStore,o),f}async function WR(n,e,t,i,o){n.pu=(E,S,R)=>(async function(A,N,W,$){let G=N.view.ru(W);G.Cs&&(G=await xv(A.localStore,N.query,!1).then((({documents:C})=>N.view.ru(C,G))));const K=$&&$.targetChanges.get(N.targetId),Z=$&&$.targetMismatches.get(N.targetId)!=null,se=N.view.applyChanges(G,A.isPrimaryClient,K,Z);return Vv(A,N.targetId,se.au),se.snapshot})(n,E,S,R);const l=await xv(n.localStore,e,!0),c=new jR(e,l.Qs),f=c.ru(l.documents),p=Rl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(f,n.isPrimaryClient,p);Vv(n,t,y.au);const _=new zR(e,t,c);return n.Tu.set(e,_),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),y.snapshot}async function qR(n,e,t){const i=Le(n),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((c=>!Gc(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Ch(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Ep(i.remoteStore,o.targetId),kh(i,o.targetId)})).catch(Qo)):(kh(i,o.targetId),await Ch(i.localStore,o.targetId,!0))}async function GR(n,e){const t=Le(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ep(t.remoteStore,i.targetId))}async function KR(n,e,t){const i=tP(n);try{const o=await(function(c,f){const p=Le(c),y=it.now(),_=f.reduce(((R,M)=>R.add(M.key)),Ue());let E,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let M=Xr(),A=Ue();return p.Ns.getEntries(R,_).next((N=>{M=N,M.forEach(((W,$)=>{$.isValidDocument()||(A=A.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,M))).next((N=>{E=N;const W=[];for(const $ of f){const G=uC($,E.get($.key).overlayedDocument);G!=null&&W.push(new zs($.key,G,Rw(G.value.mapValue),Gr.exists(!0)))}return p.mutationQueue.addMutationBatch(R,y,W,f)})).next((N=>{S=N;const W=N.applyToLocalDocumentSet(E,A);return p.documentOverlayCache.saveOverlays(R,N.batchId,W)}))})).then((()=>({batchId:S.batchId,changes:jw(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(c,f,p){let y=c.Vu[c.currentUser.toKey()];y||(y=new lt(ze)),y=y.insert(f,p),c.Vu[c.currentUser.toKey()]=y})(i,o.batchId,t),await kl(i,o.changes),await ed(i.remoteStore)}catch(o){const l=Ap(o,"Failed to persist write");t.reject(l)}}async function w0(n,e){const t=Le(n);try{const i=await aR(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=t.Au.get(l);c&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Ye(c.hu,14607):o.removedDocuments.size>0&&(Ye(c.hu,42227),c.hu=!1))})),await kl(t,i,e)}catch(i){await Qo(i)}}function Dv(n,e,t){const i=Le(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(c,f){const p=Le(c);p.onlineState=f;let y=!1;p.queries.forEach(((_,E)=>{for(const S of E.Sa)S.va(f)&&(y=!0)})),y&&Pp(p)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function QR(n,e,t){const i=Le(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let c=new lt(Ie.comparator);c=c.insert(l,Kt.newNoDocument(l,Oe.min()));const f=Ue().add(l),p=new Xc(Oe.min(),new Map,new lt(ze),c,f);await w0(i,p),i.du=i.du.remove(l),i.Au.delete(e),Np(i)}else await Ch(i.localStore,e,!1).then((()=>kh(i,e,t))).catch(Qo)}async function YR(n,e){const t=Le(n),i=e.batch.batchId;try{const o=await oR(t.localStore,e);T0(t,i,null),E0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await kl(t,o)}catch(o){await Qo(o)}}async function XR(n,e,t){const i=Le(n);try{const o=await(function(c,f){const p=Le(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let _;return p.mutationQueue.lookupMutationBatch(y,f).next((E=>(Ye(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(y,E)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_))).next((()=>p.localDocuments.getDocuments(y,_)))}))})(i.localStore,e);T0(i,e,t),E0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await kl(i,o)}catch(o){await Qo(o)}}function E0(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function T0(n,e,t){const i=Le(n);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function kh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||S0(n,i)}))}function S0(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Ep(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Np(n))}function Vv(n,e,t){for(const i of t)i instanceof y0?(n.Ru.addReference(i.key,e),JR(n,i)):i instanceof v0?(fe(bp,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||S0(n,i.key)):Pe(19791,{wu:i})}function JR(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(fe(bp,"New document in limbo: "+t),n.Eu.add(i),Np(n))}function Np(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ie(Ze.fromString(e)),i=n.fu.next();n.Au.set(i,new UR(t)),n.du=n.du.insert(t,i),d0(n.remoteStore,new Di(yr(qc(t.path)),i,"TargetPurposeLimboResolution",$c.ce))}}async function kl(n,e,t){const i=Le(n),o=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{c.push(i.pu(p,e,t).then((y=>{if((y||t)&&i.isPrimaryClient){const _=y?!y.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(y){o.push(y);const _=_p.As(p.targetId,y);l.push(_)}})))})),await Promise.all(c),i.Pu.H_(o),await(async function(p,y){const _=Le(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>ee.forEach(y,(S=>ee.forEach(S.Es,(R=>_.persistence.referenceDelegate.addReference(E,S.targetId,R))).next((()=>ee.forEach(S.ds,(R=>_.persistence.referenceDelegate.removeReference(E,S.targetId,R)))))))))}catch(E){if(!Yo(E))throw E;fe(wp,"Failed to update sequence numbers: "+E)}for(const E of y){const S=E.targetId;if(!E.fromCache){const R=_.Ms.get(S),M=R.snapshotVersion,A=R.withLastLimboFreeSnapshotVersion(M);_.Ms=_.Ms.insert(S,A)}}})(i.localStore,l))}async function ZR(n,e){const t=Le(n);if(!t.currentUser.isEqual(e)){fe(bp,"User change. New user:",e.toKey());const i=await a0(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new ce(X.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await kl(t,i.Ls)}}function eP(n,e){const t=Le(n),i=t.Au.get(e);if(i&&i.hu)return Ue().add(i.key);{let o=Ue();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const f=t.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function x0(n){const e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=w0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QR.bind(null,e),e.Pu.H_=LR.bind(null,e.eventManager),e.Pu.yu=FR.bind(null,e.eventManager),e}function tP(n){const e=Le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XR.bind(null,e),e}class kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return sR(this.persistence,new nR,e.initialUser,this.serializer)}Cu(e){return new o0(vp.mi,this.serializer)}Du(e){return new fR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kc.provider={build:()=>new kc};class nP extends kc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ye(this.persistence.referenceDelegate instanceof Rc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new UC(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new o0((i=>Rc.mi(i,t)),this.serializer)}}class bh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Dv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZR.bind(null,this.syncEngine),await VR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new MR})()}createDatastore(e){const t=Jc(e.databaseInfo.databaseId),i=(function(l){return new yR(l)})(e.databaseInfo);return(function(l,c,f,p){return new ER(l,c,f,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,c,f){return new SR(i,o,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>Dv(this.syncEngine,t,0)),(function(){return Cv.v()?new Cv:new hR})())}createSyncEngine(e,t){return(function(o,l,c,f,p,y,_){const E=new BR(o,l,c,f,p,y);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Le(t);fe(Ns,"RemoteStore shutting down."),i.Ea.add(5),await Pl(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bh.provider={build:()=>new bh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="FirestoreClient";class rP{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Gt.UNAUTHENTICATED,this.clientId=op.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{fe(Hi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(fe(Hi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Ap(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Yf(n,e){n.asyncQueue.verifyOperationInProgress(),fe(Hi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async o=>{i.isEqual(o)||(await a0(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function Ov(n,e){n.asyncQueue.verifyOperationInProgress();const t=await iP(n);fe(Hi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>Pv(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,o)=>Pv(e.remoteStore,o))),n._onlineComponents=e}async function iP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(Hi,"Using user provided OfflineComponentProvider");try{await Yf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;zo("Error using user provided cache. Falling back to memory cache: "+t),await Yf(n,new kc)}}else fe(Hi,"Using default OfflineComponentProvider"),await Yf(n,new nP(void 0));return n._offlineComponents}async function I0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(Hi,"Using user provided OnlineComponentProvider"),await Ov(n,n._uninitializedComponentsProvider._online)):(fe(Hi,"Using default OnlineComponentProvider"),await Ov(n,new bh))),n._onlineComponents}function sP(n){return I0(n).then((e=>e.syncEngine))}async function bc(n){const e=await I0(n),t=e.eventManager;return t.onListen=$R.bind(null,e.syncEngine),t.onUnlisten=qR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=HR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=GR.bind(null,e.syncEngine),t}function oP(n,e,t={}){const i=new qr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,p,y){const _=new Dp({next:S=>{_.Nu(),c.enqueueAndForget((()=>Rp(l,E)));const R=S.docs.has(f);!R&&S.fromCache?y.reject(new ce(X.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&S.fromCache&&p&&p.source==="server"?y.reject(new ce(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new kp(qc(f.path),_,{includeMetadataChanges:!0,qa:!0});return Cp(l,E)})(await bc(n),n.asyncQueue,e,t,i))),i.promise}function aP(n,e,t={}){const i=new qr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,p,y){const _=new Dp({next:S=>{_.Nu(),c.enqueueAndForget((()=>Rp(l,E))),S.fromCache&&p.source==="server"?y.reject(new ce(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),E=new kp(f,_,{includeMetadataChanges:!0,qa:!0});return Cp(l,E)})(await bc(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="firestore.googleapis.com",Lv=!0;class Fv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C0,this.ssl=Lv}else this.host=e.host,this.ssl=e.ssl??Lv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=s0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jC)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A0(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bl{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new dA;switch(i.type){case"firstParty":return new mA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Mv.get(t);i&&(fe("ComponentProvider","Removing Datastore"),Mv.delete(t),i.terminate())})(this),Promise.resolve()}}function lP(n,e,t,i={}){n=gr(n,bl);const o=Gh(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(gS(`https://${f}`),wS("Firestore",!0)),l.host!==C0&&l.host!==f&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:o,emulatorOptions:i};if(!dl(p,c)&&(n._setSettings(p),i.mockUserToken)){let y,_;if(typeof i.mockUserToken=="string")y=i.mockUserToken,_=Gt.MOCK_USER;else{y=yS(i.mockUserToken,n._app?.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Gt(E)}n._authCredentials=new fA(new yw(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ir(this.firestore,e,this._query)}}class xt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Al(t,xt._jsonSchema))return new xt(e,i||null,new Ie(Ze.fromString(t.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:St("string",xt._jsonSchemaVersion),referencePath:St("string")};class Li extends Ir{constructor(e,t,i){super(e,t,qc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new Ie(e))}withConverter(e){return new Li(this.firestore,e,this._path)}}function Vp(n,e,...t){if(n=Tr(n),ap("collection","path",e),n instanceof bl){const i=Ze.fromString(e,...t);return Xy(i),new Li(n,null,i)}{if(!(n instanceof xt||n instanceof Li))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ze.fromString(e,...t));return Xy(i),new Li(n.firestore,null,i)}}function uP(n,e){if(n=gr(n,bl),ap("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ir(n,null,(function(i){return new Fs(Ze.emptyPath(),i)})(e))}function R0(n,e,...t){if(n=Tr(n),arguments.length===1&&(e=op.newId()),ap("doc","path",e),n instanceof bl){const i=Ze.fromString(e,...t);return Yy(i),new xt(n,null,new Ie(i))}{if(!(n instanceof xt||n instanceof Li))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ze.fromString(e,...t));return Yy(i),new xt(n.firestore,n instanceof Li?n.converter:null,new Ie(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="AsyncQueue";class zv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new u0(this,"async_queue_retry"),this._c=()=>{const i=Qf();i&&fe(jv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Qf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Qf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yo(e))throw e;fe(jv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Yr("INTERNAL UNHANDLED ERROR: ",Uv(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Ip.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Pe(47125,{Pc:Uv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Uv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1})(n,["next","error","complete"])}class qo extends bl{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new zv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zv(e),this._firestoreClient=void 0,await e}}}function cP(n,e){const t=typeof n=="object"?n:Jh(),i=typeof n=="string"?n:Tc,o=Il(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=pS("firestore");l&&lP(o,...l)}return o}function td(n){if(n._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dP(n),n._firestoreClient}function dP(n){const e=n._freezeSettings(),t=(function(o,l,c,f){return new DA(o,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,A0(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new rP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(jt.fromBase64String(e))}catch(t){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new kn(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Al(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:St("string",kn._jsonSchemaVersion),bytes:St("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(Al(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:St("string",_r._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Al(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new wr(e.vectorValues);throw new ce(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:St("string",wr._jsonSchemaVersion),vectorValues:St("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=/^__.*__$/;class hP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cl(e,this.data,t,this.fieldTransforms)}}function P0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe(40011,{Ac:n})}}class Lp{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Nc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(P0(this.Ac)&&fP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class pP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Jc(e)}Cc(e,t,i,o=!1){return new Lp({Ac:e,methodName:t,Dc:i,path:Ft.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k0(n){const e=n._freezeSettings(),t=Jc(n._databaseId);return new pP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function mP(n,e,t,i,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);D0("Data must be an object, but it was:",c,i);const f=b0(i,c);let p,y;if(l.merge)p=new $n(c.fieldMask),y=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const S=yP(e,E,t);if(!c.contains(S))throw new ce(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);_P(_,S)||_.push(S)}p=new $n(_),y=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,y=c.fieldTransforms;return new hP(new Pn(f),p,y)}class Fp extends Mp{_toFieldTransform(e){return new sC(e.path,new _l)}isEqual(e){return e instanceof Fp}}function gP(n,e,t,i=!1){return jp(t,n.Cc(i?4:3,e))}function jp(n,e){if(N0(n=Tr(n)))return D0("Unsupported field value:",e,n),b0(n,e);if(n instanceof Mp)return(function(i,o){if(!P0(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let c=0;for(const f of i){let p=jp(f,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(i,o){if((i=Tr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return nC(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=it.fromDate(i);return{timestampValue:Cc(o.serializer,l)}}if(i instanceof it){const l=new it(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cc(o.serializer,l)}}if(i instanceof _r)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof kn)return{bytesValue:Jw(o.serializer,i._byteString)};if(i instanceof xt){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:gp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof wr)return(function(c,f){return{mapValue:{fields:{[Aw]:{stringValue:Cw},[Sc]:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw f.Sc("VectorValues must only contain numeric values.");return hp(f.serializer,y)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${Bc(i)}`)})(n,e)}function b0(n,e){const t={};return ww(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(n,((i,o)=>{const l=jp(o,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function N0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof it||n instanceof _r||n instanceof kn||n instanceof xt||n instanceof Mp||n instanceof wr)}function D0(n,e,t){if(!N0(t)||!vw(t)){const i=Bc(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function yP(n,e,t){if((e=Tr(e))instanceof Op)return e._internalPath;if(typeof e=="string")return V0(n,e);throw Nc("Field path arguments must be of type string or ",n,!1,void 0,t)}const vP=new RegExp("[~\\*/\\[\\]]");function V0(n,e,t){if(e.search(vP)>=0)throw Nc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Op(...e.split("."))._internalPath}catch{throw Nc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nc(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new ce(X.INVALID_ARGUMENT,f+n+p)}function _P(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class wP extends O0{data(){return super.data()}}function zp(n,e){return typeof e=="string"?V0(n,e):e instanceof Op?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Up{}class Bp extends Up{}function L0(n,e,...t){let i=[];e instanceof Up&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof Hp)).length,f=l.filter((p=>p instanceof $p)).length;if(c>1||c>0&&f>0)throw new ce(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)n=o._apply(n);return n}class $p extends Bp{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new $p(e,t,i)}_apply(e){const t=this._parse(e);return j0(e._query,t),new Ir(e.firestore,e.converter,Th(e._query,t))}_parse(e){const t=k0(e.firestore);return(function(l,c,f,p,y,_,E){let S;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new ce(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Hv(E,_);const M=[];for(const A of E)M.push($v(p,l,A));S={arrayValue:{values:M}}}else S=$v(p,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Hv(E,_),S=gP(f,c,E,_==="in"||_==="not-in");return Tt.create(y,_,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Hp extends Up{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hp(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Hn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let c=o;const f=l.getFlattenedFilters();for(const p of f)j0(c,p),c=Th(c,p)})(e._query,t),new Ir(e.firestore,e.converter,Th(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wp extends Bp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Wp(e,t)}_apply(e){const t=(function(o,l,c){if(o.startAt!==null)throw new ce(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vl(l,c)})(e._query,this._field,this._direction);return new Ir(e.firestore,e.converter,(function(o,l){const c=o.explicitOrderBy.concat([l]);return new Fs(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function F0(n,e="asc"){const t=e,i=zp("orderBy",n);return Wp._create(i,t)}class qp extends Bp{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new qp(e,t,i)}_apply(e){return new Ir(e.firestore,e.converter,Ic(e._query,this._limit,this._limitType))}}function EP(n){return TA("limit",n),qp._create("limit",n,"F")}function $v(n,e,t){if(typeof(t=Tr(t))=="string"){if(t==="")throw new ce(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ow(e)&&t.indexOf("/")!==-1)throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ze.fromString(t));if(!Ie.isDocumentKey(i))throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return sv(n,new Ie(i))}if(t instanceof xt)return sv(n,t._key);throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bc(t)}.`)}function Hv(n,e){if(!Array.isArray(n)||n.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j0(n,e){const t=(function(o,l){for(const c of o)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class TP{convertValue(e,t="none"){switch(Bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ls(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Sc].arrayValue?.values?.map((i=>mt(i.doubleValue)));return new wr(t)}convertGeoPoint(e){return new _r(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Wc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ml(e));default:return null}}convertTimestamp(e){const t=zi(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ze.fromString(e);Ye(i0(i),9688,{name:e});const o=new gl(i.get(1),i.get(3)),l=new Ie(i.popFirst(5));return o.isEqual(t)||Yr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class nl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cs extends O0{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(zp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Cs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cs._jsonSchema={type:St("string",Cs._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};class hc extends Cs{data(e={}){return super.data(e)}}class Rs{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new nl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new hc(this._firestore,this._userDataWriter,i.key,i,new nl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((f=>{const p=new hc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new nl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new hc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new nl(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,_=-1;return f.type!==0&&(y=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),_=c.indexOf(f.doc.key)),{type:xP(f.type),doc:p,oldIndex:y,newIndex:_}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Rs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=op.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(n){n=gr(n,xt);const e=gr(n.firestore,qo);return oP(td(e),n._key).then((t=>z0(e,n,t)))}Rs._jsonSchemaVersion="firestore/querySnapshot/1.0",Rs._jsonSchema={type:St("string",Rs._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};class Gp extends TP{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}function Kp(n){n=gr(n,Ir);const e=gr(n.firestore,qo),t=td(e),i=new Gp(e);return M0(n._query),aP(t,n._query).then((o=>new Rs(e,i,n,o)))}function AP(n,e){const t=gr(n.firestore,qo),i=R0(n),o=SP(n.converter,e);return RP(t,[mP(k0(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Gr.exists(!1))]).then((()=>i))}function CP(n,...e){n=Tr(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Bv(e[i])||(t=e[i++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Bv(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,c,f;if(n instanceof xt)c=gr(n.firestore,qo),f=qc(n._key.path),l={next:p=>{e[i]&&e[i](z0(c,n,p))},error:e[i+1],complete:e[i+2]};else{const p=gr(n,Ir);c=gr(p.firestore,qo),f=p._query;const y=new Gp(c);l={next:_=>{e[i]&&e[i](new Rs(c,y,p,_))},error:e[i+1],complete:e[i+2]},M0(n._query)}return(function(y,_,E,S){const R=new Dp(S),M=new kp(_,R,E);return y.asyncQueue.enqueueAndForget((async()=>Cp(await bc(y),M))),()=>{R.Nu(),y.asyncQueue.enqueueAndForget((async()=>Rp(await bc(y),M)))}})(td(c),f,o,l)}function RP(n,e){return(function(i,o){const l=new qr;return i.asyncQueue.enqueueAndForget((async()=>KR(await sP(i),o,l))),l.promise})(td(n),e)}function z0(n,e,t){const i=t.docs.get(e._key),o=new Gp(n);return new Cs(n,o,e._key,i,new nl(t.hasPendingWrites,t.fromCache),e.converter)}function PP(){return new Fp("serverTimestamp")}(function(e,t=!0){(function(o){Ko=o})(Px),Fi(new Kr("firestore",((i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new qo(new hA(i.getProvider("auth-internal")),new gA(c,i.getProvider("app-check-internal")),(function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gl(y.options.projectId,_)})(c,o),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),mr(qy,Gy,e),mr(qy,Gy,"esm2020")})();const kP={apiKey:"AIzaSyABOQQCvKR3zeUbbNFx3GsnU70C2Q2f-7k",authDomain:"trip-adventure-cc.firebaseapp.com",projectId:"trip-adventure-cc",storageBucket:"trip-adventure-cc.firebasestorage.app",messagingSenderId:"1091639514345",appId:"1:1091639514345:web:928f41c62ef79482b88c78",measurementId:"G-0RJ0DT4LEM"},U0=kx().length?Jh():z_(kP);aA().then(n=>{n&&sA(U0)});const Nl=cP(U0),bP=async()=>{try{const n=Vp(Nl,"countries");return(await Kp(n)).docs.map(i=>{const o=i.data();return{id:i.id,name:o.name,imageUrl:o.imageUrl||"",attractionCount:o.attractionCount||0}})}catch(n){return console.error("Error mengambil countries: ",n),[]}},NP=async n=>{try{const e=Vp(Nl,"countries",n,"attractions");return(await Kp(e)).docs.map(o=>({id:o.id,...o.data(),country:n}))}catch(e){return console.error("Error mengambil attractions by country: ",e),[]}},DP=async(n,e)=>{try{const t=R0(Nl,"countries",n,"attractions",e),i=await IP(t);if(i.exists())return{id:i.id,...i.data(),country:n};console.log("No such document!");return}catch(t){console.error("Error mengambil attraction by ID: ",t);return}},VP=async(n=6)=>{try{const e=uP(Nl,"attractions"),t=L0(e,F0("rating_avg","desc"),EP(n));return(await Kp(t)).docs.map(l=>{const c=l.ref.parent.parent?.id||"";return{id:l.id,...l.data(),country:c}})}catch(e){return console.error("Error mengambil top rated attractions: ",e),console.warn("PENTING: Query ini memerlukan INDEX. Firebase akan memberikan link di console error untuk membuat index. Klik link itu."),[]}},B0=n=>n===0?"Gratis":new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(n);function Wv(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function $0(...n){return e=>{let t=!1;const i=n.map(o=>{const l=Wv(o,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():Wv(n[o],null)}}}}function zt(...n){return D.useCallback($0(...n),n)}function Tl(n){const e=OP(n),t=D.forwardRef((i,o)=>{const{children:l,...c}=i,f=D.Children.toArray(l),p=f.find(LP);if(p){const y=p.props.children,_=f.map(E=>E===p?D.Children.count(y)>1?D.Children.only(null):D.isValidElement(y)?y.props.children:null:E);return I.jsx(e,{...c,ref:o,children:D.isValidElement(y)?D.cloneElement(y,void 0,_):null})}return I.jsx(e,{...c,ref:o,children:l})});return t.displayName=`${n}.Slot`,t}var H0=Tl("Slot");function OP(n){const e=D.forwardRef((t,i)=>{const{children:o,...l}=t;if(D.isValidElement(o)){const c=jP(o),f=FP(l,o.props);return o.type!==D.Fragment&&(f.ref=i?$0(i,c):c),D.cloneElement(o,f)}return D.Children.count(o)>1?D.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var MP=Symbol("radix.slottable");function LP(n){return D.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===MP}function FP(n,e){const t={...e};for(const i in e){const o=n[i],l=e[i];/^on[A-Z]/.test(i)?o&&l?t[i]=(...f)=>{const p=l(...f);return o(...f),p}:o&&(t[i]=o):i==="style"?t[i]={...o,...l}:i==="className"&&(t[i]=[o,l].filter(Boolean).join(" "))}return{...n,...t}}function jP(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function W0(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=W0(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function q0(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=W0(n))&&(i&&(i+=" "),i+=e);return i}const qv=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Gv=q0,G0=(n,e)=>t=>{var i;if(e?.variants==null)return Gv(n,t?.class,t?.className);const{variants:o,defaultVariants:l}=e,c=Object.keys(o).map(y=>{const _=t?.[y],E=l?.[y];if(_===null)return null;const S=qv(_)||qv(E);return o[y][S]}),f=t&&Object.entries(t).reduce((y,_)=>{let[E,S]=_;return S===void 0||(y[E]=S),y},{}),p=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((y,_)=>{let{class:E,className:S,...R}=_;return Object.entries(R).every(M=>{let[A,N]=M;return Array.isArray(N)?N.includes({...l,...f}[A]):{...l,...f}[A]===N})?[...y,E,S]:y},[]);return Gv(n,c,p,t?.class,t?.className)},Qp="-",zP=n=>{const e=BP(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{const f=c.split(Qp);return f[0]===""&&f.length!==1&&f.shift(),K0(f,e)||UP(c)},getConflictingClassGroupIds:(c,f)=>{const p=t[c]||[];return f&&i[c]?[...p,...i[c]]:p}}},K0=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),o=i?K0(n.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const l=n.join(Qp);return e.validators.find(({validator:c})=>c(l))?.classGroupId},Kv=/^\[(.+)\]$/,UP=n=>{if(Kv.test(n)){const e=Kv.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},BP=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const o in t)Nh(t[o],i,o,e);return i},Nh=(n,e,t,i)=>{n.forEach(o=>{if(typeof o=="string"){const l=o===""?e:Qv(e,o);l.classGroupId=t;return}if(typeof o=="function"){if($P(o)){Nh(o(i),e,t,i);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([l,c])=>{Nh(c,Qv(e,l),t,i)})})},Qv=(n,e)=>{let t=n;return e.split(Qp).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},$P=n=>n.isThemeGetter,HP=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const o=(l,c)=>{t.set(l,c),e++,e>n&&(e=0,i=t,t=new Map)};return{get(l){let c=t.get(l);if(c!==void 0)return c;if((c=i.get(l))!==void 0)return o(l,c),c},set(l,c){t.has(l)?t.set(l,c):o(l,c)}}},Dh="!",Vh=":",WP=Vh.length,qP=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=o=>{const l=[];let c=0,f=0,p=0,y;for(let M=0;M<o.length;M++){let A=o[M];if(c===0&&f===0){if(A===Vh){l.push(o.slice(p,M)),p=M+WP;continue}if(A==="/"){y=M;continue}}A==="["?c++:A==="]"?c--:A==="("?f++:A===")"&&f--}const _=l.length===0?o:o.substring(p),E=GP(_),S=E!==_,R=y&&y>p?y-p:void 0;return{modifiers:l,hasImportantModifier:S,baseClassName:E,maybePostfixModifierPosition:R}};if(e){const o=e+Vh,l=i;i=c=>c.startsWith(o)?l(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const o=i;i=l=>t({className:l,parseClassName:o})}return i},GP=n=>n.endsWith(Dh)?n.substring(0,n.length-1):n.startsWith(Dh)?n.substring(1):n,KP=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const o=[];let l=[];return i.forEach(c=>{c[0]==="["||e[c]?(o.push(...l.sort(),c),l=[]):l.push(c)}),o.push(...l.sort()),o}},QP=n=>({cache:HP(n.cacheSize),parseClassName:qP(n),sortModifiers:KP(n),...zP(n)}),YP=/\s+/,XP=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:l}=e,c=[],f=n.trim().split(YP);let p="";for(let y=f.length-1;y>=0;y-=1){const _=f[y],{isExternal:E,modifiers:S,hasImportantModifier:R,baseClassName:M,maybePostfixModifierPosition:A}=t(_);if(E){p=_+(p.length>0?" "+p:p);continue}let N=!!A,W=i(N?M.substring(0,A):M);if(!W){if(!N){p=_+(p.length>0?" "+p:p);continue}if(W=i(M),!W){p=_+(p.length>0?" "+p:p);continue}N=!1}const $=l(S).join(":"),G=R?$+Dh:$,K=G+W;if(c.includes(K))continue;c.push(K);const Z=o(W,N);for(let se=0;se<Z.length;++se){const C=Z[se];c.push(G+C)}p=_+(p.length>0?" "+p:p)}return p};function JP(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Q0(e))&&(i&&(i+=" "),i+=t);return i}const Q0=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=Q0(n[i]))&&(t&&(t+=" "),t+=e);return t};function ZP(n,...e){let t,i,o,l=c;function c(p){const y=e.reduce((_,E)=>E(_),n());return t=QP(y),i=t.cache.get,o=t.cache.set,l=f,f(p)}function f(p){const y=i(p);if(y)return y;const _=XP(p,t);return o(p,_),_}return function(){return l(JP.apply(null,arguments))}}const Ct=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Y0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,X0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ek=/^\d+\/\d+$/,tk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,ik=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ro=n=>ek.test(n),Fe=n=>!!n&&!Number.isNaN(Number(n)),ki=n=>!!n&&Number.isInteger(Number(n)),Xf=n=>n.endsWith("%")&&Fe(n.slice(0,-1)),Wr=n=>tk.test(n),ok=()=>!0,ak=n=>nk.test(n)&&!rk.test(n),J0=()=>!1,lk=n=>ik.test(n),uk=n=>sk.test(n),ck=n=>!ye(n)&&!ve(n),dk=n=>Jo(n,tE,J0),ye=n=>Y0.test(n),Ss=n=>Jo(n,nE,ak),Jf=n=>Jo(n,gk,Fe),Yv=n=>Jo(n,Z0,J0),fk=n=>Jo(n,eE,uk),tc=n=>Jo(n,rE,lk),ve=n=>X0.test(n),Xa=n=>Zo(n,nE),hk=n=>Zo(n,yk),Xv=n=>Zo(n,Z0),pk=n=>Zo(n,tE),mk=n=>Zo(n,eE),nc=n=>Zo(n,rE,!0),Jo=(n,e,t)=>{const i=Y0.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Zo=(n,e,t=!1)=>{const i=X0.exec(n);return i?i[1]?e(i[1]):t:!1},Z0=n=>n==="position"||n==="percentage",eE=n=>n==="image"||n==="url",tE=n=>n==="length"||n==="size"||n==="bg-size",nE=n=>n==="length",gk=n=>n==="number",yk=n=>n==="family-name",rE=n=>n==="shadow",vk=()=>{const n=Ct("color"),e=Ct("font"),t=Ct("text"),i=Ct("font-weight"),o=Ct("tracking"),l=Ct("leading"),c=Ct("breakpoint"),f=Ct("container"),p=Ct("spacing"),y=Ct("radius"),_=Ct("shadow"),E=Ct("inset-shadow"),S=Ct("text-shadow"),R=Ct("drop-shadow"),M=Ct("blur"),A=Ct("perspective"),N=Ct("aspect"),W=Ct("ease"),$=Ct("animate"),G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Z=()=>[...K(),ve,ye],se=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],T=()=>[ve,ye,p],k=()=>[Ro,"full","auto",...T()],O=()=>[ki,"none","subgrid",ve,ye],V=()=>["auto",{span:["full",ki,ve,ye]},ki,ve,ye],F=()=>[ki,"auto",ve,ye],P=()=>["auto","min","max","fr",ve,ye],we=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Re=()=>["start","end","center","stretch","center-safe","end-safe"],Te=()=>["auto",...T()],_e=()=>[Ro,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...T()],U=()=>[n,ve,ye],le=()=>[...K(),Xv,Yv,{position:[ve,ye]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",pk,dk,{size:[ve,ye]}],J=()=>[Xf,Xa,Ss],me=()=>["","none","full",y,ve,ye],pe=()=>["",Fe,Xa,Ss],ke=()=>["solid","dashed","dotted","double"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[Fe,Xf,Xv,Yv],xe=()=>["","none",M,ve,ye],be=()=>["none",Fe,ve,ye],Ve=()=>["none",Fe,ve,ye],Be=()=>[Fe,ve,ye],Ke=()=>[Ro,"full",...T()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Wr],breakpoint:[Wr],color:[ok],container:[Wr],"drop-shadow":[Wr],ease:["in","out","in-out"],font:[ck],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Wr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Wr],shadow:[Wr],spacing:["px",Fe],text:[Wr],"text-shadow":[Wr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ro,ye,ve,N]}],container:["container"],columns:[{columns:[Fe,ye,ve,f]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Z()}],overflow:[{overflow:se()}],"overflow-x":[{"overflow-x":se()}],"overflow-y":[{"overflow-y":se()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[ki,"auto",ve,ye]}],basis:[{basis:[Ro,"full","auto",f,...T()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Fe,Ro,"auto","initial","none",ye]}],grow:[{grow:["",Fe,ve,ye]}],shrink:[{shrink:["",Fe,ve,ye]}],order:[{order:[ki,"first","last","none",ve,ye]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:T()}],"gap-x":[{"gap-x":T()}],"gap-y":[{"gap-y":T()}],"justify-content":[{justify:[...we(),"normal"]}],"justify-items":[{"justify-items":[...Re(),"normal"]}],"justify-self":[{"justify-self":["auto",...Re()]}],"align-content":[{content:["normal",...we()]}],"align-items":[{items:[...Re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Re(),{baseline:["","last"]}]}],"place-content":[{"place-content":we()}],"place-items":[{"place-items":[...Re(),"baseline"]}],"place-self":[{"place-self":["auto",...Re()]}],p:[{p:T()}],px:[{px:T()}],py:[{py:T()}],ps:[{ps:T()}],pe:[{pe:T()}],pt:[{pt:T()}],pr:[{pr:T()}],pb:[{pb:T()}],pl:[{pl:T()}],m:[{m:Te()}],mx:[{mx:Te()}],my:[{my:Te()}],ms:[{ms:Te()}],me:[{me:Te()}],mt:[{mt:Te()}],mr:[{mr:Te()}],mb:[{mb:Te()}],ml:[{ml:Te()}],"space-x":[{"space-x":T()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":T()}],"space-y-reverse":["space-y-reverse"],size:[{size:_e()}],w:[{w:[f,"screen",..._e()]}],"min-w":[{"min-w":[f,"screen","none",..._e()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},..._e()]}],h:[{h:["screen","lh",..._e()]}],"min-h":[{"min-h":["screen","lh","none",..._e()]}],"max-h":[{"max-h":["screen","lh",..._e()]}],"font-size":[{text:["base",t,Xa,Ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,ve,Jf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xf,ye]}],"font-family":[{font:[hk,ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ve,ye]}],"line-clamp":[{"line-clamp":[Fe,"none",ve,Jf]}],leading:[{leading:[l,...T()]}],"list-image":[{"list-image":["none",ve,ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ve,ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ke(),"wavy"]}],"text-decoration-thickness":[{decoration:[Fe,"from-font","auto",ve,Ss]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[Fe,"auto",ve,ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve,ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve,ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ki,ve,ye],radial:["",ve,ye],conic:[ki,ve,ye]},mk,fk]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:me()}],"rounded-s":[{"rounded-s":me()}],"rounded-e":[{"rounded-e":me()}],"rounded-t":[{"rounded-t":me()}],"rounded-r":[{"rounded-r":me()}],"rounded-b":[{"rounded-b":me()}],"rounded-l":[{"rounded-l":me()}],"rounded-ss":[{"rounded-ss":me()}],"rounded-se":[{"rounded-se":me()}],"rounded-ee":[{"rounded-ee":me()}],"rounded-es":[{"rounded-es":me()}],"rounded-tl":[{"rounded-tl":me()}],"rounded-tr":[{"rounded-tr":me()}],"rounded-br":[{"rounded-br":me()}],"rounded-bl":[{"rounded-bl":me()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ke(),"hidden","none"]}],"divide-style":[{divide:[...ke(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...ke(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Fe,ve,ye]}],"outline-w":[{outline:["",Fe,Xa,Ss]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",_,nc,tc]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",E,nc,tc]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[Fe,Ss]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",S,nc,tc]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[Fe,ve,ye]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Fe]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[ve,ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":K()}],"mask-image-conic-pos":[{"mask-conic":[Fe]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ve,ye]}],filter:[{filter:["","none",ve,ye]}],blur:[{blur:xe()}],brightness:[{brightness:[Fe,ve,ye]}],contrast:[{contrast:[Fe,ve,ye]}],"drop-shadow":[{"drop-shadow":["","none",R,nc,tc]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",Fe,ve,ye]}],"hue-rotate":[{"hue-rotate":[Fe,ve,ye]}],invert:[{invert:["",Fe,ve,ye]}],saturate:[{saturate:[Fe,ve,ye]}],sepia:[{sepia:["",Fe,ve,ye]}],"backdrop-filter":[{"backdrop-filter":["","none",ve,ye]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[Fe,ve,ye]}],"backdrop-contrast":[{"backdrop-contrast":[Fe,ve,ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Fe,ve,ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Fe,ve,ye]}],"backdrop-invert":[{"backdrop-invert":["",Fe,ve,ye]}],"backdrop-opacity":[{"backdrop-opacity":[Fe,ve,ye]}],"backdrop-saturate":[{"backdrop-saturate":[Fe,ve,ye]}],"backdrop-sepia":[{"backdrop-sepia":["",Fe,ve,ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":T()}],"border-spacing-x":[{"border-spacing-x":T()}],"border-spacing-y":[{"border-spacing-y":T()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ve,ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Fe,"initial",ve,ye]}],ease:[{ease:["linear","initial",W,ve,ye]}],delay:[{delay:[Fe,ve,ye]}],animate:[{animate:["none",$,ve,ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,ve,ye]}],"perspective-origin":[{"perspective-origin":Z()}],rotate:[{rotate:be()}],"rotate-x":[{"rotate-x":be()}],"rotate-y":[{"rotate-y":be()}],"rotate-z":[{"rotate-z":be()}],scale:[{scale:Ve()}],"scale-x":[{"scale-x":Ve()}],"scale-y":[{"scale-y":Ve()}],"scale-z":[{"scale-z":Ve()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[ve,ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:Z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ke()}],"translate-x":[{"translate-x":Ke()}],"translate-y":[{"translate-y":Ke()}],"translate-z":[{"translate-z":Ke()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve,ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve,ye]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[Fe,Xa,Ss,Jf]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},_k=ZP(vk);function Wi(...n){return _k(q0(n))}const wk=G0("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function pc({className:n,variant:e,asChild:t=!1,...i}){const o=t?H0:"span";return I.jsx(o,{"data-slot":"badge",className:Wi(wk({variant:e}),n),...i})}const Ek="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function iE(n){const[e,t]=D.useState(!1),i=()=>{t(!0)},{src:o,alt:l,style:c,className:f,...p}=n;return e?I.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${f??""}`,style:c,children:I.jsx("div",{className:"flex items-center justify-center w-full h-full",children:I.jsx("img",{src:Ek,alt:"Error loading image",...p,"data-original-url":o})})}):I.jsx("img",{src:o,alt:l,className:f,style:c,...p,onError:i})}function sE({attraction:n,onClick:e}){return I.jsxs("div",{onClick:e,className:"group bg-white rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transition-all duration-300 cursor-pointer hover:-translate-y-1",children:[I.jsxs("div",{className:"relative h-48 overflow-hidden",children:[I.jsx(iE,{src:n.main_image_url,alt:n.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),I.jsx(pc,{className:"absolute top-3 right-3 bg-white/95 text-gray-800 hover:bg-white",children:n.type})]}),I.jsxs("div",{className:"p-4",children:[I.jsx("h3",{className:"mb-2 line-clamp-1",children:n.name}),I.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[I.jsx(il,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),I.jsx("span",{className:"text-gray-900",children:n.rating_avg.toFixed(1)}),I.jsxs("span",{className:"text-gray-500 text-sm",children:["(",n.rating_count.toLocaleString("id-ID"),")"]})]}),I.jsxs("div",{className:"flex items-center gap-1 mb-3 text-gray-600",children:[I.jsx(uh,{className:"h-4 w-4 flex-shrink-0"}),I.jsxs("p",{className:"text-sm line-clamp-1",children:[n.location.city,", ",n.country]})]}),I.jsx("div",{className:"flex items-center justify-between",children:I.jsxs("div",{children:[I.jsx("p",{className:"text-xs text-gray-500",children:"Mulai dari"}),I.jsx("p",{className:"text-sky-600",children:B0(n.entrance_fee)})]})})]})]})}function Tk({country:n,onClick:e}){return I.jsxs("div",{onClick:e,className:"group relative flex-shrink-0 w-64 h-80 rounded-2xl overflow-hidden cursor-pointer shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-1",children:[I.jsx(iE,{src:n.imageUrl,alt:n.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),I.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),I.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[I.jsx("h3",{className:"mb-1",children:n.name}),I.jsx("p",{className:"text-white/80 text-sm",children:"5 Destinasi"})]})]})}function Sk({onCountryClick:n,onAttractionClick:e}){const[t,i]=D.useState([]),[o,l]=D.useState([]),[c,f]=D.useState(!0);return D.useEffect(()=>{(async()=>{try{f(!0);const y=await bP(),_=await VP(6);i(y),l(_)}catch(y){console.error("Gagal mengambil data homepage:",y)}finally{f(!1)}})()},[]),c?I.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50",children:I.jsx(Fc,{className:"h-12 w-12 animate-spin text-sky-500"})}):I.jsxs("div",{className:"min-h-screen bg-gray-50",children:[I.jsxs("div",{className:"relative h-[600px] lg:h-[700px] flex items-center justify-center overflow-hidden",children:[I.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1631684181713-e697596d2165?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtb3VudGFpbiUyMGFkdmVudHVyZSUyMGxhbmRzY2FwZXxlbnwxfHx8fDE3NjEwNDE5NzV8MA&ixlib=rb-4.1.0&q=80&w=1080')"}}),I.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-sky-900/70 via-sky-800/60 to-gray-50"}),I.jsxs("div",{className:"relative z-10 text-center px-4 max-w-4xl mx-auto",children:[I.jsxs("div",{className:"mb-6 inline-flex items-center gap-2 px-4 py-2 bg-white/10 backdrop-blur-md rounded-full text-white border border-white/20",children:[I.jsx(BT,{className:"h-5 w-5"}),I.jsx("span",{className:"text-sm",children:"Trip Adventure"})]}),I.jsx("h1",{className:"text-white mb-4 text-4xl lg:text-6xl",children:"Temukan Petualanganmu Berikutnya"}),I.jsx("p",{className:"text-white/90 text-lg lg:text-xl mb-10 max-w-2xl mx-auto",children:"Jelajahi ribuan destinasi menakjubkan di seluruh dunia dan ciptakan kenangan tak terlupakan"})]})]}),I.jsx("section",{className:"py-12 lg:py-16 px-4",children:I.jsxs("div",{className:"max-w-7xl mx-auto",children:[I.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[I.jsx("div",{className:"h-10 w-1 bg-sky-500 rounded-full"}),I.jsxs("div",{children:[I.jsx("h2",{className:"text-gray-900",children:"Negara Populer"}),I.jsx("p",{className:"text-gray-600",children:"Pilih destinasi favoritmu"})]})]}),I.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide",children:t.map(p=>I.jsx(Tk,{country:p,onClick:()=>n(p.id)},p.id))})]})}),I.jsx("section",{className:"py-12 lg:py-16 px-4 bg-white",children:I.jsxs("div",{className:"max-w-7xl mx-auto",children:[I.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[I.jsx("div",{className:"h-10 w-1 bg-orange-500 rounded-full"}),I.jsxs("div",{children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("h2",{className:"text-gray-900",children:"Wisata Terpopuler"}),I.jsx(tS,{className:"h-6 w-6 text-orange-500"})]}),I.jsx("p",{className:"text-gray-600",children:"Destinasi dengan rating tertinggi"})]})]}),I.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(p=>I.jsx(sE,{attraction:p,onClick:()=>e(p.id,p.country)},p.id))})]})}),I.jsx("section",{className:"py-16 lg:py-24 px-4 bg-gradient-to-br from-sky-600 to-sky-800 text-white",children:I.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[I.jsx("h2",{className:"text-white mb-4 text-3xl lg:text-5xl",children:"Siap Memulai Petualangan?"}),I.jsx("p",{className:"text-white/90 text-lg mb-8",children:"Bergabunglah dengan jutaan traveler yang telah menemukan destinasi impian mereka"}),I.jsx("button",{className:"px-8 py-4 bg-orange-500 hover:bg-orange-600 text-white rounded-full transition-colors shadow-lg hover:shadow-xl",children:"Mulai Jelajahi Sekarang"})]})})]})}const xk=G0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function cl({className:n,variant:e,size:t,asChild:i=!1,...o}){const l=i?H0:"button";return I.jsx(l,{"data-slot":"button",className:Wi(xk({variant:e,size:t,className:n})),...o})}var Dl=R_();const Ik=C_(Dl);function Jv(n,[e,t]){return Math.min(t,Math.max(e,n))}function Et(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function Yp(n,e=[]){let t=[];function i(l,c){const f=D.createContext(c),p=t.length;t=[...t,c];const y=E=>{const{scope:S,children:R,...M}=E,A=S?.[n]?.[p]||f,N=D.useMemo(()=>M,Object.values(M));return I.jsx(A.Provider,{value:N,children:R})};y.displayName=l+"Provider";function _(E,S){const R=S?.[n]?.[p]||f,M=D.useContext(R);if(M)return M;if(c!==void 0)return c;throw new Error(`\`${E}\` must be used within \`${l}\``)}return[y,_]}const o=()=>{const l=t.map(c=>D.createContext(c));return function(f){const p=f?.[n]||l;return D.useMemo(()=>({[`__scope${n}`]:{...f,[n]:p}}),[f,p])}};return o.scopeName=n,[i,Ak(o,...e)]}function Ak(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=i.reduce((f,{useScope:p,scopeName:y})=>{const E=p(l)[`__scope${y}`];return{...f,...E}},{});return D.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function Ck(n){const e=n+"CollectionProvider",[t,i]=Yp(e),[o,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=A=>{const{scope:N,children:W}=A,$=bi.useRef(null),G=bi.useRef(new Map).current;return I.jsx(o,{scope:N,itemMap:G,collectionRef:$,children:W})};c.displayName=e;const f=n+"CollectionSlot",p=Tl(f),y=bi.forwardRef((A,N)=>{const{scope:W,children:$}=A,G=l(f,W),K=zt(N,G.collectionRef);return I.jsx(p,{ref:K,children:$})});y.displayName=f;const _=n+"CollectionItemSlot",E="data-radix-collection-item",S=Tl(_),R=bi.forwardRef((A,N)=>{const{scope:W,children:$,...G}=A,K=bi.useRef(null),Z=zt(N,K),se=l(_,W);return bi.useEffect(()=>(se.itemMap.set(K,{ref:K,...G}),()=>void se.itemMap.delete(K))),I.jsx(S,{[E]:"",ref:Z,children:$})});R.displayName=_;function M(A){const N=l(n+"CollectionConsumer",A);return bi.useCallback(()=>{const $=N.collectionRef.current;if(!$)return[];const G=Array.from($.querySelectorAll(`[${E}]`));return Array.from(N.itemMap.values()).sort((se,C)=>G.indexOf(se.ref.current)-G.indexOf(C.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:c,Slot:y,ItemSlot:R},M,i]}var Rk=D.createContext(void 0);function Pk(n){const e=D.useContext(Rk);return n||e||"ltr"}var kk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gt=kk.reduce((n,e)=>{const t=Tl(`Primitive.${e}`),i=D.forwardRef((o,l)=>{const{asChild:c,...f}=o,p=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),I.jsx(p,{...f,ref:l})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function bk(n,e){n&&Dl.flushSync(()=>n.dispatchEvent(e))}function Ds(n){const e=D.useRef(n);return D.useEffect(()=>{e.current=n}),D.useMemo(()=>(...t)=>e.current?.(...t),[])}function Nk(n,e=globalThis?.document){const t=Ds(n);D.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var Dk="DismissableLayer",Oh="dismissableLayer.update",Vk="dismissableLayer.pointerDownOutside",Ok="dismissableLayer.focusOutside",Zv,oE=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),aE=D.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:f,...p}=n,y=D.useContext(oE),[_,E]=D.useState(null),S=_?.ownerDocument??globalThis?.document,[,R]=D.useState({}),M=zt(e,C=>E(C)),A=Array.from(y.layers),[N]=[...y.layersWithOutsidePointerEventsDisabled].slice(-1),W=A.indexOf(N),$=_?A.indexOf(_):-1,G=y.layersWithOutsidePointerEventsDisabled.size>0,K=$>=W,Z=Fk(C=>{const T=C.target,k=[...y.branches].some(O=>O.contains(T));!K||k||(o?.(C),c?.(C),C.defaultPrevented||f?.())},S),se=jk(C=>{const T=C.target;[...y.branches].some(O=>O.contains(T))||(l?.(C),c?.(C),C.defaultPrevented||f?.())},S);return Nk(C=>{$===y.layers.size-1&&(i?.(C),!C.defaultPrevented&&f&&(C.preventDefault(),f()))},S),D.useEffect(()=>{if(_)return t&&(y.layersWithOutsidePointerEventsDisabled.size===0&&(Zv=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),y.layersWithOutsidePointerEventsDisabled.add(_)),y.layers.add(_),e_(),()=>{t&&y.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=Zv)}},[_,S,t,y]),D.useEffect(()=>()=>{_&&(y.layers.delete(_),y.layersWithOutsidePointerEventsDisabled.delete(_),e_())},[_,y]),D.useEffect(()=>{const C=()=>R({});return document.addEventListener(Oh,C),()=>document.removeEventListener(Oh,C)},[]),I.jsx(gt.div,{...p,ref:M,style:{pointerEvents:G?K?"auto":"none":void 0,...n.style},onFocusCapture:Et(n.onFocusCapture,se.onFocusCapture),onBlurCapture:Et(n.onBlurCapture,se.onBlurCapture),onPointerDownCapture:Et(n.onPointerDownCapture,Z.onPointerDownCapture)})});aE.displayName=Dk;var Mk="DismissableLayerBranch",Lk=D.forwardRef((n,e)=>{const t=D.useContext(oE),i=D.useRef(null),o=zt(e,i);return D.useEffect(()=>{const l=i.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),I.jsx(gt.div,{...n,ref:o})});Lk.displayName=Mk;function Fk(n,e=globalThis?.document){const t=Ds(n),i=D.useRef(!1),o=D.useRef(()=>{});return D.useEffect(()=>{const l=f=>{if(f.target&&!i.current){let p=function(){lE(Vk,t,y,{discrete:!0})};const y={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=p,e.addEventListener("click",o.current,{once:!0})):p()}else e.removeEventListener("click",o.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function jk(n,e=globalThis?.document){const t=Ds(n),i=D.useRef(!1);return D.useEffect(()=>{const o=l=>{l.target&&!i.current&&lE(Ok,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function e_(){const n=new CustomEvent(Oh);document.dispatchEvent(n)}function lE(n,e,t,{discrete:i}){const o=t.originalEvent.target,l=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?bk(o,l):o.dispatchEvent(l)}var Zf=0;function zk(){D.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??t_()),document.body.insertAdjacentElement("beforeend",n[1]??t_()),Zf++,()=>{Zf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Zf--}},[])}function t_(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var eh="focusScope.autoFocusOnMount",th="focusScope.autoFocusOnUnmount",n_={bubbles:!1,cancelable:!0},Uk="FocusScope",uE=D.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=n,[f,p]=D.useState(null),y=Ds(o),_=Ds(l),E=D.useRef(null),S=zt(e,A=>p(A)),R=D.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;D.useEffect(()=>{if(i){let A=function(G){if(R.paused||!f)return;const K=G.target;f.contains(K)?E.current=K:Ni(E.current,{select:!0})},N=function(G){if(R.paused||!f)return;const K=G.relatedTarget;K!==null&&(f.contains(K)||Ni(E.current,{select:!0}))},W=function(G){if(document.activeElement===document.body)for(const Z of G)Z.removedNodes.length>0&&Ni(f)};document.addEventListener("focusin",A),document.addEventListener("focusout",N);const $=new MutationObserver(W);return f&&$.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",A),document.removeEventListener("focusout",N),$.disconnect()}}},[i,f,R.paused]),D.useEffect(()=>{if(f){i_.add(R);const A=document.activeElement;if(!f.contains(A)){const W=new CustomEvent(eh,n_);f.addEventListener(eh,y),f.dispatchEvent(W),W.defaultPrevented||(Bk(Gk(cE(f)),{select:!0}),document.activeElement===A&&Ni(f))}return()=>{f.removeEventListener(eh,y),setTimeout(()=>{const W=new CustomEvent(th,n_);f.addEventListener(th,_),f.dispatchEvent(W),W.defaultPrevented||Ni(A??document.body,{select:!0}),f.removeEventListener(th,_),i_.remove(R)},0)}}},[f,y,_,R]);const M=D.useCallback(A=>{if(!t&&!i||R.paused)return;const N=A.key==="Tab"&&!A.altKey&&!A.ctrlKey&&!A.metaKey,W=document.activeElement;if(N&&W){const $=A.currentTarget,[G,K]=$k($);G&&K?!A.shiftKey&&W===K?(A.preventDefault(),t&&Ni(G,{select:!0})):A.shiftKey&&W===G&&(A.preventDefault(),t&&Ni(K,{select:!0})):W===$&&A.preventDefault()}},[t,i,R.paused]);return I.jsx(gt.div,{tabIndex:-1,...c,ref:S,onKeyDown:M})});uE.displayName=Uk;function Bk(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Ni(i,{select:e}),document.activeElement!==t)return}function $k(n){const e=cE(n),t=r_(e,n),i=r_(e.reverse(),n);return[t,i]}function cE(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function r_(n,e){for(const t of n)if(!Hk(t,{upTo:e}))return t}function Hk(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function Wk(n){return n instanceof HTMLInputElement&&"select"in n}function Ni(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Wk(n)&&e&&n.select()}}var i_=qk();function qk(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=s_(n,e),n.unshift(e)},remove(e){n=s_(n,e),n[0]?.resume()}}}function s_(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function Gk(n){return n.filter(e=>e.tagName!=="A")}var an=globalThis?.document?D.useLayoutEffect:()=>{},Kk=P_[" useId ".trim().toString()]||(()=>{}),Qk=0;function Xp(n){const[e,t]=D.useState(Kk());return an(()=>{t(i=>i??String(Qk++))},[n]),n||(e?`radix-${e}`:"")}const Yk=["top","right","bottom","left"],qi=Math.min,vn=Math.max,Dc=Math.round,rc=Math.floor,Er=n=>({x:n,y:n}),Xk={left:"right",right:"left",bottom:"top",top:"bottom"},Jk={start:"end",end:"start"};function Mh(n,e,t){return vn(n,qi(e,t))}function Jr(n,e){return typeof n=="function"?n(e):n}function Zr(n){return n.split("-")[0]}function ea(n){return n.split("-")[1]}function Jp(n){return n==="x"?"y":"x"}function Zp(n){return n==="y"?"height":"width"}const Zk=new Set(["top","bottom"]);function pr(n){return Zk.has(Zr(n))?"y":"x"}function em(n){return Jp(pr(n))}function eb(n,e,t){t===void 0&&(t=!1);const i=ea(n),o=em(n),l=Zp(o);let c=o==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Vc(c)),[c,Vc(c)]}function tb(n){const e=Vc(n);return[Lh(n),e,Lh(e)]}function Lh(n){return n.replace(/start|end/g,e=>Jk[e])}const o_=["left","right"],a_=["right","left"],nb=["top","bottom"],rb=["bottom","top"];function ib(n,e,t){switch(n){case"top":case"bottom":return t?e?a_:o_:e?o_:a_;case"left":case"right":return e?nb:rb;default:return[]}}function sb(n,e,t,i){const o=ea(n);let l=ib(Zr(n),t==="start",i);return o&&(l=l.map(c=>c+"-"+o),e&&(l=l.concat(l.map(Lh)))),l}function Vc(n){return n.replace(/left|right|bottom|top/g,e=>Xk[e])}function ob(n){return{top:0,right:0,bottom:0,left:0,...n}}function dE(n){return typeof n!="number"?ob(n):{top:n,right:n,bottom:n,left:n}}function Oc(n){const{x:e,y:t,width:i,height:o}=n;return{width:i,height:o,top:t,left:e,right:e+i,bottom:t+o,x:e,y:t}}function l_(n,e,t){let{reference:i,floating:o}=n;const l=pr(e),c=em(e),f=Zp(c),p=Zr(e),y=l==="y",_=i.x+i.width/2-o.width/2,E=i.y+i.height/2-o.height/2,S=i[f]/2-o[f]/2;let R;switch(p){case"top":R={x:_,y:i.y-o.height};break;case"bottom":R={x:_,y:i.y+i.height};break;case"right":R={x:i.x+i.width,y:E};break;case"left":R={x:i.x-o.width,y:E};break;default:R={x:i.x,y:i.y}}switch(ea(e)){case"start":R[c]-=S*(t&&y?-1:1);break;case"end":R[c]+=S*(t&&y?-1:1);break}return R}const ab=async(n,e,t)=>{const{placement:i="bottom",strategy:o="absolute",middleware:l=[],platform:c}=t,f=l.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(e));let y=await c.getElementRects({reference:n,floating:e,strategy:o}),{x:_,y:E}=l_(y,i,p),S=i,R={},M=0;for(let A=0;A<f.length;A++){const{name:N,fn:W}=f[A],{x:$,y:G,data:K,reset:Z}=await W({x:_,y:E,initialPlacement:i,placement:S,strategy:o,middlewareData:R,rects:y,platform:c,elements:{reference:n,floating:e}});_=$??_,E=G??E,R={...R,[N]:{...R[N],...K}},Z&&M<=50&&(M++,typeof Z=="object"&&(Z.placement&&(S=Z.placement),Z.rects&&(y=Z.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:o}):Z.rects),{x:_,y:E}=l_(y,S,p)),A=-1)}return{x:_,y:E,placement:S,strategy:o,middlewareData:R}};async function Sl(n,e){var t;e===void 0&&(e={});const{x:i,y:o,platform:l,rects:c,elements:f,strategy:p}=n,{boundary:y="clippingAncestors",rootBoundary:_="viewport",elementContext:E="floating",altBoundary:S=!1,padding:R=0}=Jr(e,n),M=dE(R),N=f[S?E==="floating"?"reference":"floating":E],W=Oc(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(N)))==null||t?N:N.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:y,rootBoundary:_,strategy:p})),$=E==="floating"?{x:i,y:o,width:c.floating.width,height:c.floating.height}:c.reference,G=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),K=await(l.isElement==null?void 0:l.isElement(G))?await(l.getScale==null?void 0:l.getScale(G))||{x:1,y:1}:{x:1,y:1},Z=Oc(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:$,offsetParent:G,strategy:p}):$);return{top:(W.top-Z.top+M.top)/K.y,bottom:(Z.bottom-W.bottom+M.bottom)/K.y,left:(W.left-Z.left+M.left)/K.x,right:(Z.right-W.right+M.right)/K.x}}const lb=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:o,rects:l,platform:c,elements:f,middlewareData:p}=e,{element:y,padding:_=0}=Jr(n,e)||{};if(y==null)return{};const E=dE(_),S={x:t,y:i},R=em(o),M=Zp(R),A=await c.getDimensions(y),N=R==="y",W=N?"top":"left",$=N?"bottom":"right",G=N?"clientHeight":"clientWidth",K=l.reference[M]+l.reference[R]-S[R]-l.floating[M],Z=S[R]-l.reference[R],se=await(c.getOffsetParent==null?void 0:c.getOffsetParent(y));let C=se?se[G]:0;(!C||!await(c.isElement==null?void 0:c.isElement(se)))&&(C=f.floating[G]||l.floating[M]);const T=K/2-Z/2,k=C/2-A[M]/2-1,O=qi(E[W],k),V=qi(E[$],k),F=O,P=C-A[M]-V,we=C/2-A[M]/2+T,Re=Mh(F,we,P),Te=!p.arrow&&ea(o)!=null&&we!==Re&&l.reference[M]/2-(we<F?O:V)-A[M]/2<0,_e=Te?we<F?we-F:we-P:0;return{[R]:S[R]+_e,data:{[R]:Re,centerOffset:we-Re-_e,...Te&&{alignmentOffset:_e}},reset:Te}}}),ub=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:o,middlewareData:l,rects:c,initialPlacement:f,platform:p,elements:y}=e,{mainAxis:_=!0,crossAxis:E=!0,fallbackPlacements:S,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:M="none",flipAlignment:A=!0,...N}=Jr(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const W=Zr(o),$=pr(f),G=Zr(f)===f,K=await(p.isRTL==null?void 0:p.isRTL(y.floating)),Z=S||(G||!A?[Vc(f)]:tb(f)),se=M!=="none";!S&&se&&Z.push(...sb(f,A,M,K));const C=[f,...Z],T=await Sl(e,N),k=[];let O=((i=l.flip)==null?void 0:i.overflows)||[];if(_&&k.push(T[W]),E){const we=eb(o,c,K);k.push(T[we[0]],T[we[1]])}if(O=[...O,{placement:o,overflows:k}],!k.every(we=>we<=0)){var V,F;const we=(((V=l.flip)==null?void 0:V.index)||0)+1,Re=C[we];if(Re&&(!(E==="alignment"?$!==pr(Re):!1)||O.every(U=>pr(U.placement)===$?U.overflows[0]>0:!0)))return{data:{index:we,overflows:O},reset:{placement:Re}};let Te=(F=O.filter(_e=>_e.overflows[0]<=0).sort((_e,U)=>_e.overflows[1]-U.overflows[1])[0])==null?void 0:F.placement;if(!Te)switch(R){case"bestFit":{var P;const _e=(P=O.filter(U=>{if(se){const le=pr(U.placement);return le===$||le==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(le=>le>0).reduce((le,ae)=>le+ae,0)]).sort((U,le)=>U[1]-le[1])[0])==null?void 0:P[0];_e&&(Te=_e);break}case"initialPlacement":Te=f;break}if(o!==Te)return{reset:{placement:Te}}}return{}}}};function u_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function c_(n){return Yk.some(e=>n[e]>=0)}const cb=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...o}=Jr(n,e);switch(i){case"referenceHidden":{const l=await Sl(e,{...o,elementContext:"reference"}),c=u_(l,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:c_(c)}}}case"escaped":{const l=await Sl(e,{...o,altBoundary:!0}),c=u_(l,t.floating);return{data:{escapedOffsets:c,escaped:c_(c)}}}default:return{}}}}},fE=new Set(["left","top"]);async function db(n,e){const{placement:t,platform:i,elements:o}=n,l=await(i.isRTL==null?void 0:i.isRTL(o.floating)),c=Zr(t),f=ea(t),p=pr(t)==="y",y=fE.has(c)?-1:1,_=l&&p?-1:1,E=Jr(e,n);let{mainAxis:S,crossAxis:R,alignmentAxis:M}=typeof E=="number"?{mainAxis:E,crossAxis:0,alignmentAxis:null}:{mainAxis:E.mainAxis||0,crossAxis:E.crossAxis||0,alignmentAxis:E.alignmentAxis};return f&&typeof M=="number"&&(R=f==="end"?M*-1:M),p?{x:R*_,y:S*y}:{x:S*y,y:R*_}}const fb=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:o,y:l,placement:c,middlewareData:f}=e,p=await db(e,n);return c===((t=f.offset)==null?void 0:t.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:o+p.x,y:l+p.y,data:{...p,placement:c}}}}},hb=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:o}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:f={fn:N=>{let{x:W,y:$}=N;return{x:W,y:$}}},...p}=Jr(n,e),y={x:t,y:i},_=await Sl(e,p),E=pr(Zr(o)),S=Jp(E);let R=y[S],M=y[E];if(l){const N=S==="y"?"top":"left",W=S==="y"?"bottom":"right",$=R+_[N],G=R-_[W];R=Mh($,R,G)}if(c){const N=E==="y"?"top":"left",W=E==="y"?"bottom":"right",$=M+_[N],G=M-_[W];M=Mh($,M,G)}const A=f.fn({...e,[S]:R,[E]:M});return{...A,data:{x:A.x-t,y:A.y-i,enabled:{[S]:l,[E]:c}}}}}},pb=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:o,rects:l,middlewareData:c}=e,{offset:f=0,mainAxis:p=!0,crossAxis:y=!0}=Jr(n,e),_={x:t,y:i},E=pr(o),S=Jp(E);let R=_[S],M=_[E];const A=Jr(f,e),N=typeof A=="number"?{mainAxis:A,crossAxis:0}:{mainAxis:0,crossAxis:0,...A};if(p){const G=S==="y"?"height":"width",K=l.reference[S]-l.floating[G]+N.mainAxis,Z=l.reference[S]+l.reference[G]-N.mainAxis;R<K?R=K:R>Z&&(R=Z)}if(y){var W,$;const G=S==="y"?"width":"height",K=fE.has(Zr(o)),Z=l.reference[E]-l.floating[G]+(K&&((W=c.offset)==null?void 0:W[E])||0)+(K?0:N.crossAxis),se=l.reference[E]+l.reference[G]+(K?0:(($=c.offset)==null?void 0:$[E])||0)-(K?N.crossAxis:0);M<Z?M=Z:M>se&&(M=se)}return{[S]:R,[E]:M}}}},mb=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:o,rects:l,platform:c,elements:f}=e,{apply:p=()=>{},...y}=Jr(n,e),_=await Sl(e,y),E=Zr(o),S=ea(o),R=pr(o)==="y",{width:M,height:A}=l.floating;let N,W;E==="top"||E==="bottom"?(N=E,W=S===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(W=E,N=S==="end"?"top":"bottom");const $=A-_.top-_.bottom,G=M-_.left-_.right,K=qi(A-_[N],$),Z=qi(M-_[W],G),se=!e.middlewareData.shift;let C=K,T=Z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(T=G),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(C=$),se&&!S){const O=vn(_.left,0),V=vn(_.right,0),F=vn(_.top,0),P=vn(_.bottom,0);R?T=M-2*(O!==0||V!==0?O+V:vn(_.left,_.right)):C=A-2*(F!==0||P!==0?F+P:vn(_.top,_.bottom))}await p({...e,availableWidth:T,availableHeight:C});const k=await c.getDimensions(f.floating);return M!==k.width||A!==k.height?{reset:{rects:!0}}:{}}}};function nd(){return typeof window<"u"}function ta(n){return hE(n)?(n.nodeName||"").toLowerCase():"#document"}function wn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ar(n){var e;return(e=(hE(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function hE(n){return nd()?n instanceof Node||n instanceof wn(n).Node:!1}function Wn(n){return nd()?n instanceof Element||n instanceof wn(n).Element:!1}function xr(n){return nd()?n instanceof HTMLElement||n instanceof wn(n).HTMLElement:!1}function d_(n){return!nd()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof wn(n).ShadowRoot}const gb=new Set(["inline","contents"]);function Vl(n){const{overflow:e,overflowX:t,overflowY:i,display:o}=qn(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!gb.has(o)}const yb=new Set(["table","td","th"]);function vb(n){return yb.has(ta(n))}const _b=[":popover-open",":modal"];function rd(n){return _b.some(e=>{try{return n.matches(e)}catch{return!1}})}const wb=["transform","translate","scale","rotate","perspective"],Eb=["transform","translate","scale","rotate","perspective","filter"],Tb=["paint","layout","strict","content"];function tm(n){const e=nm(),t=Wn(n)?qn(n):n;return wb.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||Eb.some(i=>(t.willChange||"").includes(i))||Tb.some(i=>(t.contain||"").includes(i))}function Sb(n){let e=Gi(n);for(;xr(e)&&!Go(e);){if(tm(e))return e;if(rd(e))return null;e=Gi(e)}return null}function nm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const xb=new Set(["html","body","#document"]);function Go(n){return xb.has(ta(n))}function qn(n){return wn(n).getComputedStyle(n)}function id(n){return Wn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Gi(n){if(ta(n)==="html")return n;const e=n.assignedSlot||n.parentNode||d_(n)&&n.host||Ar(n);return d_(e)?e.host:e}function pE(n){const e=Gi(n);return Go(e)?n.ownerDocument?n.ownerDocument.body:n.body:xr(e)&&Vl(e)?e:pE(e)}function xl(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=pE(n),l=o===((i=n.ownerDocument)==null?void 0:i.body),c=wn(o);if(l){const f=Fh(c);return e.concat(c,c.visualViewport||[],Vl(o)?o:[],f&&t?xl(f):[])}return e.concat(o,xl(o,[],t))}function Fh(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function mE(n){const e=qn(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=xr(n),l=o?n.offsetWidth:t,c=o?n.offsetHeight:i,f=Dc(t)!==l||Dc(i)!==c;return f&&(t=l,i=c),{width:t,height:i,$:f}}function rm(n){return Wn(n)?n:n.contextElement}function Fo(n){const e=rm(n);if(!xr(e))return Er(1);const t=e.getBoundingClientRect(),{width:i,height:o,$:l}=mE(e);let c=(l?Dc(t.width):t.width)/i,f=(l?Dc(t.height):t.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const Ib=Er(0);function gE(n){const e=wn(n);return!nm()||!e.visualViewport?Ib:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ab(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==wn(n)?!1:e}function Vs(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),l=rm(n);let c=Er(1);e&&(i?Wn(i)&&(c=Fo(i)):c=Fo(n));const f=Ab(l,t,i)?gE(l):Er(0);let p=(o.left+f.x)/c.x,y=(o.top+f.y)/c.y,_=o.width/c.x,E=o.height/c.y;if(l){const S=wn(l),R=i&&Wn(i)?wn(i):i;let M=S,A=Fh(M);for(;A&&i&&R!==M;){const N=Fo(A),W=A.getBoundingClientRect(),$=qn(A),G=W.left+(A.clientLeft+parseFloat($.paddingLeft))*N.x,K=W.top+(A.clientTop+parseFloat($.paddingTop))*N.y;p*=N.x,y*=N.y,_*=N.x,E*=N.y,p+=G,y+=K,M=wn(A),A=Fh(M)}}return Oc({width:_,height:E,x:p,y})}function sd(n,e){const t=id(n).scrollLeft;return e?e.left+t:Vs(Ar(n)).left+t}function yE(n,e){const t=n.getBoundingClientRect(),i=t.left+e.scrollLeft-sd(n,t),o=t.top+e.scrollTop;return{x:i,y:o}}function Cb(n){let{elements:e,rect:t,offsetParent:i,strategy:o}=n;const l=o==="fixed",c=Ar(i),f=e?rd(e.floating):!1;if(i===c||f&&l)return t;let p={scrollLeft:0,scrollTop:0},y=Er(1);const _=Er(0),E=xr(i);if((E||!E&&!l)&&((ta(i)!=="body"||Vl(c))&&(p=id(i)),xr(i))){const R=Vs(i);y=Fo(i),_.x=R.x+i.clientLeft,_.y=R.y+i.clientTop}const S=c&&!E&&!l?yE(c,p):Er(0);return{width:t.width*y.x,height:t.height*y.y,x:t.x*y.x-p.scrollLeft*y.x+_.x+S.x,y:t.y*y.y-p.scrollTop*y.y+_.y+S.y}}function Rb(n){return Array.from(n.getClientRects())}function Pb(n){const e=Ar(n),t=id(n),i=n.ownerDocument.body,o=vn(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),l=vn(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let c=-t.scrollLeft+sd(n);const f=-t.scrollTop;return qn(i).direction==="rtl"&&(c+=vn(e.clientWidth,i.clientWidth)-o),{width:o,height:l,x:c,y:f}}const f_=25;function kb(n,e){const t=wn(n),i=Ar(n),o=t.visualViewport;let l=i.clientWidth,c=i.clientHeight,f=0,p=0;if(o){l=o.width,c=o.height;const _=nm();(!_||_&&e==="fixed")&&(f=o.offsetLeft,p=o.offsetTop)}const y=sd(i);if(y<=0){const _=i.ownerDocument,E=_.body,S=getComputedStyle(E),R=_.compatMode==="CSS1Compat"&&parseFloat(S.marginLeft)+parseFloat(S.marginRight)||0,M=Math.abs(i.clientWidth-E.clientWidth-R);M<=f_&&(l-=M)}else y<=f_&&(l+=y);return{width:l,height:c,x:f,y:p}}const bb=new Set(["absolute","fixed"]);function Nb(n,e){const t=Vs(n,!0,e==="fixed"),i=t.top+n.clientTop,o=t.left+n.clientLeft,l=xr(n)?Fo(n):Er(1),c=n.clientWidth*l.x,f=n.clientHeight*l.y,p=o*l.x,y=i*l.y;return{width:c,height:f,x:p,y}}function h_(n,e,t){let i;if(e==="viewport")i=kb(n,t);else if(e==="document")i=Pb(Ar(n));else if(Wn(e))i=Nb(e,t);else{const o=gE(n);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Oc(i)}function vE(n,e){const t=Gi(n);return t===e||!Wn(t)||Go(t)?!1:qn(t).position==="fixed"||vE(t,e)}function Db(n,e){const t=e.get(n);if(t)return t;let i=xl(n,[],!1).filter(f=>Wn(f)&&ta(f)!=="body"),o=null;const l=qn(n).position==="fixed";let c=l?Gi(n):n;for(;Wn(c)&&!Go(c);){const f=qn(c),p=tm(c);!p&&f.position==="fixed"&&(o=null),(l?!p&&!o:!p&&f.position==="static"&&!!o&&bb.has(o.position)||Vl(c)&&!p&&vE(n,c))?i=i.filter(_=>_!==c):o=f,c=Gi(c)}return e.set(n,i),i}function Vb(n){let{element:e,boundary:t,rootBoundary:i,strategy:o}=n;const c=[...t==="clippingAncestors"?rd(e)?[]:Db(e,this._c):[].concat(t),i],f=c[0],p=c.reduce((y,_)=>{const E=h_(e,_,o);return y.top=vn(E.top,y.top),y.right=qi(E.right,y.right),y.bottom=qi(E.bottom,y.bottom),y.left=vn(E.left,y.left),y},h_(e,f,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function Ob(n){const{width:e,height:t}=mE(n);return{width:e,height:t}}function Mb(n,e,t){const i=xr(e),o=Ar(e),l=t==="fixed",c=Vs(n,!0,l,e);let f={scrollLeft:0,scrollTop:0};const p=Er(0);function y(){p.x=sd(o)}if(i||!i&&!l)if((ta(e)!=="body"||Vl(o))&&(f=id(e)),i){const R=Vs(e,!0,l,e);p.x=R.x+e.clientLeft,p.y=R.y+e.clientTop}else o&&y();l&&!i&&o&&y();const _=o&&!i&&!l?yE(o,f):Er(0),E=c.left+f.scrollLeft-p.x-_.x,S=c.top+f.scrollTop-p.y-_.y;return{x:E,y:S,width:c.width,height:c.height}}function nh(n){return qn(n).position==="static"}function p_(n,e){if(!xr(n)||qn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ar(n)===t&&(t=t.ownerDocument.body),t}function _E(n,e){const t=wn(n);if(rd(n))return t;if(!xr(n)){let o=Gi(n);for(;o&&!Go(o);){if(Wn(o)&&!nh(o))return o;o=Gi(o)}return t}let i=p_(n,e);for(;i&&vb(i)&&nh(i);)i=p_(i,e);return i&&Go(i)&&nh(i)&&!tm(i)?t:i||Sb(n)||t}const Lb=async function(n){const e=this.getOffsetParent||_E,t=this.getDimensions,i=await t(n.floating);return{reference:Mb(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Fb(n){return qn(n).direction==="rtl"}const jb={convertOffsetParentRelativeRectToViewportRelativeRect:Cb,getDocumentElement:Ar,getClippingRect:Vb,getOffsetParent:_E,getElementRects:Lb,getClientRects:Rb,getDimensions:Ob,getScale:Fo,isElement:Wn,isRTL:Fb};function wE(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function zb(n,e){let t=null,i;const o=Ar(n);function l(){var f;clearTimeout(i),(f=t)==null||f.disconnect(),t=null}function c(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),l();const y=n.getBoundingClientRect(),{left:_,top:E,width:S,height:R}=y;if(f||e(),!S||!R)return;const M=rc(E),A=rc(o.clientWidth-(_+S)),N=rc(o.clientHeight-(E+R)),W=rc(_),G={rootMargin:-M+"px "+-A+"px "+-N+"px "+-W+"px",threshold:vn(0,qi(1,p))||1};let K=!0;function Z(se){const C=se[0].intersectionRatio;if(C!==p){if(!K)return c();C?c(!1,C):i=setTimeout(()=>{c(!1,1e-7)},1e3)}C===1&&!wE(y,n.getBoundingClientRect())&&c(),K=!1}try{t=new IntersectionObserver(Z,{...G,root:o.ownerDocument})}catch{t=new IntersectionObserver(Z,G)}t.observe(n)}return c(!0),l}function Ub(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=i,y=rm(n),_=o||l?[...y?xl(y):[],...xl(e)]:[];_.forEach(W=>{o&&W.addEventListener("scroll",t,{passive:!0}),l&&W.addEventListener("resize",t)});const E=y&&f?zb(y,t):null;let S=-1,R=null;c&&(R=new ResizeObserver(W=>{let[$]=W;$&&$.target===y&&R&&(R.unobserve(e),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var G;(G=R)==null||G.observe(e)})),t()}),y&&!p&&R.observe(y),R.observe(e));let M,A=p?Vs(n):null;p&&N();function N(){const W=Vs(n);A&&!wE(A,W)&&t(),A=W,M=requestAnimationFrame(N)}return t(),()=>{var W;_.forEach($=>{o&&$.removeEventListener("scroll",t),l&&$.removeEventListener("resize",t)}),E?.(),(W=R)==null||W.disconnect(),R=null,p&&cancelAnimationFrame(M)}}const Bb=fb,$b=hb,Hb=ub,Wb=mb,qb=cb,m_=lb,Gb=pb,Kb=(n,e,t)=>{const i=new Map,o={platform:jb,...t},l={...o.platform,_c:i};return ab(n,e,{...o,platform:l})};var Qb=typeof document<"u",Yb=function(){},mc=Qb?D.useLayoutEffect:Yb;function Mc(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!Mc(n[i],e[i]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=t;i--!==0;){const l=o[i];if(!(l==="_owner"&&n.$$typeof)&&!Mc(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function EE(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function g_(n,e){const t=EE(n);return Math.round(e*t)/t}function rh(n){const e=D.useRef(n);return mc(()=>{e.current=n}),e}function Xb(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:o,elements:{reference:l,floating:c}={},transform:f=!0,whileElementsMounted:p,open:y}=n,[_,E]=D.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[S,R]=D.useState(i);Mc(S,i)||R(i);const[M,A]=D.useState(null),[N,W]=D.useState(null),$=D.useCallback(U=>{U!==se.current&&(se.current=U,A(U))},[]),G=D.useCallback(U=>{U!==C.current&&(C.current=U,W(U))},[]),K=l||M,Z=c||N,se=D.useRef(null),C=D.useRef(null),T=D.useRef(_),k=p!=null,O=rh(p),V=rh(o),F=rh(y),P=D.useCallback(()=>{if(!se.current||!C.current)return;const U={placement:e,strategy:t,middleware:S};V.current&&(U.platform=V.current),Kb(se.current,C.current,U).then(le=>{const ae={...le,isPositioned:F.current!==!1};we.current&&!Mc(T.current,ae)&&(T.current=ae,Dl.flushSync(()=>{E(ae)}))})},[S,e,t,V,F]);mc(()=>{y===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,E(U=>({...U,isPositioned:!1})))},[y]);const we=D.useRef(!1);mc(()=>(we.current=!0,()=>{we.current=!1}),[]),mc(()=>{if(K&&(se.current=K),Z&&(C.current=Z),K&&Z){if(O.current)return O.current(K,Z,P);P()}},[K,Z,P,O,k]);const Re=D.useMemo(()=>({reference:se,floating:C,setReference:$,setFloating:G}),[$,G]),Te=D.useMemo(()=>({reference:K,floating:Z}),[K,Z]),_e=D.useMemo(()=>{const U={position:t,left:0,top:0};if(!Te.floating)return U;const le=g_(Te.floating,_.x),ae=g_(Te.floating,_.y);return f?{...U,transform:"translate("+le+"px, "+ae+"px)",...EE(Te.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:le,top:ae}},[t,f,Te.floating,_.x,_.y]);return D.useMemo(()=>({..._,update:P,refs:Re,elements:Te,floatingStyles:_e}),[_,P,Re,Te,_e])}const Jb=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:o}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?m_({element:i.current,padding:o}).fn(t):{}:i?m_({element:i,padding:o}).fn(t):{}}}},Zb=(n,e)=>({...Bb(n),options:[n,e]}),e2=(n,e)=>({...$b(n),options:[n,e]}),t2=(n,e)=>({...Gb(n),options:[n,e]}),n2=(n,e)=>({...Hb(n),options:[n,e]}),r2=(n,e)=>({...Wb(n),options:[n,e]}),i2=(n,e)=>({...qb(n),options:[n,e]}),s2=(n,e)=>({...Jb(n),options:[n,e]});var o2="Arrow",TE=D.forwardRef((n,e)=>{const{children:t,width:i=10,height:o=5,...l}=n;return I.jsx(gt.svg,{...l,ref:e,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:I.jsx("polygon",{points:"0,0 30,0 15,10"})})});TE.displayName=o2;var a2=TE;function l2(n){const[e,t]=D.useState(void 0);return an(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,f;if("borderBoxSize"in l){const p=l.borderBoxSize,y=Array.isArray(p)?p[0]:p;c=y.inlineSize,f=y.blockSize}else c=n.offsetWidth,f=n.offsetHeight;t({width:c,height:f})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var im="Popper",[SE,xE]=Yp(im),[u2,IE]=SE(im),AE=n=>{const{__scopePopper:e,children:t}=n,[i,o]=D.useState(null);return I.jsx(u2,{scope:e,anchor:i,onAnchorChange:o,children:t})};AE.displayName=im;var CE="PopperAnchor",RE=D.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...o}=n,l=IE(CE,t),c=D.useRef(null),f=zt(e,c),p=D.useRef(null);return D.useEffect(()=>{const y=p.current;p.current=i?.current||c.current,y!==p.current&&l.onAnchorChange(p.current)}),i?null:I.jsx(gt.div,{...o,ref:f})});RE.displayName=CE;var sm="PopperContent",[c2,d2]=SE(sm),PE=D.forwardRef((n,e)=>{const{__scopePopper:t,side:i="bottom",sideOffset:o=0,align:l="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:y=[],collisionPadding:_=0,sticky:E="partial",hideWhenDetached:S=!1,updatePositionStrategy:R="optimized",onPlaced:M,...A}=n,N=IE(sm,t),[W,$]=D.useState(null),G=zt(e,re=>$(re)),[K,Z]=D.useState(null),se=l2(K),C=se?.width??0,T=se?.height??0,k=i+(l!=="center"?"-"+l:""),O=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},V=Array.isArray(y)?y:[y],F=V.length>0,P={padding:O,boundary:V.filter(h2),altBoundary:F},{refs:we,floatingStyles:Re,placement:Te,isPositioned:_e,middlewareData:U}=Xb({strategy:"fixed",placement:k,whileElementsMounted:(...re)=>Ub(...re,{animationFrame:R==="always"}),elements:{reference:N.anchor},middleware:[Zb({mainAxis:o+T,alignmentAxis:c}),p&&e2({mainAxis:!0,crossAxis:!1,limiter:E==="partial"?t2():void 0,...P}),p&&n2({...P}),r2({...P,apply:({elements:re,rects:xe,availableWidth:be,availableHeight:Ve})=>{const{width:Be,height:Ke}=xe.reference,dt=re.floating.style;dt.setProperty("--radix-popper-available-width",`${be}px`),dt.setProperty("--radix-popper-available-height",`${Ve}px`),dt.setProperty("--radix-popper-anchor-width",`${Be}px`),dt.setProperty("--radix-popper-anchor-height",`${Ke}px`)}}),K&&s2({element:K,padding:f}),p2({arrowWidth:C,arrowHeight:T}),S&&i2({strategy:"referenceHidden",...P})]}),[le,ae]=NE(Te),z=Ds(M);an(()=>{_e&&z?.()},[_e,z]);const J=U.arrow?.x,me=U.arrow?.y,pe=U.arrow?.centerOffset!==0,[ke,Ne]=D.useState();return an(()=>{W&&Ne(window.getComputedStyle(W).zIndex)},[W]),I.jsx("div",{ref:we.setFloating,"data-radix-popper-content-wrapper":"",style:{...Re,transform:_e?Re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ke,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:I.jsx(c2,{scope:t,placedSide:le,onArrowChange:Z,arrowX:J,arrowY:me,shouldHideArrow:pe,children:I.jsx(gt.div,{"data-side":le,"data-align":ae,...A,ref:G,style:{...A.style,animation:_e?void 0:"none"}})})})});PE.displayName=sm;var kE="PopperArrow",f2={top:"bottom",right:"left",bottom:"top",left:"right"},bE=D.forwardRef(function(e,t){const{__scopePopper:i,...o}=e,l=d2(kE,i),c=f2[l.placedSide];return I.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:I.jsx(a2,{...o,ref:t,style:{...o.style,display:"block"}})})});bE.displayName=kE;function h2(n){return n!==null}var p2=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:i,middlewareData:o}=e,c=o.arrow?.centerOffset!==0,f=c?0:n.arrowWidth,p=c?0:n.arrowHeight,[y,_]=NE(t),E={start:"0%",center:"50%",end:"100%"}[_],S=(o.arrow?.x??0)+f/2,R=(o.arrow?.y??0)+p/2;let M="",A="";return y==="bottom"?(M=c?E:`${S}px`,A=`${-p}px`):y==="top"?(M=c?E:`${S}px`,A=`${i.floating.height+p}px`):y==="right"?(M=`${-p}px`,A=c?E:`${R}px`):y==="left"&&(M=`${i.floating.width+p}px`,A=c?E:`${R}px`),{data:{x:M,y:A}}}});function NE(n){const[e,t="center"]=n.split("-");return[e,t]}var m2=AE,g2=RE,y2=PE,v2=bE,_2="Portal",DE=D.forwardRef((n,e)=>{const{container:t,...i}=n,[o,l]=D.useState(!1);an(()=>l(!0),[]);const c=t||o&&globalThis?.document?.body;return c?Ik.createPortal(I.jsx(gt.div,{...i,ref:e}),c):null});DE.displayName=_2;var w2=P_[" useInsertionEffect ".trim().toString()]||an;function y_({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,l,c]=E2({defaultProp:e,onChange:t}),f=n!==void 0,p=f?n:o;{const _=D.useRef(n!==void 0);D.useEffect(()=>{const E=_.current;E!==f&&console.warn(`${i} is changing from ${E?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),_.current=f},[f,i])}const y=D.useCallback(_=>{if(f){const E=T2(_)?_(n):_;E!==n&&c.current?.(E)}else l(_)},[f,n,l,c]);return[p,y]}function E2({defaultProp:n,onChange:e}){const[t,i]=D.useState(n),o=D.useRef(t),l=D.useRef(e);return w2(()=>{l.current=e},[e]),D.useEffect(()=>{o.current!==t&&(l.current?.(t),o.current=t)},[t,o]),[t,i,l]}function T2(n){return typeof n=="function"}function S2(n){const e=D.useRef({value:n,previous:n});return D.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var VE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),x2="VisuallyHidden",I2=D.forwardRef((n,e)=>I.jsx(gt.span,{...n,ref:e,style:{...VE,...n.style}}));I2.displayName=x2;var A2=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Po=new WeakMap,ic=new WeakMap,sc={},ih=0,OE=function(n){return n&&(n.host||OE(n.parentNode))},C2=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=OE(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},R2=function(n,e,t,i){var o=C2(e,Array.isArray(n)?n:[n]);sc[t]||(sc[t]=new WeakMap);var l=sc[t],c=[],f=new Set,p=new Set(o),y=function(E){!E||f.has(E)||(f.add(E),y(E.parentNode))};o.forEach(y);var _=function(E){!E||p.has(E)||Array.prototype.forEach.call(E.children,function(S){if(f.has(S))_(S);else try{var R=S.getAttribute(i),M=R!==null&&R!=="false",A=(Po.get(S)||0)+1,N=(l.get(S)||0)+1;Po.set(S,A),l.set(S,N),c.push(S),A===1&&M&&ic.set(S,!0),N===1&&S.setAttribute(t,"true"),M||S.setAttribute(i,"true")}catch(W){console.error("aria-hidden: cannot operate on ",S,W)}})};return _(e),f.clear(),ih++,function(){c.forEach(function(E){var S=Po.get(E)-1,R=l.get(E)-1;Po.set(E,S),l.set(E,R),S||(ic.has(E)||E.removeAttribute(i),ic.delete(E)),R||E.removeAttribute(t)}),ih--,ih||(Po=new WeakMap,Po=new WeakMap,ic=new WeakMap,sc={})}},P2=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),o=A2(n);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),R2(i,o,t,"aria-hidden")):function(){return null}},hr=function(){return hr=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},hr.apply(this,arguments)};function ME(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function k2(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,l;i<o;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}var gc="right-scroll-bar-position",yc="width-before-scroll-bar",b2="with-scroll-bars-hidden",N2="--removed-body-scroll-bar-size";function sh(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function D2(n,e){var t=D.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var V2=typeof window<"u"?D.useLayoutEffect:D.useEffect,v_=new WeakMap;function O2(n,e){var t=D2(null,function(i){return n.forEach(function(o){return sh(o,i)})});return V2(function(){var i=v_.get(t);if(i){var o=new Set(i),l=new Set(n),c=t.current;o.forEach(function(f){l.has(f)||sh(f,null)}),l.forEach(function(f){o.has(f)||sh(f,c)})}v_.set(t,n)},[n]),t}function M2(n){return n}function L2(n,e){e===void 0&&(e=M2);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(l){var c=e(l,i);return t.push(c),function(){t=t.filter(function(f){return f!==c})}},assignSyncMedium:function(l){for(i=!0;t.length;){var c=t;t=[],c.forEach(l)}t={push:function(f){return l(f)},filter:function(){return t}}},assignMedium:function(l){i=!0;var c=[];if(t.length){var f=t;t=[],f.forEach(l),c=t}var p=function(){var _=c;c=[],_.forEach(l)},y=function(){return Promise.resolve().then(p)};y(),t={push:function(_){c.push(_),y()},filter:function(_){return c=c.filter(_),t}}}};return o}function F2(n){n===void 0&&(n={});var e=L2(null);return e.options=hr({async:!0,ssr:!1},n),e}var LE=function(n){var e=n.sideCar,t=ME(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return D.createElement(i,hr({},t))};LE.isSideCarExport=!0;function j2(n,e){return n.useMedium(e),LE}var FE=F2(),oh=function(){},od=D.forwardRef(function(n,e){var t=D.useRef(null),i=D.useState({onScrollCapture:oh,onWheelCapture:oh,onTouchMoveCapture:oh}),o=i[0],l=i[1],c=n.forwardProps,f=n.children,p=n.className,y=n.removeScrollBar,_=n.enabled,E=n.shards,S=n.sideCar,R=n.noRelative,M=n.noIsolation,A=n.inert,N=n.allowPinchZoom,W=n.as,$=W===void 0?"div":W,G=n.gapMode,K=ME(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),Z=S,se=O2([t,e]),C=hr(hr({},K),o);return D.createElement(D.Fragment,null,_&&D.createElement(Z,{sideCar:FE,removeScrollBar:y,shards:E,noRelative:R,noIsolation:M,inert:A,setCallbacks:l,allowPinchZoom:!!N,lockRef:t,gapMode:G}),c?D.cloneElement(D.Children.only(f),hr(hr({},C),{ref:se})):D.createElement($,hr({},C,{className:p,ref:se}),f))});od.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};od.classNames={fullWidth:yc,zeroRight:gc};var z2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function U2(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=z2();return e&&n.setAttribute("nonce",e),n}function B2(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function $2(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var H2=function(){var n=0,e=null;return{add:function(t){n==0&&(e=U2())&&(B2(e,t),$2(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},W2=function(){var n=H2();return function(e,t){D.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},jE=function(){var n=W2(),e=function(t){var i=t.styles,o=t.dynamic;return n(i,o),null};return e},q2={left:0,top:0,right:0,gap:0},ah=function(n){return parseInt(n||"",10)||0},G2=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[ah(t),ah(i),ah(o)]},K2=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return q2;var e=G2(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},Q2=jE(),jo="data-scroll-locked",Y2=function(n,e,t,i){var o=n.left,l=n.top,c=n.right,f=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(b2,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(jo,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gc,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(yc,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(gc," .").concat(gc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(yc," .").concat(yc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(jo,`] {
    `).concat(N2,": ").concat(f,`px;
  }
`)},__=function(){var n=parseInt(document.body.getAttribute(jo)||"0",10);return isFinite(n)?n:0},X2=function(){D.useEffect(function(){return document.body.setAttribute(jo,(__()+1).toString()),function(){var n=__()-1;n<=0?document.body.removeAttribute(jo):document.body.setAttribute(jo,n.toString())}},[])},J2=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,o=i===void 0?"margin":i;X2();var l=D.useMemo(function(){return K2(o)},[o]);return D.createElement(Q2,{styles:Y2(l,!e,o,t?"":"!important")})},jh=!1;if(typeof window<"u")try{var oc=Object.defineProperty({},"passive",{get:function(){return jh=!0,!0}});window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{jh=!1}var ko=jh?{passive:!1}:!1,Z2=function(n){return n.tagName==="TEXTAREA"},zE=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Z2(n)&&t[e]==="visible")},eN=function(n){return zE(n,"overflowY")},tN=function(n){return zE(n,"overflowX")},w_=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=UE(n,i);if(o){var l=BE(n,i),c=l[1],f=l[2];if(c>f)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},nN=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},rN=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},UE=function(n,e){return n==="v"?eN(e):tN(e)},BE=function(n,e){return n==="v"?nN(e):rN(e)},iN=function(n,e){return n==="h"&&e==="rtl"?-1:1},sN=function(n,e,t,i,o){var l=iN(n,window.getComputedStyle(e).direction),c=l*i,f=t.target,p=e.contains(f),y=!1,_=c>0,E=0,S=0;do{if(!f)break;var R=BE(n,f),M=R[0],A=R[1],N=R[2],W=A-N-l*M;(M||W)&&UE(n,f)&&(E+=W,S+=M);var $=f.parentNode;f=$&&$.nodeType===Node.DOCUMENT_FRAGMENT_NODE?$.host:$}while(!p&&f!==document.body||p&&(e.contains(f)||e===f));return(_&&Math.abs(E)<1||!_&&Math.abs(S)<1)&&(y=!0),y},ac=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},E_=function(n){return[n.deltaX,n.deltaY]},T_=function(n){return n&&"current"in n?n.current:n},oN=function(n,e){return n[0]===e[0]&&n[1]===e[1]},aN=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},lN=0,bo=[];function uN(n){var e=D.useRef([]),t=D.useRef([0,0]),i=D.useRef(),o=D.useState(lN++)[0],l=D.useState(jE)[0],c=D.useRef(n);D.useEffect(function(){c.current=n},[n]),D.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var A=k2([n.lockRef.current],(n.shards||[]).map(T_),!0).filter(Boolean);return A.forEach(function(N){return N.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),A.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var f=D.useCallback(function(A,N){if("touches"in A&&A.touches.length===2||A.type==="wheel"&&A.ctrlKey)return!c.current.allowPinchZoom;var W=ac(A),$=t.current,G="deltaX"in A?A.deltaX:$[0]-W[0],K="deltaY"in A?A.deltaY:$[1]-W[1],Z,se=A.target,C=Math.abs(G)>Math.abs(K)?"h":"v";if("touches"in A&&C==="h"&&se.type==="range")return!1;var T=w_(C,se);if(!T)return!0;if(T?Z=C:(Z=C==="v"?"h":"v",T=w_(C,se)),!T)return!1;if(!i.current&&"changedTouches"in A&&(G||K)&&(i.current=Z),!Z)return!0;var k=i.current||Z;return sN(k,N,A,k==="h"?G:K)},[]),p=D.useCallback(function(A){var N=A;if(!(!bo.length||bo[bo.length-1]!==l)){var W="deltaY"in N?E_(N):ac(N),$=e.current.filter(function(Z){return Z.name===N.type&&(Z.target===N.target||N.target===Z.shadowParent)&&oN(Z.delta,W)})[0];if($&&$.should){N.cancelable&&N.preventDefault();return}if(!$){var G=(c.current.shards||[]).map(T_).filter(Boolean).filter(function(Z){return Z.contains(N.target)}),K=G.length>0?f(N,G[0]):!c.current.noIsolation;K&&N.cancelable&&N.preventDefault()}}},[]),y=D.useCallback(function(A,N,W,$){var G={name:A,delta:N,target:W,should:$,shadowParent:cN(W)};e.current.push(G),setTimeout(function(){e.current=e.current.filter(function(K){return K!==G})},1)},[]),_=D.useCallback(function(A){t.current=ac(A),i.current=void 0},[]),E=D.useCallback(function(A){y(A.type,E_(A),A.target,f(A,n.lockRef.current))},[]),S=D.useCallback(function(A){y(A.type,ac(A),A.target,f(A,n.lockRef.current))},[]);D.useEffect(function(){return bo.push(l),n.setCallbacks({onScrollCapture:E,onWheelCapture:E,onTouchMoveCapture:S}),document.addEventListener("wheel",p,ko),document.addEventListener("touchmove",p,ko),document.addEventListener("touchstart",_,ko),function(){bo=bo.filter(function(A){return A!==l}),document.removeEventListener("wheel",p,ko),document.removeEventListener("touchmove",p,ko),document.removeEventListener("touchstart",_,ko)}},[]);var R=n.removeScrollBar,M=n.inert;return D.createElement(D.Fragment,null,M?D.createElement(l,{styles:aN(o)}):null,R?D.createElement(J2,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function cN(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const dN=j2(FE,uN);var $E=D.forwardRef(function(n,e){return D.createElement(od,hr({},n,{ref:e,sideCar:dN}))});$E.classNames=od.classNames;var fN=[" ","Enter","ArrowUp","ArrowDown"],hN=[" ","Enter"],Os="Select",[ad,ld,pN]=Ck(Os),[na]=Yp(Os,[pN,xE]),ud=xE(),[mN,Qi]=na(Os),[gN,yN]=na(Os),HE=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:o,onOpenChange:l,value:c,defaultValue:f,onValueChange:p,dir:y,name:_,autoComplete:E,disabled:S,required:R,form:M}=n,A=ud(e),[N,W]=D.useState(null),[$,G]=D.useState(null),[K,Z]=D.useState(!1),se=Pk(y),[C,T]=y_({prop:i,defaultProp:o??!1,onChange:l,caller:Os}),[k,O]=y_({prop:c,defaultProp:f,onChange:p,caller:Os}),V=D.useRef(null),F=N?M||!!N.closest("form"):!0,[P,we]=D.useState(new Set),Re=Array.from(P).map(Te=>Te.props.value).join(";");return I.jsx(m2,{...A,children:I.jsxs(mN,{required:R,scope:e,trigger:N,onTriggerChange:W,valueNode:$,onValueNodeChange:G,valueNodeHasChildren:K,onValueNodeHasChildrenChange:Z,contentId:Xp(),value:k,onValueChange:O,open:C,onOpenChange:T,dir:se,triggerPointerDownPosRef:V,disabled:S,children:[I.jsx(ad.Provider,{scope:e,children:I.jsx(gN,{scope:n.__scopeSelect,onNativeOptionAdd:D.useCallback(Te=>{we(_e=>new Set(_e).add(Te))},[]),onNativeOptionRemove:D.useCallback(Te=>{we(_e=>{const U=new Set(_e);return U.delete(Te),U})},[]),children:t})}),F?I.jsxs(f1,{"aria-hidden":!0,required:R,tabIndex:-1,name:_,autoComplete:E,value:k,onChange:Te=>O(Te.target.value),disabled:S,form:M,children:[k===void 0?I.jsx("option",{value:""}):null,Array.from(P)]},Re):null]})})};HE.displayName=Os;var WE="SelectTrigger",qE=D.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...o}=n,l=ud(t),c=Qi(WE,t),f=c.disabled||i,p=zt(e,c.onTriggerChange),y=ld(t),_=D.useRef("touch"),[E,S,R]=p1(A=>{const N=y().filter(G=>!G.disabled),W=N.find(G=>G.value===c.value),$=m1(N,A,W);$!==void 0&&c.onValueChange($.value)}),M=A=>{f||(c.onOpenChange(!0),R()),A&&(c.triggerPointerDownPosRef.current={x:Math.round(A.pageX),y:Math.round(A.pageY)})};return I.jsx(g2,{asChild:!0,...l,children:I.jsx(gt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":h1(c.value)?"":void 0,...o,ref:p,onClick:Et(o.onClick,A=>{A.currentTarget.focus(),_.current!=="mouse"&&M(A)}),onPointerDown:Et(o.onPointerDown,A=>{_.current=A.pointerType;const N=A.target;N.hasPointerCapture(A.pointerId)&&N.releasePointerCapture(A.pointerId),A.button===0&&A.ctrlKey===!1&&A.pointerType==="mouse"&&(M(A),A.preventDefault())}),onKeyDown:Et(o.onKeyDown,A=>{const N=E.current!=="";!(A.ctrlKey||A.altKey||A.metaKey)&&A.key.length===1&&S(A.key),!(N&&A.key===" ")&&fN.includes(A.key)&&(M(),A.preventDefault())})})})});qE.displayName=WE;var GE="SelectValue",KE=D.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,children:l,placeholder:c="",...f}=n,p=Qi(GE,t),{onValueNodeHasChildrenChange:y}=p,_=l!==void 0,E=zt(e,p.onValueNodeChange);return an(()=>{y(_)},[y,_]),I.jsx(gt.span,{...f,ref:E,style:{pointerEvents:"none"},children:h1(p.value)?I.jsx(I.Fragment,{children:c}):l})});KE.displayName=GE;var vN="SelectIcon",QE=D.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...o}=n;return I.jsx(gt.span,{"aria-hidden":!0,...o,ref:e,children:i||""})});QE.displayName=vN;var _N="SelectPortal",YE=n=>I.jsx(DE,{asChild:!0,...n});YE.displayName=_N;var Ms="SelectContent",XE=D.forwardRef((n,e)=>{const t=Qi(Ms,n.__scopeSelect),[i,o]=D.useState();if(an(()=>{o(new DocumentFragment)},[]),!t.open){const l=i;return l?Dl.createPortal(I.jsx(JE,{scope:n.__scopeSelect,children:I.jsx(ad.Slot,{scope:n.__scopeSelect,children:I.jsx("div",{children:n.children})})}),l):null}return I.jsx(ZE,{...n,ref:e})});XE.displayName=Ms;var Bn=10,[JE,Yi]=na(Ms),wN="SelectContentImpl",EN=Tl("SelectContent.RemoveScroll"),ZE=D.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:f,sideOffset:p,align:y,alignOffset:_,arrowPadding:E,collisionBoundary:S,collisionPadding:R,sticky:M,hideWhenDetached:A,avoidCollisions:N,...W}=n,$=Qi(Ms,t),[G,K]=D.useState(null),[Z,se]=D.useState(null),C=zt(e,re=>K(re)),[T,k]=D.useState(null),[O,V]=D.useState(null),F=ld(t),[P,we]=D.useState(!1),Re=D.useRef(!1);D.useEffect(()=>{if(G)return P2(G)},[G]),zk();const Te=D.useCallback(re=>{const[xe,...be]=F().map(Ke=>Ke.ref.current),[Ve]=be.slice(-1),Be=document.activeElement;for(const Ke of re)if(Ke===Be||(Ke?.scrollIntoView({block:"nearest"}),Ke===xe&&Z&&(Z.scrollTop=0),Ke===Ve&&Z&&(Z.scrollTop=Z.scrollHeight),Ke?.focus(),document.activeElement!==Be))return},[F,Z]),_e=D.useCallback(()=>Te([T,G]),[Te,T,G]);D.useEffect(()=>{P&&_e()},[P,_e]);const{onOpenChange:U,triggerPointerDownPosRef:le}=$;D.useEffect(()=>{if(G){let re={x:0,y:0};const xe=Ve=>{re={x:Math.abs(Math.round(Ve.pageX)-(le.current?.x??0)),y:Math.abs(Math.round(Ve.pageY)-(le.current?.y??0))}},be=Ve=>{re.x<=10&&re.y<=10?Ve.preventDefault():G.contains(Ve.target)||U(!1),document.removeEventListener("pointermove",xe),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",be,{capture:!0})}}},[G,U,le]),D.useEffect(()=>{const re=()=>U(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[U]);const[ae,z]=p1(re=>{const xe=F().filter(Be=>!Be.disabled),be=xe.find(Be=>Be.ref.current===document.activeElement),Ve=m1(xe,re,be);Ve&&setTimeout(()=>Ve.ref.current.focus())}),J=D.useCallback((re,xe,be)=>{const Ve=!Re.current&&!be;($.value!==void 0&&$.value===xe||Ve)&&(k(re),Ve&&(Re.current=!0))},[$.value]),me=D.useCallback(()=>G?.focus(),[G]),pe=D.useCallback((re,xe,be)=>{const Ve=!Re.current&&!be;($.value!==void 0&&$.value===xe||Ve)&&V(re)},[$.value]),ke=i==="popper"?zh:e1,Ne=ke===zh?{side:f,sideOffset:p,align:y,alignOffset:_,arrowPadding:E,collisionBoundary:S,collisionPadding:R,sticky:M,hideWhenDetached:A,avoidCollisions:N}:{};return I.jsx(JE,{scope:t,content:G,viewport:Z,onViewportChange:se,itemRefCallback:J,selectedItem:T,onItemLeave:me,itemTextRefCallback:pe,focusSelectedItem:_e,selectedItemText:O,position:i,isPositioned:P,searchRef:ae,children:I.jsx($E,{as:EN,allowPinchZoom:!0,children:I.jsx(uE,{asChild:!0,trapped:$.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:Et(o,re=>{$.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:I.jsx(aE,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>$.onOpenChange(!1),children:I.jsx(ke,{role:"listbox",id:$.contentId,"data-state":$.open?"open":"closed",dir:$.dir,onContextMenu:re=>re.preventDefault(),...W,...Ne,onPlaced:()=>we(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...W.style},onKeyDown:Et(W.onKeyDown,re=>{const xe=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!xe&&re.key.length===1&&z(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Ve=F().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const Be=re.target,Ke=Ve.indexOf(Be);Ve=Ve.slice(Ke+1)}setTimeout(()=>Te(Ve)),re.preventDefault()}})})})})})})});ZE.displayName=wN;var TN="SelectItemAlignedPosition",e1=D.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...o}=n,l=Qi(Ms,t),c=Yi(Ms,t),[f,p]=D.useState(null),[y,_]=D.useState(null),E=zt(e,C=>_(C)),S=ld(t),R=D.useRef(!1),M=D.useRef(!0),{viewport:A,selectedItem:N,selectedItemText:W,focusSelectedItem:$}=c,G=D.useCallback(()=>{if(l.trigger&&l.valueNode&&f&&y&&A&&N&&W){const C=l.trigger.getBoundingClientRect(),T=y.getBoundingClientRect(),k=l.valueNode.getBoundingClientRect(),O=W.getBoundingClientRect();if(l.dir!=="rtl"){const Be=O.left-T.left,Ke=k.left-Be,dt=C.left-Ke,Jt=C.width+dt,ei=Math.max(Jt,T.width),Gn=window.innerWidth-Bn,bn=Jv(Ke,[Bn,Math.max(Bn,Gn-ei)]);f.style.minWidth=Jt+"px",f.style.left=bn+"px"}else{const Be=T.right-O.right,Ke=window.innerWidth-k.right-Be,dt=window.innerWidth-C.right-Ke,Jt=C.width+dt,ei=Math.max(Jt,T.width),Gn=window.innerWidth-Bn,bn=Jv(Ke,[Bn,Math.max(Bn,Gn-ei)]);f.style.minWidth=Jt+"px",f.style.right=bn+"px"}const V=S(),F=window.innerHeight-Bn*2,P=A.scrollHeight,we=window.getComputedStyle(y),Re=parseInt(we.borderTopWidth,10),Te=parseInt(we.paddingTop,10),_e=parseInt(we.borderBottomWidth,10),U=parseInt(we.paddingBottom,10),le=Re+Te+P+U+_e,ae=Math.min(N.offsetHeight*5,le),z=window.getComputedStyle(A),J=parseInt(z.paddingTop,10),me=parseInt(z.paddingBottom,10),pe=C.top+C.height/2-Bn,ke=F-pe,Ne=N.offsetHeight/2,re=N.offsetTop+Ne,xe=Re+Te+re,be=le-xe;if(xe<=pe){const Be=V.length>0&&N===V[V.length-1].ref.current;f.style.bottom="0px";const Ke=y.clientHeight-A.offsetTop-A.offsetHeight,dt=Math.max(ke,Ne+(Be?me:0)+Ke+_e),Jt=xe+dt;f.style.height=Jt+"px"}else{const Be=V.length>0&&N===V[0].ref.current;f.style.top="0px";const dt=Math.max(pe,Re+A.offsetTop+(Be?J:0)+Ne)+be;f.style.height=dt+"px",A.scrollTop=xe-pe+A.offsetTop}f.style.margin=`${Bn}px 0`,f.style.minHeight=ae+"px",f.style.maxHeight=F+"px",i?.(),requestAnimationFrame(()=>R.current=!0)}},[S,l.trigger,l.valueNode,f,y,A,N,W,l.dir,i]);an(()=>G(),[G]);const[K,Z]=D.useState();an(()=>{y&&Z(window.getComputedStyle(y).zIndex)},[y]);const se=D.useCallback(C=>{C&&M.current===!0&&(G(),$?.(),M.current=!1)},[G,$]);return I.jsx(xN,{scope:t,contentWrapper:f,shouldExpandOnScrollRef:R,onScrollButtonChange:se,children:I.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:K},children:I.jsx(gt.div,{...o,ref:E,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});e1.displayName=TN;var SN="SelectPopperPosition",zh=D.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:o=Bn,...l}=n,c=ud(t);return I.jsx(y2,{...c,...l,ref:e,align:i,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zh.displayName=SN;var[xN,om]=na(Ms,{}),Uh="SelectViewport",t1=D.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...o}=n,l=Yi(Uh,t),c=om(Uh,t),f=zt(e,l.onViewportChange),p=D.useRef(0);return I.jsxs(I.Fragment,{children:[I.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),I.jsx(ad.Slot,{scope:t,children:I.jsx(gt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Et(o.onScroll,y=>{const _=y.currentTarget,{contentWrapper:E,shouldExpandOnScrollRef:S}=c;if(S?.current&&E){const R=Math.abs(p.current-_.scrollTop);if(R>0){const M=window.innerHeight-Bn*2,A=parseFloat(E.style.minHeight),N=parseFloat(E.style.height),W=Math.max(A,N);if(W<M){const $=W+R,G=Math.min(M,$),K=$-G;E.style.height=G+"px",E.style.bottom==="0px"&&(_.scrollTop=K>0?K:0,E.style.justifyContent="flex-end")}}}p.current=_.scrollTop})})})]})});t1.displayName=Uh;var n1="SelectGroup",[IN,AN]=na(n1),CN=D.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=Xp();return I.jsx(IN,{scope:t,id:o,children:I.jsx(gt.div,{role:"group","aria-labelledby":o,...i,ref:e})})});CN.displayName=n1;var r1="SelectLabel",RN=D.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=AN(r1,t);return I.jsx(gt.div,{id:o.id,...i,ref:e})});RN.displayName=r1;var Lc="SelectItem",[PN,i1]=na(Lc),s1=D.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:o=!1,textValue:l,...c}=n,f=Qi(Lc,t),p=Yi(Lc,t),y=f.value===i,[_,E]=D.useState(l??""),[S,R]=D.useState(!1),M=zt(e,$=>p.itemRefCallback?.($,i,o)),A=Xp(),N=D.useRef("touch"),W=()=>{o||(f.onValueChange(i),f.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return I.jsx(PN,{scope:t,value:i,disabled:o,textId:A,isSelected:y,onItemTextChange:D.useCallback($=>{E(G=>G||($?.textContent??"").trim())},[]),children:I.jsx(ad.ItemSlot,{scope:t,value:i,disabled:o,textValue:_,children:I.jsx(gt.div,{role:"option","aria-labelledby":A,"data-highlighted":S?"":void 0,"aria-selected":y&&S,"data-state":y?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:M,onFocus:Et(c.onFocus,()=>R(!0)),onBlur:Et(c.onBlur,()=>R(!1)),onClick:Et(c.onClick,()=>{N.current!=="mouse"&&W()}),onPointerUp:Et(c.onPointerUp,()=>{N.current==="mouse"&&W()}),onPointerDown:Et(c.onPointerDown,$=>{N.current=$.pointerType}),onPointerMove:Et(c.onPointerMove,$=>{N.current=$.pointerType,o?p.onItemLeave?.():N.current==="mouse"&&$.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Et(c.onPointerLeave,$=>{$.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:Et(c.onKeyDown,$=>{p.searchRef?.current!==""&&$.key===" "||(hN.includes($.key)&&W(),$.key===" "&&$.preventDefault())})})})})});s1.displayName=Lc;var rl="SelectItemText",o1=D.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,...l}=n,c=Qi(rl,t),f=Yi(rl,t),p=i1(rl,t),y=yN(rl,t),[_,E]=D.useState(null),S=zt(e,W=>E(W),p.onItemTextChange,W=>f.itemTextRefCallback?.(W,p.value,p.disabled)),R=_?.textContent,M=D.useMemo(()=>I.jsx("option",{value:p.value,disabled:p.disabled,children:R},p.value),[p.disabled,p.value,R]),{onNativeOptionAdd:A,onNativeOptionRemove:N}=y;return an(()=>(A(M),()=>N(M)),[A,N,M]),I.jsxs(I.Fragment,{children:[I.jsx(gt.span,{id:p.textId,...l,ref:S}),p.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Dl.createPortal(l.children,c.valueNode):null]})});o1.displayName=rl;var a1="SelectItemIndicator",l1=D.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return i1(a1,t).isSelected?I.jsx(gt.span,{"aria-hidden":!0,...i,ref:e}):null});l1.displayName=a1;var Bh="SelectScrollUpButton",u1=D.forwardRef((n,e)=>{const t=Yi(Bh,n.__scopeSelect),i=om(Bh,n.__scopeSelect),[o,l]=D.useState(!1),c=zt(e,i.onScrollButtonChange);return an(()=>{if(t.viewport&&t.isPositioned){let f=function(){const y=p.scrollTop>0;l(y)};const p=t.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),o?I.jsx(d1,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=t;f&&p&&(f.scrollTop=f.scrollTop-p.offsetHeight)}}):null});u1.displayName=Bh;var $h="SelectScrollDownButton",c1=D.forwardRef((n,e)=>{const t=Yi($h,n.__scopeSelect),i=om($h,n.__scopeSelect),[o,l]=D.useState(!1),c=zt(e,i.onScrollButtonChange);return an(()=>{if(t.viewport&&t.isPositioned){let f=function(){const y=p.scrollHeight-p.clientHeight,_=Math.ceil(p.scrollTop)<y;l(_)};const p=t.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[t.viewport,t.isPositioned]),o?I.jsx(d1,{...n,ref:c,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=t;f&&p&&(f.scrollTop=f.scrollTop+p.offsetHeight)}}):null});c1.displayName=$h;var d1=D.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...o}=n,l=Yi("SelectScrollButton",t),c=D.useRef(null),f=ld(t),p=D.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return D.useEffect(()=>()=>p(),[p]),an(()=>{f().find(_=>_.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),I.jsx(gt.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Et(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(i,50))}),onPointerMove:Et(o.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(i,50))}),onPointerLeave:Et(o.onPointerLeave,()=>{p()})})}),kN="SelectSeparator",bN=D.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return I.jsx(gt.div,{"aria-hidden":!0,...i,ref:e})});bN.displayName=kN;var Hh="SelectArrow",NN=D.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=ud(t),l=Qi(Hh,t),c=Yi(Hh,t);return l.open&&c.position==="popper"?I.jsx(v2,{...o,...i,ref:e}):null});NN.displayName=Hh;var DN="SelectBubbleInput",f1=D.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const o=D.useRef(null),l=zt(i,o),c=S2(e);return D.useEffect(()=>{const f=o.current;if(!f)return;const p=window.HTMLSelectElement.prototype,_=Object.getOwnPropertyDescriptor(p,"value").set;if(c!==e&&_){const E=new Event("change",{bubbles:!0});_.call(f,e),f.dispatchEvent(E)}},[c,e]),I.jsx(gt.select,{...t,style:{...VE,...t.style},ref:l,defaultValue:e})});f1.displayName=DN;function h1(n){return n===""||n===void 0}function p1(n){const e=Ds(n),t=D.useRef(""),i=D.useRef(0),o=D.useCallback(c=>{const f=t.current+c;e(f),(function p(y){t.current=y,window.clearTimeout(i.current),y!==""&&(i.current=window.setTimeout(()=>p(""),1e3))})(f)},[e]),l=D.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return D.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,o,l]}function m1(n,e,t){const o=e.length>1&&Array.from(e).every(y=>y===e[0])?e[0]:e,l=t?n.indexOf(t):-1;let c=VN(n,Math.max(l,0));o.length===1&&(c=c.filter(y=>y!==t));const p=c.find(y=>y.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==t?p:void 0}function VN(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var ON=HE,MN=qE,LN=KE,FN=QE,jN=YE,zN=XE,UN=t1,BN=s1,$N=o1,HN=l1,WN=u1,qN=c1;function S_({...n}){return I.jsx(ON,{"data-slot":"select",...n})}function x_({...n}){return I.jsx(LN,{"data-slot":"select-value",...n})}function I_({className:n,size:e="default",children:t,...i}){return I.jsxs(MN,{"data-slot":"select-trigger","data-size":e,className:Wi("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i,children:[t,I.jsx(FN,{asChild:!0,children:I.jsx(b_,{className:"size-4 opacity-50"})})]})}function A_({className:n,children:e,position:t="popper",...i}){return I.jsx(jN,{children:I.jsxs(zN,{"data-slot":"select-content",className:Wi("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[I.jsx(GN,{}),I.jsx(UN,{className:Wi("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),I.jsx(KN,{})]})})}function Ja({className:n,children:e,...t}){return I.jsxs(BN,{"data-slot":"select-item",className:Wi("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[I.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:I.jsx(HN,{children:I.jsx(LT,{className:"size-4"})})}),I.jsx($N,{children:e})]})}function GN({className:n,...e}){return I.jsx(WN,{"data-slot":"select-scroll-up-button",className:Wi("flex cursor-default items-center justify-center py-1",n),...e,children:I.jsx(zT,{className:"size-4"})})}function KN({className:n,...e}){return I.jsx(qN,{"data-slot":"select-scroll-down-button",className:Wi("flex cursor-default items-center justify-center py-1",n),...e,children:I.jsx(b_,{className:"size-4"})})}function QN({countryName:n,onBack:e,onAttractionClick:t}){const[i,o]=D.useState([]),[l,c]=D.useState(!0),[f,p]=D.useState("popular"),[y,_]=D.useState("all");D.useEffect(()=>{(async()=>{if(n){c(!0);try{const M=await NP(n);o(M)}catch(M){console.error("Gagal mengambil data atraksi:",M)}finally{c(!1)}}})()},[n]);const E=D.useMemo(()=>["all",...Array.from(new Set(i.map(R=>R.type)))],[i]),S=D.useMemo(()=>{let R=i;return y!=="all"&&(R=R.filter(M=>M.type===y)),[...R].sort((M,A)=>{switch(f){case"rating":return A.rating_avg-M.rating_avg;case"price-low":return M.entrance_fee-M.entrance_fee;case"price-high":return A.entrance_fee-M.entrance_fee;default:return A.rating_count-M.rating_count}})},[i,y,f]);return l?I.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50",children:I.jsx(Fc,{className:"h-12 w-12 animate-spin text-sky-500"})}):I.jsxs("div",{className:"min-h-screen bg-gray-50",children:[I.jsx("div",{className:"bg-white border-b sticky top-0 z-10",children:I.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[I.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[I.jsx(cl,{variant:"ghost",size:"icon",onClick:e,className:"rounded-full",children:I.jsx(lh,{className:"h-5 w-5"})}),I.jsxs("div",{children:[I.jsxs("h1",{className:"text-gray-900 capitalize",children:["Wisata di ",n]}),I.jsxs("p",{className:"text-gray-600 text-sm",children:["Ditemukan ",S.length," destinasi"]})]})]}),I.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2",children:[I.jsxs(S_,{value:y,onValueChange:_,children:[I.jsxs(I_,{className:"w-[180px]",children:[I.jsx(HT,{className:"h-4 w-4 mr-2"}),I.jsx(x_,{placeholder:"Tipe Wisata"})]}),I.jsx(A_,{children:E.map(R=>I.jsx(Ja,{value:R,children:R==="all"?"Semua Tipe":R},R))})]}),I.jsxs(S_,{value:f,onValueChange:p,children:[I.jsxs(I_,{className:"w-[180px]",children:[I.jsx(JT,{className:"h-4 w-4 mr-2"}),I.jsx(x_,{placeholder:"Urutkan"})]}),I.jsxs(A_,{children:[I.jsx(Ja,{value:"popular",children:"Paling Populer"}),I.jsx(Ja,{value:"rating",children:"Rating Tertinggi"}),I.jsx(Ja,{value:"price-low",children:"Harga Terendah"}),I.jsx(Ja,{value:"price-high",children:"Harga Tertinggi"})]})]})]})]})}),I.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[I.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:S.map(R=>I.jsx(sE,{attraction:R,onClick:()=>t(R.id,R.country)},R.id))}),S.length===0&&!l&&I.jsx("div",{className:"text-center py-16",children:I.jsx("p",{className:"text-gray-500 text-lg",children:"Tidak ada destinasi yang ditemukan"})})]})]})}function YN({attractionId:n,countryId:e}){const[t,i]=D.useState([]),[o,l]=D.useState(!0),[c,f]=D.useState(!1),[p,y]=D.useState(""),[_,E]=D.useState(""),[S,R]=D.useState(0),[M,A]=D.useState(0),N=Vp(Nl,"countries",e,"attractions",n,"comments");D.useEffect(()=>{const K=L0(N,F0("createdAt","desc")),Z=CP(K,se=>{const C=se.docs.map(T=>({id:T.id,...T.data()}));i(C),l(!1)});return()=>Z()},[e,n]);const W=async()=>{if(!p.trim()||!_.trim()){alert("Mohon isi nama dan komentar!");return}f(!0);try{await AP(N,{userName:p.trim(),comment:_.trim(),rating:S>0?S:null,createdAt:PP()}),y(""),E(""),R(0)}catch(K){console.error("Gagal mengirim komentar:",K),alert("Terjadi kesalahan saat mengirim ulasan. Coba lagi nanti.")}finally{f(!1)}},$=K=>K?K.toDate().toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"-",G=t.filter(K=>K.rating).length>0?(t.reduce((K,Z)=>K+(Z.rating||0),0)/t.filter(K=>K.rating).length).toFixed(1):"0.0";return I.jsxs("div",{className:"w-full space-y-8",children:[I.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 p-6 rounded-2xl shadow-sm",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx(KT,{className:"h-8 w-8 text-sky-600"}),I.jsxs("div",{children:[I.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Ulasan Pengunjung"}),I.jsxs("p",{className:"text-gray-500",children:[t.length," ulasan"]})]})]}),t.length>0&&I.jsxs("div",{className:"flex items-center gap-2 bg-yellow-50 px-3 py-1 rounded-xl border border-yellow-200",children:[I.jsx(il,{className:"h-5 w-5 text-yellow-400 fill-yellow-400"}),I.jsx("span",{className:"text-lg font-semibold text-gray-800",children:G}),I.jsx("span",{className:"text-sm text-gray-500",children:"/ 5.0"})]})]}),I.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm space-y-4",children:[I.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Tulis Ulasan Anda"}),I.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(K=>I.jsx("button",{onClick:()=>R(K),onMouseEnter:()=>A(K),onMouseLeave:()=>A(0),className:"focus:outline-none",children:I.jsx(il,{className:`h-8 w-8 transition ${K<=(M||S)?"text-yellow-400 fill-yellow-400":"text-gray-300 fill-gray-200"}`})},K))}),I.jsx("input",{type:"text",placeholder:"Nama Anda",value:p,onChange:K=>y(K.target.value),className:"w-full border border-gray-300 rounded-xl px-4 py-3 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-sky-500"}),I.jsx("textarea",{placeholder:"Bagikan pengalaman Anda...",value:_,onChange:K=>E(K.target.value),rows:4,className:"w-full border border-gray-300 rounded-xl px-4 py-3 text-gray-800 placeholder-gray-400 resize-none focus:outline-none focus:ring-2 focus:ring-sky-500"}),I.jsx(cl,{onClick:W,disabled:c,className:"w-full !bg-sky-400 hover:!bg-sky-700 text-white font-semibold py-3 rounded-xl shadow-md transition duration-300 ease-in-out hover:cursor-pointer hover:scale-105",children:c?I.jsxs(I.Fragment,{children:[I.jsx(Fc,{className:"h-5 w-5 mr-2 animate-spin"}),"Mengirim..."]}):I.jsxs(I.Fragment,{children:[I.jsx(YT,{className:"h-5 w-5 mr-2"}),"Kirim Ulasan"]})})]}),o?I.jsx("div",{className:"text-center text-gray-500 py-10",children:"Memuat ulasan..."}):t.length===0?I.jsx("div",{className:"text-center py-10 text-gray-500 border border-dashed border-gray-300 rounded-2xl",children:"Belum ada ulasan. Jadilah yang pertama! "}):I.jsx("div",{className:"space-y-6",children:t.map(K=>I.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm hover:shadow-md transition-shadow duration-200",children:[I.jsxs("div",{className:"flex items-center justify-between mb-3",children:[I.jsx("h4",{className:"font-bold text-gray-900 text-base",children:K.userName}),I.jsx("span",{className:"text-sm text-gray-500",children:$(K.createdAt)})]}),K.rating&&I.jsx("div",{className:"flex items-center mb-3",children:Array.from({length:K.rating}).map((Z,se)=>I.jsx(il,{className:"h-5 w-5 text-yellow-400 fill-yellow-400 mr-1"},se))}),I.jsx("p",{className:"text-gray-700 leading-relaxed text-[15px]",children:K.comment})]},K.id))})]})}function XN({attractionId:n,countryId:e,onBack:t}){const[i,o]=D.useState(),[l,c]=D.useState(!0);return D.useEffect(()=>{(async()=>{if(!n||!e){c(!1);return}c(!0);try{const p=await DP(e,n);o(p)}catch(p){console.error("Gagal mengambil detail atraksi:",p)}finally{c(!1)}})()},[n,e]),l?I.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-gray-50",children:I.jsx(Fc,{className:"h-12 w-12 animate-spin text-sky-500"})}):i?I.jsxs("div",{className:"min-h-screen bg-gray-50",children:[I.jsxs("div",{className:"relative h-[300px] sm:h-[400px] lg:h-[500px]",children:[I.jsx("img",{src:i.main_image_url,alt:i.name,className:"absolute inset-0 h-full w-full object-cover"}),I.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),I.jsx("div",{className:"absolute top-0 left-0 w-full p-4 sm:p-6 lg:p-8",children:I.jsx(cl,{variant:"secondary",size:"icon",onClick:t,className:"rounded-full shadow-lg h-10 w-10 sm:h-12 sm:w-12 bg-white/90 hover:bg-white text-gray-900 backdrop-blur-sm",children:I.jsx(lh,{className:"h-5 w-5 sm:h-6 sm:w-6"})})}),I.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-4 sm:p-6 lg:p-8 text-white",children:[I.jsx(pc,{variant:"secondary",className:"mb-3 bg-white/20 text-white backdrop-blur-md border-white/30",children:i.type}),I.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-white shadow-lg",children:i.name}),I.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2 mt-4 text-lg",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(uh,{className:"h-5 w-5"}),I.jsxs("span",{children:[i.location.city,", ",i.country]})]}),I.jsxs("div",{className:"flex items-center gap-1.5",children:[I.jsx(il,{className:"h-5 w-5 fill-yellow-400 text-yellow-400"}),I.jsx("span",{className:"font-bold",children:i.rating_avg}),I.jsxs("span",{className:"text-white/80",children:["(",i.rating_count," ulasan)"]})]})]})]})]}),I.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 lg:py-16",children:I.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 lg:gap-x-12 gap-y-10",children:[I.jsxs("div",{className:"lg:col-span-2 space-y-10",children:[I.jsxs("div",{children:[I.jsx("h2",{className:"text-3xl font-bold tracking-tight text-gray-900 mb-4",children:"Deskripsi"}),I.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:i.description})]}),I.jsxs("div",{children:[I.jsx("h2",{className:"text-3xl font-bold tracking-tight text-gray-900 mb-5",children:"Aktivitas"}),I.jsx("div",{className:"flex flex-wrap gap-3",children:i.activities.map((f,p)=>I.jsxs(pc,{variant:"outline",className:"text-sky-700 border-sky-300 bg-sky-50 py-1.5 px-4 text-base",children:[I.jsx(rS,{className:"h-4 w-4 mr-2"}),f]},p))})]}),I.jsx("div",{className:"mt-12",children:I.jsx(YN,{attractionId:n,countryId:e})})]}),I.jsx("div",{className:"lg:col-span-1",children:I.jsx("div",{className:"lg:sticky lg:top-28",children:I.jsxs("div",{className:`bg-white rounded-2xl shadow-xl border border-gray-200 
             overflow-hidden divide-y divide-gray-200 
             p-6 sm:p-8 lg:p-10 
             mt-6 lg:mt-0 
             ml-0 lg:ml-6`,children:[I.jsxs("div",{className:"p-6 space-y-4",children:[I.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Info Tiket"}),I.jsx("div",{className:"text-4xl font-bold text-sky-600",children:B0(i.entrance_fee)}),I.jsx(cl,{size:"lg",className:"w-full bg-orange-500 hover:bg-orange-600 text-lg py-6",children:"Pesan Tiket"})]}),I.jsxs("div",{className:"p-6 space-y-4",children:[I.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Detail Lokasi"}),I.jsxs("dl",{className:"space-y-3",children:[I.jsxs("div",{className:"flex items-start gap-3",children:[I.jsx(uh,{className:"h-5 w-5 text-gray-500 mt-1"}),I.jsxs("div",{className:"text-sm",children:[I.jsx("dt",{className:"font-medium text-gray-900",children:"Alamat"}),I.jsx("dd",{className:"text-gray-600",children:i.location.address})]})]}),I.jsxs("div",{className:"flex items-start gap-3",children:[I.jsx(pc,{className:"h-5 w-5 p-0 text-gray-500 mt-1"}),I.jsxs("div",{className:"text-sm",children:[I.jsx("dt",{className:"font-medium text-gray-900",children:"Kota"}),I.jsx("dd",{className:"text-gray-600",children:i.location.city})]})]})]})]})]})})})]})})]}):I.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 text-center",children:[I.jsx("h1",{className:"text-2xl mb-4",children:"Atraksi Tidak Ditemukan"}),I.jsxs(cl,{onClick:t,children:[I.jsx(lh,{className:"h-5 w-5 mr-2"})," Kembali"]})]})}function JN(){const[n,e]=D.useState({type:"home"}),t=l=>{e({type:"list",countryId:l})},i=(l,c)=>{e({type:"detail",attractionId:l,countryId:c})},o=()=>{n.type==="detail"?e({type:"list",countryId:n.countryId}):n.type==="list"&&e({type:"home"})};return I.jsxs("div",{className:"min-h-screen",children:[n.type==="home"&&I.jsx(Sk,{onCountryClick:t,onAttractionClick:i}),n.type==="list"&&I.jsx(QN,{countryName:n.countryId,onBack:o,onAttractionClick:i}),n.type==="detail"&&I.jsx(XN,{attractionId:n.attractionId,countryId:n.countryId,onBack:o})]})}kT.createRoot(document.getElementById("root")).render(I.jsx(JN,{}));
